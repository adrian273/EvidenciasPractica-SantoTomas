<?php

 class Task extends MY_Controller {

	function Task () {
		
		parent::MY_Controller();
		$this->tpl->assign("resource_path", "task/task");
		$this->tpl->assign(array("tab_page" => true));
		
	}

	function index () {

		$this->session->unset_userdata('task_return');
    
    /**
          #  Get visit open settings. Will it open in new window or not.
          */          
    $user_id = $this->session->userdata('user_id');
    $user_info = $this->usermdl->getById($user_id);    
		$this->tpl->assign('open_new_window', $user_info->open_new_window);

    $pending_visit_arr = array('Returned');
    $visit_status_id = array();
    $visit_status_id[] = 5;            
    $returned_visits = $this->visitlogmdl->getVisitTaskList($this->getUsAgyId(), null, null, null, $visit_status_id, null, null, null, date("Y-m-d"));
    $this->tpl->assign('no_returned_visits', sizeof($returned_visits));
    
		$this->tpl->assign('visit_status_list', $this->parametermdl->getByType(83));
		$this->tpl->assign('visit_type_list', $this->visittypemdl->get(false));
		$this->tpl->assign('load_pending_status', 0);
		$this->tpl->assign('visit_status_type', 'visit_status_id_p_v');

    $agency_list = $this->agencycontractormdl->getByContractor($this->getAgencyId(), null, false);
    $this->tpl->assign("agency_list", $agency_list);  

    $usAgy = $this->usagymdl->getByUsAgyId($this->getUsAgyId());
    $this->tpl->assign("default_pat_filter_agency", $usAgy->default_pat_filter_agency);  

		$this->tpl->assign(array("no_grid_buttons" => true));

    $this->tpl->assign('additional_buttons', array('Print'=>'printSelected()'));
    
    /*
    // LOAD MODELS
		$this->load->model('visitlog/task/mparams');
 		//
    // MODAL FILTER
 		// GET info para selects
		$this->tpl->assign("status_list" , $this->mparams->get_pacient_status_list() );
		$this->tpl->assign("visit_type_list" , $this->mparams->get_visit_type_list( true ) );
		$this->tpl->assign("visit_status_list" , $this->mparams->get_visit_status_list( false ) );
		$this->tpl->assign("clinician_list" , $this->mparams->get_clinician_list( null, false ) );
		*/
    
		$this->tpl->assign_include("filter_tpl", "task/my_gfilter");
    //$this->tpl->assign_include("script_tpl", "visitlog/task_script");
		$this->tpl->assign_include("dynamic_tpl", "parts/gbase");
		$this->tpl->view("parts/ibase");
	
	}	
	
	
	function grid () {
		
    // if ($this->input->post('agency_id')) {
      $usAgy = $this->usagymdl->getByUsAgyId($this->getUsAgyId());
      if ($usAgy->default_pat_filter_agency != $this->input->post('agency_id')) {
        $this->usagymdl->updateFlex($this->getUsAgyId(), 'default_pat_filter_agency', $this->input->post('agency_id'));
      }
    // }

		$gdata = array();
    
		if ($this->input->post('load_pending_status') == 1) {
			$visit_status_id = array(1, 2, 3, 5, 6, 8);
      		$gdata = $this->visitlogmdl->getVisitTaskList($this->getUsAgyId(), null, null, $this->input->post('visit_type_id'), $visit_status_id, $this->input->post('keyword'));
      
		}elseif( $this->input->post('modal') == 1 )
		{
      		$gdata = $this->visitlogmdl->report_001($this->getAgencyId());
      //print_r($gdata);exit;
		} else {
      $visit_status_list = $this->parametermdl->getByType(83);  
      //$visit_status_type = isset($this->input->post('visit_status_type')) ? $this->input->post('visit_status_type') : 'visit_status_id_p_v';
      
      $visit_status_type = $this->input->post('visit_status_type');
      $visit_status_id = array();
        switch($visit_status_type){          
          case 'visit_status_id_all':            
            foreach($visit_status_list as $key=>$val){             
              $visit_status_id[] = $key;
            }
            
            $gdata = $this->visitlogmdl->getVisitTaskList($this->getUsAgyId(), null, null, $this->input->post('visit_type_id'), $visit_status_id, $this->input->post('keyword'));
            break;
          case 'visit_status_id_n_d':
            // Will contain records with status: �Scheduled� WHERE the visit date is Greater than today�s� date.
            // $from_date = "Y-m-d"
            $not_yet_due_arr = array('Scheduled');
            $visit_status_id[] = 1;
            /*foreach($visit_status_list as $key=>$val){
              if(in_array($val, $not_yet_due_arr))
              $visit_status_id[] = $key;
            }
            */
            $gdata = $this->visitlogmdl->getVisitTaskList($this->getUsAgyId(), null, null, $this->input->post('visit_type_id'), $visit_status_id, $this->input->post('keyword'), null, date("Y-m-d"));            
            break;
          case 'visit_status_id_p_a':
            // Will contain records with status: �Pending Approval� and �Pending Company Approval�.
            $pending_approval = array('Pending Approval', 'Pending Company Approval');
            $visit_status_id[] = 3;
            $visit_status_id[] = 8;
            /*foreach($visit_status_list as $key=>$val){
              if(in_array($val, $pending_approval))
              $visit_status_id[] = $key;
            }
            */
            $gdata = $this->visitlogmdl->getVisitTaskList($this->getUsAgyId(), null, null, $this->input->post('visit_type_id'), $visit_status_id, $this->input->post('keyword'));            
            break;            
          case 'visit_status_id_c':
            // Will contain records with status: �Approved�. This list should display in descending order by Visit Date.
            $completed = array('Approved');            
            $visit_status_id[] = 4;
            /*foreach($visit_status_list as $key=>$val){
              if(in_array($val, $completed))
              $visit_status_id[] = $key;
            }
            */
            $gdata = $this->visitlogmdl->getVisitTaskList($this->getUsAgyId(), null, null, $this->input->post('visit_type_id'), $visit_status_id, $this->input->post('keyword'), null, null, null, 'visit_date_time', true);
            
            break;            
          case 'visit_status_id_m_v':
            $gdata = $this->visitlogmdl->getVisitTaskList($this->getUsAgyId(), null, null, 320 , null, $this->input->post('keyword'), null, null);
            
            break;
          case 'visit_status_id_p_v':  //
            /**
                            Will contain records with status: �Scheduled�, �In-Progress� and �Returned� WHERE the visit date is less or equal than today�s� date. This is the default option when displaying this list.
                            **/
            $pending_visit_arr = array('Scheduled','In Progress');
            $visit_status_id[] = 1;
            $visit_status_id[] = 2;
            /*foreach($visit_status_list as $key=>$val){
              if(in_array($val, $pending_visit_arr))
              $visit_status_id[] = $key;
            }
            */
            $gdata = $this->visitlogmdl->getVisitTaskList($this->getUsAgyId(), null, null, $this->input->post('visit_type_id'), $visit_status_id, $this->input->post('keyword'), null, null, date("Y-m-d"));

            break;  
          case 'visit_status_id_r_v':  //
            /**
                            Will contain records with status: �Scheduled�, �In-Progress� and �Returned� WHERE the visit date is less or equal than today�s� date. This is the default option when displaying this list.
                            **/
            $pending_visit_arr = array('Returned');
            $visit_status_id[] = 5;
            /*foreach($visit_status_list as $key=>$val){
              if(in_array($val, $pending_visit_arr))
              $visit_status_id[] = $key;
            }
            */
            $gdata = $this->visitlogmdl->getVisitTaskList($this->getUsAgyId(), null, null, $this->input->post('visit_type_id'), $visit_status_id, $this->input->post('keyword'), null, null, date("Y-m-d"));

            break;    
          default:
            $visit_status_id = array(1, 2, 3, 5, 6, 8);
            
            $gdata = $this->visitlogmdl->getVisitTaskList($this->getUsAgyId(), null, date("Y-m-d"), $this->input->post('visit_type_id'), $visit_status_id, $this->input->post('keyword'), null, null, date("Y-m-d"));
        }
      
      
			//$visit_status_id = array($this->input->post('visit_status_id'));
		}
		//echo "<pre>"; print_r($gdata); echo "</pre>";
		
    //getVisitTaskList ( $user_id=null, $user_approver=null, $from_date=null, $visit_type_id=null, $visit_status_id=null, $keyword=null, $agency_id=null , $to_date=null)
		$this->xml->root_name = "rows";
		$document = $this->xml->Document();
		
		$head = $this->xml->Element("head");
		//$head->append($this->xml->Element("column", "width=3;type=img;align=center", ""));
	    if (count($gdata)) {
	    	$head->append($this->xml->Element("column", "width=3;type=ch", " "));
	    }
		// $head->append($this->xml->Element("column", "width=3;type=ro;align=center", ""));
		$head->append($this->xml->Element("column", "width=7", "Date"));
		//$head->append($this->xml->Element("column", "width=7", "Time In-Out"));		
		$head->append($this->xml->Element("column", "width=10;type=link", "Time"));		
		$head->append($this->xml->Element("column", "width=7;type=ro", "Notes "));
		$head->append($this->xml->Element("column", "width=*", "Patient Name"));
        $head->append($this->xml->Element("column", "width=10;type=link", "Patient Phone"));
		$head->append($this->xml->Element("column", "width=*",  "Visit/Task Name"));
    $head->append($this->xml->Element("column", "width=6;align=center",  "Pt Sign"));
    $head->append($this->xml->Element("column", "width=10",  "Status"));
    //$head->append($this->xml->Element("column", "width=15",  "Case Manager"));
		$head->append($this->xml->Element("column", "width=14",  "Agency Name"));
		$head->append($this->xml->Element("column", "width=5;align=center;type=link", "Actions"));
		$head->append($this->xml->Element("column", "width=8;align=center;type=link", "#cspan"));
		$head->append($this->xml->Element("settings", null, $this->xml->Element("colwidth", null, "%")));
		$document->append($head);

   		$this->load->helper('general');
		if (count($gdata)) {
			
			$to_count = array();
			// $cms_count = array();
			foreach ($gdata as $visit) {				
        
				$cm = $this->usagymdl->getByUsAgyId($visit->case_manager_user_id);
				$asigned_by = $this->usagymdl->getByUsAgyId($visit->visit_asigned_by);
				
				$visti_timespan = mysql_to_unix($visit->visit_date_time);
				
				$cell = $this->xml->Element("row", "id=" . $visit->visit_log_id);
				$cell->append($this->xml->Element("cell", null, "0"));
        
				$cell->append($this->xml->Element("userdata", 'name=date_diff', (mysql_to_unix(standard_date(mysql_to_unix($visit->visit_date_time), 'MYSQL_NOTIME')) - mysql_to_unix(date('Y-m-d')))));

				/*if (!isset($cms_count[$visit->cms485_id])) {
					$cms_count[$visit->cms485_id] = $this->visitlogmdl->getDisciplineQuantity($visit->cms485_id);
				}
				
				if ($visit->tab_102_prim_insura_type == 1 && isset($this->app->eval_config_number_plain) AND is_array($this->app->eval_config_number_plain) AND isset($this->app->eval_config_number_plain[count($cms_count[$visit->cms485_id])]) AND in_array($visit->visit_log_number, $this->app->eval_config_number_plain[count($cms_count[$visit->cms485_id])]) && $this->app->validateCalendar($visit->cms485_id) == false) {
          
					$cell->append($this->xml->Element("userdata", 'name=visit_validated', 'false'));
          
          $helpCellStr = '<![CDATA[';
          
          $Tipstr = '13th - 19th visit rule calendar problem';
          $Tipstr = str_replace("\n","",$Tipstr );
          $Tipstr = str_replace("\r","",$Tipstr );
          $Tipstr = str_replace("'","\\'",$Tipstr );
          
          $helpCellStr.= '<a href="#" onmouseover="Tip(\''.$Tipstr.'\', OFFSETY, 18)"><img src="'.$this->config->config["base_url"].'style/images/exclamation.gif" border="0" /></a>';            
          $helpCellStr .= ']]>';  
          
          //$exclamationCellStr = '13th - 19th visit rule calendar problem';          
          
					$cell->append($this->xml->Element("cell", null, $helpCellStr));
					//$cell->append($this->xml->Element("cell", null, $this->config->config["base_url"] . "style/images/exclamation.gif"));
				} else {
					$cell->append($this->xml->Element("userdata", 'name=visit_validated', 'true'));
          
          $helpCellStr = '<![CDATA[';
          
          $helpCellStr.= '<a href="#"><img src="'.$this->config->config["base_url"].'style/images/no_img.gif" border="0" /></a>';            
          $helpCellStr .= ']]>'; 
          
					$cell->append($this->xml->Element("cell", null, $helpCellStr));
					//$cell->append($this->xml->Element("cell", null, $this->config->config["base_url"] . "style/images/no_img.gif"));
				}
				*/
        // Date column
				$cell->append($this->xml->Element("cell", null, standard_date(mysql_to_unix($visit->visit_date_time), 'VIS_LIST')));
				
        // visit time  column
        if($visit->visit_status_id==1){
        $cell->append($this->xml->Element("cell", null, date("g:i a", strtotime($visit->visit_date_time))."^javascript:edit_schedule(" . $visit->visit_log_id . ")" ));
        }else if($visit->visited_time_in != "" AND $visit->visited_time_out != ""){
          $cell->append($this->xml->Element("cell", null, date("g:i a", strtotime($visit->visited_time_in)) . " - " . date("g:i a", strtotime($visit->visited_time_out))."^javascript:edit_timein(" . $visit->visit_log_id . ")" ));
          
        }else  
          $cell->append($this->xml->Element("cell", null, date("g:i a", strtotime($visit->visit_date_time))."^javascript:edit_timein(" . $visit->visit_log_id . ")" ));
        
        
        // visit time in-out column
        /*if($visit->visited_time_in != "" AND $visit->visited_time_out != ""){
          $cell->append($this->xml->Element("cell", null, date("g:i a", strtotime($visit->visited_time_in)) . " - " . date("g:i a", strtotime($visit->visited_time_out))));
        }
        else
          $cell->append($this->xml->Element("cell", null, ''));
        */
        
        // comments 
        $comments = $this->episodemdl->getCommentById($visit->cms485_id);
        $comments = str_replace("\n","",$comments );
        $comments = str_replace("\r","",$comments );
        $comments = str_replace("'","\\'",$comments );
        $commentsCellStr = '<![CDATA[';
        if($comments!="")
          $commentsCellStr.= '<a href="javascript://" onclick="(isIE()?event:arguments[0]).cancelBubble = true; Tip(\''.$comments.'\', OFFSETY, 18);"><img src="'.$this->config->config["base_url"].'style/images/icon_note.jpg" border="0" /></a>&nbsp;';
          
        if($visit->visit_comments != ""){
          $comments = $visit->visit_comments;
          $comments = str_replace("\n","",$comments );
          $comments = str_replace("\r","",$comments );
          $comments = str_replace("'","\\'",$comments );
          
         $commentsCellStr.= '<a href="javascript://" onclick="(isIE()?event:arguments[0]).cancelBubble = true; Tip(\''.$visit->visit_comments.'\', OFFSETY, 5);"><img src="'.$this->config->config["base_url"].'style/images/icon_note_yellow.png" border="0" /></a>';
        }
        
        if($visit->address != ""){
          $comments = $visit->visit_comments;
          $visit->address = str_replace("\n","",$visit->address );
          $visit->address = str_replace("\r","",$visit->address );
          
          $commentsCellStr.= '&nbsp;<a onclick="(isIE()?event:arguments[0]).cancelBubble = true;" href="http://maps.google.com/?q='.$visit->address.' '.$visit->zip1.'" target="_blank"><img src="'.$this->config->config["base_url"].'style/images/google_maps_icon.jpg" width="16" border="0" /></a>';
        }
    		
        $commentsCellStr .= ']]>';  
				$cell->append($this->xml->Element("cell", null, $commentsCellStr));
        
        
        // patient name column
				$cell->append($this->xml->Element("cell", null, $visit->last_name. " " .$visit->first_name ));
				
        // patient phone
        //$visit->phone_cell = '1-847-555-5555';
        if($visit->phone_cell != ""){
          $cell->append($this->xml->Element("cell", null, $visit->phone_cell.'^tel:'.$visit->phone_cell));
          //$cell->append($this->xml->Element("cell", null, '<a href="tel:'.$visit->phone_cell.'">'.$visit->phone_cell.'</a>'));
          //'<a href="tel:'.$visit->phone_cell.'">'.$visit->phone_cell.'</a>';
        }
        else if($visit->phone_home != "")
				$cell->append($this->xml->Element("cell", null, $visit->phone_home.'^tel:'.$visit->phone_home));
        else
				$cell->append($this->xml->Element("cell", null, ''));
        $type_quar_rpt = "";
        /*if($visit->visit_type_id == 104) {
          $month = date("m",strtotime($visit->visit_date_time));
          switch ($month) {
              case "01":
              case "02":
              case "03":
                  $type_quar_rpt = "Q1";
                  break;
              case "04":
              case "05":
              case "06":
                  $type_quar_rpt = "Q2";
                  break;
              case "07":
              case "08":
              case "09":
                  $type_quar_rpt = "Q3";
                  break;
              case "10":
              case "11":
              case "12":
                  $type_quar_rpt = "Q4";
                  break;
              default:
                  break;
          }
        }*/
		
		$qstr = calculate_q_text($visit);
		
        // Visit / task name column
		if ($visit->visit_log_number) {
			$cell->append($this->xml->Element("cell", null, "(" . $visit->visit_log_number . ") " . $visit->visit_description.$qstr));
		} else {
			$cell->append($this->xml->Element("cell", null, $visit->visit_description.$qstr));
		}
				

        $sigCellStr = '<![CDATA[';

        // display only for billable visits
      if(in_array($visit->visit_type_id, array(10, 12, 40, 42, 60, 62, 22, 113, 114, 115, 116, 117, 118, 119)) AND $visit->billable_YN==1) {
          // add the edit icon for a popup to capture the signature         
          if($visit->signature == "") {
            $not_signed = "<span style='color: red; background: yellow; ' title='Scheduled Visit, Not signed yet'>&nbsp;&nbsp;S&nbsp;&nbsp;</span>";
            if ($visit->visit_status_id != 1) {
              $not_signed = "<span style='color: red; background: yellow; ' title='Not signed yet'>&nbsp;&nbsp;!&nbsp;&nbsp;</span>";
            }
            $sigCellStr.= '<a href="javascript://" onclick="(isIE()?event:arguments[0]).cancelBubble = true; capture_signature(\'' . $visit->visit_log_id . '\')"> '.$not_signed.' </a>';
          } else {
            
            $sigCellStr.= '<a href="javascript://" onclick="(isIE()?event:arguments[0]).cancelBubble = true; capture_signature(\'' . $visit->visit_log_id . '\')"><img src="'.$this->config->config["base_url"].'style/images/drop-yes.gif" width="16" border="0" /></a>';
          }       
        }
        $sigCellStr .= ']]>';  
      
        $cell->append($this->xml->Element("cell", null, $sigCellStr));

        // Status column
		if ($visit->visit_status_id == 1 || $visit->visit_status_id == 3 || $visit->visit_status_id == 5 || $visit->visit_status_id == 6) {
			
			$cell->append($this->xml->Element("cell", null, $visit->tab_description));
			
		} else {			
			$cell->append($this->xml->Element("cell", null, $visit->tab_description));	
		}

        $patient      = $this->patientmdl->getById($visit->patient_id);
        $agency       = $this->agencymdl->getByAgencyId($patient->agency_id);
        
        // Agency name column
        $cell->append($this->xml->Element("cell", null, $agency->agency_name));
        
				
				//$cell->append($this->xml->Element("cell", null, @$cm->first_name . " " . @$cm->last_name));
        $canDoMissedVisit = false;
        if ($visit->visit_user_id == $this->getUsAgyId()) {
          if ($visit->visit_status_id == 1 OR $visit->visit_status_id == 2) {
            $canDoMissedVisit = true;
          }
        } else if (   $this->getUserProfileId() == 1 || $this->getUserProfileId() == 3 ) {
          if ($visit->visit_status_id == 1) {
            $canDoMissedVisit = true;
          }
        }

				if ($canDoMissedVisit) {
					$cell->append($this->xml->Element("cell", null, "Missed Visit^javascript:confirmMissedVisit(" . $visit->visit_log_id . ")"));
				} else {
					$cell->append($this->xml->Element("cell", null, null));
				}
        //$cell->append($this->xml->Element("cell", null, "Visit Log^" . $this->config->config['index_url'] . "patient/mypatient/edit/" . $visit->patient_id . "/"));
				$cell->append($this->xml->Element("cell", null, "Calendar^javascript:open_visit_log(" . $visit->patient_id . ", ".$visit->cms485_id.")"));
				$document->append($cell);
				
			}
		
		} else {
			
			$cell = $this->xml->Element("row");
			$cell->append($this->xml->Element("cell", null, "No data to display"));
			$document->append($cell);
			
		}

	}
		
	
	
	function capture_signature($visit_log_id) {
		//echo FCPATH;
		$rules = array (
			'signature' 	=> 'required'
		);		
		$this->validation->set_rules($rules);
		$this->tpl->assign("visit_log_id", $visit_log_id);	
		
		$visit_log_array = $this->visitlogmdl->getById($visit_log_id);
		if ($this->validation->run() == FALSE) {
			// get the image name based on the visit_log_id
			//echo "<pre>"; print_r($visit_log_array); echo "</pre>";
			$this->tpl->assign("visit_log_array", $visit_log_array);	
			$this->tpl->assign_include("dynamic_tpl", "task/capture_signature");
			$this->tpl->view("task/ibase", $this->lang->language);	
		} else {
			if (!is_null($this->input->post('signature'))) {
				$signature = $this->input->post('signature');
				$temp_array = explode(",", $signature);
				$encoded_image = $temp_array[1];
				$decoded_image = base64_decode($encoded_image);
				$signature_file_name = "signature_" . $visit_log_id . ".jpg";
				$upload_path = str_replace("\\","/", FCPATH) . "upload/signatures/";
				
				file_put_contents($upload_path . $signature_file_name, $decoded_image);
				$this->visitlogmdl->updateSignature($visit_log_id, $signature_file_name);

        // open 3625 patient signature if Pt gov program is CLASS
        $patient = $this->patientmdl->getById($visit_log_array->patient_id); 
        if($patient->gov_program == 'CLASS' AND in_array($visit_log_array->visit_type_id, array(113, 114, 115, 116, 117, 118, 119)) ){
          echo 'Signature has been captured and saved successfully. <button type="button" class="edit-sign button close" id="success_btn" onclick="parent.capture_3625_signature('.$visit_log_id.');parent.dhxWins.window(\'w2\').close();">Capture Signature of Form 3625</button>';
          echo '<script>
                  setTimeout(function(){
                      parent.capture_3625_signature('.$visit_log_id.');
                      parent.dhxWins.window(\'w2\').close();
                    }, 1000);
                </script>';
        } else {          
          echo 'Signature has been captured and saved successfully. <button type="button" class="edit-sign button close" id="success_btn" onclick="parent.loadGrid();parent.dhxWins.window(\'w2\').close();">Close</button>';
          echo '<script>var button = document.getElementById("success_btn");
          button.click()</script>';
        }
			}
		}
	
	}	

  function capture_3625_signature($visit_log_id){
    $visit_log = $this->visitlogmdl->getById($visit_log_id);
    $patient = $this->patientmdl->getById($visit_log->patient_id); 
    $visit_type = $this->visittypemdl->getById($visit_log->visit_type_id);

    if($patient->gov_program == 'CLASS' AND in_array($visit_log->visit_type_id, array(113, 114, 115, 116, 117, 118, 119)) ){
        $config =& get_config();
        header("Location: " . $config["index_url"] . "task/" . $visit_type->visit_program . "/capture_pt_3625_signature/" . $visit_log_id."/task:task");
    } else {
      exit('Signature of Form 3625 doesn\'t exist for this visit.');
    }
  }

	function missed ( $visit_log_id ) {
		$visitlog = $this->visitlogmdl->getById($visit_log_id);
    $canDoMissedVisit = false;
    if ($visitlog->visit_user_id == $this->getUsAgyId()) {
      if ($visitlog->visit_status_id == 1 OR $visitlog->visit_status_id == 2) {
        $canDoMissedVisit = true;
      }
    } else if (   $this->getUserProfileId() == 1 || $this->getUserProfileId() == 3 ) {
      if ($visitlog->visit_status_id == 1) {
        $canDoMissedVisit = true;
      }
    }
    
    if (!$canDoMissedVisit) {
      exit("You can't make this a Missed Visit!");
    }

    $visittype = $this->visittypemdl->getById(320);
    
    $this->visitlogmdl->updateComments($visit_log_id, $this->input->post('comments'));
    $this->visitlogmdl->updateStatus($visit_log_id, 6);
    $this->visitlogmdl->updateFlex($visit_log_id, 'visit_type_id', 320);
    $this->visitlogmdl->updateFlex($visit_log_id, 'billable_YN', ($visittype->billable_yn == 'Y' ? 1 : 0));
    $this->visitlogmdl->updateFlex($visit_log_id, 'visited_time_in', '00:00:00' );
    $this->visitlogmdl->updateFlex($visit_log_id, 'visited_time_out', '00:00:00' );

		$this->app->updateEpisodeVisitNumber($visitlog->cms485_id); // reordering visit number

    $previousEvs = array();
    switch ($visitlog->visit_program) {
      ## need to copy 4 fields only from PT EV
      case 'ptev':
      case 'ptpn':
        $this->load->model('ptevmdl');
        $previousEvs = $this->ptevmdl->getPrevious(null, @$visitlog->visit_date_time, @$visitlog->cms485_id);
        $visit_type_mdl = $visitlog->visit_program.'mdl';
        $this->load->model($visit_type_mdl);
        if (count($previousEvs)) {
          $previousEv = $previousEvs[count($previousEvs) - 1];
          $need_to_import = array('primary_diag','secondary_diag','primary_diag_date','secondary_diag_date');          
          
          $visit_program = $this->$visit_type_mdl->get($visit_log_id);
          if (count($visit_program)) {
            foreach ($visit_program as $k => $v) {              
                $this->$visit_type_mdl-> $k = $v;
            }
            foreach($previousEv as $k=>$v){
              if(in_array($k,$need_to_import) AND property_exists($this->ptevmdl, $k))
              $this->$visit_type_mdl->$k   = $v;
            }
            $this->$visit_type_mdl->visit_log_id   = $visit_log_id;
            $this->$visit_type_mdl->update($visit_log_id);
          } else {
            foreach($previousEv as $k=>$v){
              if(in_array($k,$need_to_import) AND property_exists($this->ptevmdl, $k))
              $this->$visit_type_mdl->$k   = $v;
            }
            $this->$visit_type_mdl->visit_log_id   = $visit_log_id;
            $this->$visit_type_mdl->insert($visit_log_id);
          }
        }

        break;

      ## need to copy 4 fields only from OT EV
      case 'otev':
      case 'otpn':
        $this->load->model('otevmdl');
        $previousEvs = $this->otevmdl->getPrevious(null, @$visitlog->visit_date_time, @$visitlog->cms485_id);
        $visit_type_mdl = $visitlog->visit_program.'mdl';
        $this->load->model($visit_type_mdl);
        if (count($previousEvs)) {
          $previousEv = $previousEvs[count($previousEvs) - 1];
          $need_to_import = array('primary_diag','secondary_diag','primary_diag_date','secondary_diag_date');          
          
          $visit_program = $this->$visit_type_mdl->get($visit_log_id);
          if (count($visit_program)) {
            foreach($visit_program as $k=>$v){              
              $this->$visit_type_mdl->$k   = $v;
            }
            foreach($previousEv as $k=>$v){
              if(in_array($k,$need_to_import) AND property_exists($this->otevmdl, $k))
              $this->$visit_type_mdl->$k   = $v;
            }
            $this->$visit_type_mdl->visit_log_id   = $visit_log_id;
            $this->$visit_type_mdl->update($visit_log_id);
          } else {
            foreach($previousEv as $k=>$v){
              if(in_array($k,$need_to_import) AND property_exists($this->otevmdl, $k))
              $this->$visit_type_mdl->$k   = $v;
            }
            $this->$visit_type_mdl->visit_log_id   = $visit_log_id;
            $this->$visit_type_mdl->insert($visit_log_id);
          }
        }        
        break;

      ## need to copy 4 fields only from ST EV
      case 'stev':
      case 'stpn':
        $this->load->model('stevmdl');
        $previousEvs = $this->stevmdl->getPrevious(null, @$visitlog->visit_date_time, @$visitlog->cms485_id);
        $visit_type_mdl = $visitlog->visit_program.'mdl';
        $this->load->model($visit_type_mdl);
        if (count($previousEvs)) {
          $previousEv = $previousEvs[count($previousEvs) - 1];
          $need_to_import = array('primary_diag','secondary_diag','primary_diag_date','secondary_diag_date');          
          
          $visit_program = $this->$visit_type_mdl->get($visit_log_id);
          if (count($visit_program)) {
            foreach($visit_program as $k=>$v){              
              $this->$visit_type_mdl->$k   = $v;
            }
            foreach($previousEv as $k=>$v){
              if(in_array($k,$need_to_import) AND property_exists($this->stevmdl, $k))
              $this->$visit_type_mdl->$k   = $v;
            }
            $this->$visit_type_mdl->visit_log_id   = $visit_log_id;
            $this->$visit_type_mdl->update($visit_log_id);
          } else {
            foreach($previousEv as $k=>$v){
              if(in_array($k,$need_to_import) AND property_exists($this->stevmdl, $k))
              $this->$visit_type_mdl->$k   = $v;
            }
            $this->$visit_type_mdl->visit_log_id   = $visit_log_id;
            $this->$visit_type_mdl->insert($visit_log_id);
          }
        }        
        break;
      default:
        # code...
        break;
    }

		$this->edit ($visit_log_id);			
			
	}
	
	function edit ( $visit_log_id, $window='self' ) {
	
		// This Visit is not yet Due
    $this->load->helper('url');
    
		$config =& get_config();
		$visit_log = $this->visitlogmdl->getById($visit_log_id);
		$visit_type = $this->visittypemdl->getById($visit_log->visit_type_id);
		
		if ($visit_type->visit_program == null) {
      // Open If it is a communication NOte
      if ($visit_log->visit_type_id == 350){
        $comm_note = $this->messagemdl->getByVisitId($visit_log_id);
        if (!empty($comm_note)) {
          header("Location: " . $config["index_url"] . "mail/read/msg/" . $comm_note->msg_id );
        } else {
          show_404();
          return;
        }
      }

      $this->load->model('oasis_model');
      if(isset($_POST['submit']))
  		{
        $oasis = $this->oasis_model->getOasisData($visit_log_id);
        if(empty($oasis)){
    			unset($_POST['submit']);
          
          foreach($_POST as $key=>$val){    
            if(strrpos($key, "_DT")!==false){
              if(!is_null($val) AND strlen($val)>0 AND strpos($val,"-")!==FALSE){                              
                list($M,$D,$Y) = explode("-",$val);
                if($Y AND $M AND $D)
                $_POST[$key] = $Y."-".$M."-".$D;              
              }
            }
          }
          
          $_POST['visit_log_id'] = $visit_log_id;
    			$this->oasis_model->insertData($_POST);
        }else{
          unset($_POST['submit']);
          foreach($_POST as $key=>$val){    
            if(strrpos($key, "_DT")!==false){
              if(!is_null($val) AND strlen($val)>0 AND strpos($val,"-")!==FALSE){                              
                list($M,$D,$Y) = explode("-",$val);
                if($Y AND $M AND $D)
                $_POST[$key] = $Y."-".$M."-".$D;              
              }
            }
          }
          if(!isset($_POST['M0102_PHYSN_ORDRD_SOCROC_DT_NA']))
          $_POST['M0102_PHYSN_ORDRD_SOCROC_DT_NA'] = '';
          
          $_POST['visit_log_id'] = $visit_log_id;
    			$this->oasis_model->updateData($_POST, $visit_log_id);
        }
          			
        //$task_return = $this->session->userdata('task_return');		        
        //header("Location: " . $this->config->config["index_url"] . $this->session->userdata('task_return'));
        //echo $this->config->config["index_url"].$task_return;exit;
        header("Location: " . $this->config->config["index_url"] . $this->session->userdata('task_return'));
        return;
  		}else{
        //$task_return = $this->session->userdata('task_return');		        
        //echo $this->config->config["index_url"].$task_return;exit;
        $oasis = $this->oasis_model->getOasisData($visit_log_id);
        if(sizeof($oasis)>0){
          $oasis = $oasis[0];
          foreach($oasis as $key=>$val){    
            if(strrpos($key, "_DT")!==false){
              if(!is_null($val) AND strlen($val)>0 AND strpos($val,"-")!==FALSE){                              
                list($Y,$M,$D) = explode("-",$val);
                if($Y AND $M AND $D)
                $oasis[$key] = $M."-".$D."-".$Y;              
              }
            }
          }
        }
        
        $data['oasis'] = $oasis;
        
        $data['visit_log_id'] = $visit_log_id;
        $data['cancel_url'] = $this->config->config["index_url"] . $this->session->userdata('task_return');
        $this->load->view('task/documents/oasis_c_form',$data);	

        //$this->tpl->assign_include("dynamic_tpl", "mail/comnotes/compose_form");
        //$this->tpl->view("parts/ibase", $this->lang->language);
    
  			//echo "Visit Type Form not implemented...";
  			return false;
      }
		}
		
    // open visit type "Event"
    if ($visit_log->visit_type_id == 400){
      if($window=='nw'){
        header("Location: " . $config["index_url"] . "task/" . $visit_type->visit_program . "/index/" . $visit_log_id."/task/nw");
      }
      else{
        header("Location: " . $config["index_url"] . "task/" . $visit_type->visit_program . "/index/" . $visit_log_id);
      }
    }
		
    if ($this->app->validateVisit($visit_log_id) == false) {		
      if($window=='nw'){
        $this->tpl->assign('continue_url', $config["index_url"] . "task/" . $visit_type->visit_program . "/index/" . $visit_log_id."/task/nw" );        
        $this->tpl->assign('cancel_action', 'window.close();window.opener.loadGrid();' );        
      }
      else{
        $this->tpl->assign('continue_url', $config["index_url"] . "task/" . $visit_type->visit_program . "/index/" . $visit_log_id );                
        $this->tpl->assign('cancel_action', 'history.go(-1);' );        
      }
      
      $this->tpl->assign('popupmessage', "Therapy Schedule not complying with 13th and 19th visit rules. Please review and correct." );                
      $this->tpl->assign('popuptitle', "Warning" );                
      $this->tpl->assign_include("dynamic_tpl", "task/documents/pre_opendocument");
  		$this->tpl->view("parts/ibase", $this->lang->language);      
			return false;
		}
    
		if($window=='nw'){
      header("Location: " . $config["index_url"] . "task/" . $visit_type->visit_program . "/index/" . $visit_log_id."/task/nw");
    }
    else{
      header("Location: " . $config["index_url"] . "task/" . $visit_type->visit_program . "/index/" . $visit_log_id);
    }
		
	}
	
  function edit_archive_note ( $visit_log_id, $window='self' ) {
  
    // This Visit is not yet Due
    $this->load->helper('url');
    
    $config =& get_config();
    $visit_log = $this->visitlogmdl->getByIdArchive($visit_log_id);
    $visit_type = $this->visittypemdl->getById($visit_log->visit_type_id);
    
    /*if ($visit_type->visit_program == null) {
      
      $this->load->model('oasis_model');
      if(isset($_POST['submit']))
      {
        $oasis = $this->oasis_model->getOasisData($visit_log_id);
        if(empty($oasis)){
          unset($_POST['submit']);
          
          foreach($_POST as $key=>$val){    
            if(strrpos($key, "_DT")!==false){
              if(!is_null($val) AND strlen($val)>0 AND strpos($val,"-")!==FALSE){                              
                list($M,$D,$Y) = explode("-",$val);
                if($Y AND $M AND $D)
                $_POST[$key] = $Y."-".$M."-".$D;              
              }
            }
          }
          
          $_POST['visit_log_id'] = $visit_log_id;
          $this->oasis_model->insertData($_POST);
        }else{
          unset($_POST['submit']);
          foreach($_POST as $key=>$val){    
            if(strrpos($key, "_DT")!==false){
              if(!is_null($val) AND strlen($val)>0 AND strpos($val,"-")!==FALSE){                              
                list($M,$D,$Y) = explode("-",$val);
                if($Y AND $M AND $D)
                $_POST[$key] = $Y."-".$M."-".$D;              
              }
            }
          }
          if(!isset($_POST['M0102_PHYSN_ORDRD_SOCROC_DT_NA']))
          $_POST['M0102_PHYSN_ORDRD_SOCROC_DT_NA'] = '';
          
          $_POST['visit_log_id'] = $visit_log_id;
          $this->oasis_model->updateData($_POST, $visit_log_id);
        }
                
        //$task_return = $this->session->userdata('task_return');           
        //header("Location: " . $this->config->config["index_url"] . $this->session->userdata('task_return'));
        //echo $this->config->config["index_url"].$task_return;exit;
        header("Location: " . $this->config->config["index_url"] . $this->session->userdata('task_return'));
        return;
      }else{
        //$task_return = $this->session->userdata('task_return');           
        //echo $this->config->config["index_url"].$task_return;exit;
        $oasis = $this->oasis_model->getOasisData($visit_log_id);
        if(sizeof($oasis)>0){
          $oasis = $oasis[0];
          foreach($oasis as $key=>$val){    
            if(strrpos($key, "_DT")!==false){
              if(!is_null($val) AND strlen($val)>0 AND strpos($val,"-")!==FALSE){                              
                list($Y,$M,$D) = explode("-",$val);
                if($Y AND $M AND $D)
                $oasis[$key] = $M."-".$D."-".$Y;              
              }
            }
          }
        }
        
        $data['oasis'] = $oasis;
        
        $data['visit_log_id'] = $visit_log_id;
        $data['cancel_url'] = $this->config->config["index_url"] . $this->session->userdata('task_return');
        $this->load->view('task/documents/oasis_c_form',$data); 

        //$this->tpl->assign_include("dynamic_tpl", "mail/comnotes/compose_form");
        //$this->tpl->view("parts/ibase", $this->lang->language);
    
        //echo "Visit Type Form not implemented...";
        return false;
      }
    }*/

    if ($visit_type->visit_program ) {
      if ($this->app->validateVisitArchive($visit_log_id) == false) {    
        if($window=='nw'){
          $this->tpl->assign('continue_url', $config["index_url"] . "task/" . $visit_type->visit_program . "/index_archive/" . $visit_log_id."/task/nw" );        
          $this->tpl->assign('cancel_action', 'window.close();window.opener.loadGrid();' );        
        }
        else{
          $this->tpl->assign('continue_url', $config["index_url"] . "task/" . $visit_type->visit_program . "/index_archive/" . $visit_log_id );                
          $this->tpl->assign('cancel_action', 'history.go(-1);' );        
        }
        
        $this->tpl->assign('popupmessage', "Therapy Schedule not complying with 13th and 19th visit rules. Please review and correct." );                
        $this->tpl->assign('popuptitle', "Warning" );                
        $this->tpl->assign_include("dynamic_tpl", "task/documents/pre_opendocument");
        $this->tpl->view("parts/ibase", $this->lang->language);      
        return false;
      }
      
      if($window=='nw'){
        header("Location: " . $config["index_url"] . "task/" . $visit_type->visit_program . "/index_archive/" . $visit_log_id."/task/nw");
      }
      else{
        header("Location: " . $config["index_url"] . "task/" . $visit_type->visit_program . "/index_archive/" . $visit_log_id);
      }
    }else{
      show_404();
    }
  }

  public function getDrops()
	{
		$this->load->model('oasis_model');
		
		$data['icdsname'] = $this->oasis_model->getIcd9Name();
		$data['icdscode'] = $this->oasis_model->getIcd9Code();
    $this->load->view('task/documents/oasis_drops',$data);	
		//echo $this->load->view('drops',$data,false);
	}	
  
  function select_icd ($id="") {
		
		$this->tpl->assign("resource_grid", "select_icdGrid");
		$this->tpl->assign("field_id", $id);
		$this->tpl->assign(array("no_grid_buttons" => true));
    
    $this->load->model('oasis_model');
    $rows = $this->oasis_model->searchIcd();
    
    //print_r($rows);
    
    $this->tpl->assign("rows", $rows);
    
		//$this->tpl->assign_include("dynamic_tpl", "mail/add_grid");
		
    //$this->tpl->assign_include("dynamic_tpl", "task/documents/oasis_icd_grid");
    
    $this->tpl->assign_include("filter_tpl", "task/documents/oasis_icd_filter");
		$this->tpl->assign_include("dynamic_tpl", "parts/gbase");
    
		$this->tpl->view("parts/ibase", $this->lang->language);
		
	}
  
  function select_icdGrid () {
    error_reporting(0);
		$this->load->model('oasis_model');
    $rows = $this->oasis_model->searchIcd($this->input->post('keyword'));
    //print_r($rows);exit;
		$this->xml->root_name = "rows";
		$document = $this->xml->Document();

		$head = $this->xml->Element("head");
		//$head->append($this->xml->Element("column", "width=10;type=ch", ""));
		//$head->append($this->xml->Element("column", "width=0%", "ICD9"));
		$head->append($this->xml->Element("column", "width=50%", "ICD9 Name"));
		$head->append($this->xml->Element("column", "width=*", "ICD9 Code"));
		$head->append($this->xml->Element("settings", null, $this->xml->Element("colwidth", null, "%")));
		$document->append($head);
		
		foreach ($rows as $icd) {
			
			$cell = $this->xml->Element("row", "id=" . $icd['icd9_id']);
			//$cell = $this->xml->Element("row", "id=" . $this->xml_entities($icd['icd9_name'])."||".$this->xml_entities($icd['icd9_code']));
			//$cell->append($this->xml->Element("cell", null, null));
			$cell->append($this->xml->Element("cell", null, $icd['icd9_name_item']));
			$cell->append($this->xml->Element("cell", null, $icd['icd9_code_item']));
			$document->append($cell);
			
		}
		
	}
  
  
	function rescheduled ( $visit_log_id ) {
		
		$this->visitmissedmdl->delete($visit_log_id);
		$this->visitlogmdl->updateStatus($visit_log_id, 1);
		
		$this->edit($visit_log_id);
		
	}
	
	function missededit ( $visit_log_id ) {
		$this->tpl->assign('faction', 'edit');
		$this->tpl->assign('record_id', $visit_log_id);
		$this->tpl->assign('cancelbtn', true);
		
		$this->assignObject($this->visitmissedmdl->getByVisitLogId($visit_log_id));
						
		$this->validation->set_rules(array("comments" => "required"));
		
		if ($this->validation->run() == FALSE) {

			$visit_log = $this->visitlogmdl->getById($visit_log_id);
			$visit_type = $this->visittypemdl->getById($visit_log->visit_type_id);
			
			$this->assignObject($visit_log);
			$this->tpl->assign('patient', $this->patientmdl->getById($visit_log->patient_id));
			$this->tpl->assign('tform_title', $visit_type->visit_description);
			if ($this->session->userdata('task_return')) {
				$this->tpl->assign('resource_cancel', "returnToPatientList");
			}

			$this->tpl->assign_include("dynamic_tpl", "parts/fbase2");
			$this->tpl->assign_include("dynamic_form", "task/missed_form_edit");
			$this->tpl->view("parts/ibase", $this->lang->language);
			
		} else {
			
			$this->visitlogmdl->updateComments($visit_log_id, $this->input->post('comments'));
			$this->visitlogmdl->updateUserComments($visit_log_id, $this->input->post('user_comments'));
			
			$this->tpl->assign('gmessage', "Visit Missed Comments" . $this->lang->line('grl_upd_msg'));
			
			if ($this->session->userdata('task_return')) {
				header("Location: " . $this->config->config["index_url"] . $this->session->userdata('task_return'));
				return;
			}
			
			$this->index();
		}	
	}
	
	function reactivate ( $visit_log_id, $window='self' ) {
		// changed to 5  �Returned� instead of 2
		$this->visitlogmdl->updateStatus($visit_log_id, 5); 
		
		// cleaning electronic signed fields
		$this->visitlogmdl->updateFlex($visit_log_id, 'sent_to_approve_date', NULL);
		
    if ($this->session->userdata('task_return')) {
			header("Location: " . $this->config->config["index_url"] . $this->session->userdata('task_return'));
			return;
		}else{
      $this->edit($visit_log_id, $window);
		}
	}
	
	function delete ( $visit_log_id, $window='self'  ) {
		
		$visitlog = $this->visitlogmdl->getById($visit_log_id);

    if ($visitlog->locked == 1) {
      exit("Can't be delete this record.");
    }
    
    switch ($visitlog->visit_type_id) {
      case 400:
          if ($visitlog->visit_user_id == $this->getUsAgyId()) {
            $this->visitlogmdl->delete($visit_log_id);
          }
        break;
      case 350:
          $this->visitlogmdl->delete($visit_log_id);
        break;
      case 200:
          if ($visitlog->visit_user_id == $this->getUsAgyId()) {
            if ($visitlog->visit_status_id == 1 OR $visitlog->visit_status_id == 2) {
                $this->visitlogmdl->delete($visit_log_id);
            } elseif ($visitlog->visit_status_id == 5) {
              if (   $this->getUserProfileId() == 1 || $this->getUserProfileId() == 3 ){
                $this->visitlogmdl->delete($visit_log_id);
              }
                
            }             
          } else if (   $this->getUserProfileId() == 1 || $this->getUserProfileId() == 3 ) {
            if ($visitlog->visit_status_id == 1 OR $visitlog->visit_status_id == 2 OR $visitlog->visit_status_id == 5) {
              $this->visitlogmdl->delete($visit_log_id);
            }
          }
        break;
      default:
          if ($visitlog->visit_user_id == $this->getUsAgyId()) {
            if ($visitlog->visit_status_id == 1 OR $visitlog->visit_status_id == 2 OR $visitlog->visit_type_id == 320) {
              /*if ($visitlog->visit_status_id != 1) {
                // when tasks are "delete" they should be copied to the vt_pt_evaluation_copy table
                $this->db->query("REPLACE INTO vis_visit_log_copy SELECT * FROM `vis_visit_log` WHERE visit_log_id = {$visit_log_id}");
                $this->db->query("REPLACE INTO vt_pt_evaluation_copy SELECT * FROM `vt_pt_evaluation` WHERE visit_log_id = {$visit_log_id}");
                $this->db->query("REPLACE INTO vt12_pt_progress_note_copy SELECT * FROM `vt12_pt_progress_note` WHERE visit_log_id = {$visit_log_id}");
                $this->db->query("REPLACE INTO vt_ot_evaluation_copy SELECT * FROM `vt_ot_evaluation` WHERE visit_log_id = {$visit_log_id}");
                $this->db->query("REPLACE INTO vt_ot_progress_note_copy SELECT * FROM `vt_ot_progress_note` WHERE visit_log_id = {$visit_log_id}");
                $this->db->query("REPLACE INTO vt_st_evaluation_copy SELECT * FROM `vt_st_evaluation` WHERE visit_log_id = {$visit_log_id}");
                $this->db->query("REPLACE INTO vt_st_progress_note_copy SELECT * FROM `vt_st_progress_note` WHERE visit_log_id = {$visit_log_id}");
              }*/
              
              $this->visitlogmdl->delete($visit_log_id);
              
            } elseif ($visitlog->visit_status_id == 5) {
              if (   $this->getUserProfileId() == 1 || $this->getUserProfileId() == 3 ){
                $this->visitlogmdl->delete($visit_log_id);
              }
            }

          } else if (   $this->getUserProfileId() == 1 || $this->getUserProfileId() == 3 ) {
            if ($visitlog->visit_status_id == 1 OR $visitlog->visit_status_id == 2 OR $visitlog->visit_status_id == 5 OR $visitlog->visit_type_id == 320) {
              $this->visitlogmdl->delete($visit_log_id);
            }
          }
        break;
    }


    $this->app->updateEpisodeVisitNumber($visitlog->cms485_id); // reordering visit number
		
    if($window=='nw'){
      echo "<SCRIPT>window.close();</SCRIPT>";
    }else{
      if ($this->session->userdata('task_return')) {
  			header("Location: " . $this->config->config["index_url"] . $this->session->userdata('task_return'));
  			return;
  		}
  		
  		$this->index();
    }
		
	
	}
	
	function returnToPatientList () {
		
		header("Location: " . $this->config->config["index_url"] . $this->session->userdata('task_return'));
		
	}
		
	function modalCheckEpassword ( $visit_log_id ) {
		
		$this->tpl->assign('faction', 'modalCheckEpassword');
    
    // bypass the electronic signature when login from the admin login
    if ($this->session->userdata('logged_from_admin') === TRUE) {
      $this->visitlogmdl->updateFlex($visit_log_id, 'sent_to_approve_date', standard_date(now(), 'MYSQL'));
        
      echo "<script>parent.submitForm()</script>";
    } else {
  		$rules = array ('user_epass' 	=> 'required|callback_verify_epass');
  		$this->validation->set_rules($rules);

  		if ($this->validation->run() == FALSE) {
  			$this->tpl->assign_include("dynamic_tpl", "epass/modal_epass_form");
  			$this->tpl->view("parts/ibase", $this->lang->language);
  			
  		} else {
  			
  			$this->visitlogmdl->updateFlex($visit_log_id, 'sent_to_approve_date', standard_date(now(), 'MYSQL'));
  			
  			echo "<script>parent.submitForm()</script>";
  		}
      
    }

		
	}

  function edit_schedule( $visit_log_id ){
    
    $visit_log = $this->visitlogmdl->getById($visit_log_id);
    if (is_null($visit_log) ){
      echo "Visit not found";exit;
    } 

		$this->tpl->assign("visit_log_id", $visit_log_id);
    
		$rules = array (
              'visit_date_time' 	=> 'required|callback_checkvisitdate['.$visit_log_id.']',
              'visited_time_in_hm' 	=> 'required'
            );
            
		$this->validation->set_rules($rules);

		if ($this->validation->run() == FALSE) {
      //$visit_log = $this->visitlogmdl->getById($visit_log_id);
  		$visit_type = $this->visittypemdl->getById($visit_log->visit_type_id);
  		
      $date2 = strtotime($visit_log->visited_time_out);
      $date1 = strtotime($visit_log->visited_time_in);
      
      if(is_null($visit_log->visited_time_in)){      
        $date1 = strtotime($visit_log->visit_date_time);
        $date2 = strtotime($visit_log->visit_date_time)+(45*60);
      }
      
      $visit_duration = floor(($date2 - $date1)/60);
      
      if($visit_duration < 0){
        //$visit_duration = 45;
        // $date2 = $date1+(45*60);
      }elseif($visit_duration==0){
        $visit_duration = '00';
      }
      
      $this->tpl->assign('visited_time_in', date("H:i", $date1) );
      //$this->tpl->assign('visited_time_out', date("H:i", $date2) );     
      //$this->tpl->assign('visit_duration', (string)$visit_duration );
      
  		$patient = $this->patientmdl->getById($visit_log->patient_id);
  		
  		$this->tpl->assign('patient', $patient);
      
      //$this->tpl->assign('patient_name', $visit_log->first_name." ".$visit_log->last_name );
      $this->tpl->assign('visit_date_time', standard_date(mysql_to_unix($visit_log->visit_date_time), 'USA_DATE'));
      
      $this->tpl->assign_include("dynamic_tpl", "task/edit_schedule");
			$this->tpl->view("parts/ibase", $this->lang->language);
			
		} else {
      $visited_time_in_hm = $this->input->post('visited_time_in_hm');
      if(!$visited_time_in_hm AND strpos($visited_time_in_hm,":")===false){
        $visited_time_in_hm = "00:00";
      }
    
      list($visited_time_in_Hour, $visited_time_in_Minute) = explode(":",$visited_time_in_hm);
      
      $time_in_unix  = ((int) ($visited_time_in_Hour == 24 ? 0 : $visited_time_in_Hour));
  		//$time_in_unix  = ((int) ($this->input->post('visited_time_in_Hour') == 12 ? 0 : $this->input->post('visited_time_in_Hour')) + ($this->input->post('visited_time_in_Meridian') == 'am' ? 0 : 12));
  		
      
  		
  		$time_in_unix   = $time_in_unix . ":" . $visited_time_in_Minute;
  		//$time_in_unix   = $time_in_unix . ":" . $this->input->post('visited_time_in_Minute');
  		
      
  		/*$this->visitlogmdl->visited_time_in = $time_in_unix;
  		$this->visitlogmdl->visited_time_out = $time_out_unix;*/
  		$visit_date_time = standard_date(human_to_unix($this->input->post('visit_date_time')), 'MYSQL_NOTIME') . " " . $time_in_unix;
    
      //echo $time_in_unix."<br>".$visit_date_time;
			$this->visitlogmdl->updateFlex($visit_log_id, 'visited_time_in', $time_in_unix );
      $this->visitlogmdl->updateFlex($visit_log_id, 'visit_date_time', $visit_date_time );
			
      echo "<SCRIPT>parent.loadGrid();parent.dhxWins.unload()</SCRIPT>";
			
		}
		
  }

  function checkvisitdate ( $visit_date_time, $visit_log_id) {
    $visit_log = $this->visitlogmdl->getById($visit_log_id);

    $visit_date = standard_date(human_to_unix($visit_date_time), 'MYSQL_NOTIME');

    // make sure the visit date is not outside the certification. 
    // Visit types=101 and 104 - these can be created outside the certification period
    if (!in_array($visit_log->visit_type_id, array(101,104))){
      if(strtotime($visit_date) >= strtotime($visit_log->episode_start_date) 
        AND strtotime($visit_date) <= strtotime($visit_log->episode_end_date)) {
        // return true;
      } else {
        $this->validation->set_message('checkvisitdate', "Visit date ".date("m-d-Y", strtotime($visit_date))." is not in the certification period!");
        return FALSE;
      }
    }

    // Check visit overlapping
    if ($visit_log->billable_YN == 1 AND $this->input->post('schedule_overlap_confirmed') != 1) 
    {
      $visited_time_in_hm = $this->input->post('visited_time_in_hm');
      if(!$visited_time_in_hm AND strpos($visited_time_in_hm,":")===false){
        $visited_time_in_hm = "00:00";
      }

      list($visited_time_in_Hour, $visited_time_in_Minute) = explode(":",$visited_time_in_hm);
      $time_in_unix  = ((int) ($visited_time_in_Hour == 24 ? 0 : $visited_time_in_Hour));
      $time_in_unix   = $time_in_unix . ":" . $visited_time_in_Minute;

      $visit_date_and_time = $visit_date . " " . $time_in_unix;

      // check shcedule overlapping patient level
      if (!$this->validateNewVisitTime($visit_log->cms485_id, $visit_date_and_time, null, 45, $visit_log_id)) {
          $this->session->set_userdata('user_post_data', $_POST);

          $this->tpl->assign("user_post_data", (object)$_POST);
          $this->tpl->assign("need_confirm_schedule_overlap", true);
          // $this->tpl->assign('visit_date_time', $visit_date_and_time);
          // $this->tpl->assign('visited_time_in', date("H:i", strtotime($visit_date_and_time)) );
      

          $this->validation->set_message('checkvisitdate', "WARNING - Conflict with other Visit scheduled at: ".date("m-d-Y h:i a", strtotime($visit_date_and_time)) );
          return FALSE;
      }

      // check schedule overlapping user level
      if (!$this->validateNewVisitTimeForUser($visit_log->visit_user_id, $visit_date_and_time, null, 45, $visit_log_id)) {
          $this->session->set_userdata('user_post_data', $_POST);
          $this->tpl->assign("user_post_data", (object)$_POST);
          // $this->tpl->assign('visit_date_time', $visit_date_and_time);
          // $this->tpl->assign('visited_time_in', date("H:i", strtotime($visit_date_and_time)) );

          // shceduled time overlapping
          $conflict_visit_log_id = $this->getOverlappingConflictedVisitId($visit_log->visit_user_id, $visit_date_and_time, null, 45, $visit_log_id);

          $visitlog = $this->visitlogmdl->getById($conflict_visit_log_id);
          $conflicted_patient = $this->patientmdl->getById($visitlog->patient_id); 
          $conflicted_agency = $this->agencymdl->getByAgencyId($conflicted_patient->agency_id); 

          $this->validation->set_message('checkvisitdate', "WARNING - Conflict with Clinician's other Visit scheduled for Patient '". $conflicted_patient->first_name. " ". $conflicted_patient->last_name. "' (Agency: ".$conflicted_agency->agency_name.") at: ".date("m-d-Y h:i a", strtotime($visit_date_and_time)) );

          $this->tpl->assign("need_confirm_schedule_overlap", true);

          return FALSE;
      }
     
    }

    return TRUE;
    
  }
  
  function edit_timein( $visit_log_id ){
    
    $visit_log = $this->visitlogmdl->getById($visit_log_id);
    if (is_null($visit_log) ){
      echo "Visit not found";exit;
    } 

		$this->tpl->assign("visit_log_id", $visit_log_id);
    
		$rules = array (
              'visited_time_in_hm' 	=> 'required',
              'visited_time_out_hm' 	=> 'required'
            );
            
		$this->validation->set_rules($rules);

		if ($this->validation->run() == FALSE) {
      $date2 = strtotime($visit_log->visited_time_out);
      $date1 = strtotime($visit_log->visited_time_in);
      
      if(is_null($visit_log->visited_time_in)){      
        $date1 = strtotime($visit_log->visit_date_time);
        $date2 = strtotime($visit_log->visit_date_time)+(45*60);
      }
      
      $visit_duration = floor(($date2 - $date1)/60);
      
      if($visit_duration < 0){
        //$visit_duration = 45;
        // $date2 = $date1+(45*60);
      }elseif($visit_duration==0){
        $visit_duration = '00';
      }
      
      $this->tpl->assign('visited_time_in', date("H:i", $date1) );
      $this->tpl->assign('visited_time_out', date("H:i", $date2) );     
      $this->tpl->assign('visit_duration', (string)$visit_duration );
      $this->tpl->assign('visit_date_time', standard_date(mysql_to_unix($visit_log->visit_date_time), 'USA_DATE'));
      
      
  		$patient = $this->patientmdl->getById($visit_log->patient_id);
  		
  		$this->tpl->assign('patient', $patient);
      
      $this->tpl->assign_include("dynamic_tpl", "task/edit_timein");
			$this->tpl->view("parts/ibase", $this->lang->language);
			
		} else {
      $visited_time_in_hm = $this->input->post('visited_time_in_hm');
      if(!$visited_time_in_hm OR strpos($visited_time_in_hm,":")===false){
        $visited_time_in_hm = "00:00";
      }
      
      list($visited_time_in_Hour, $visited_time_in_Minute) = explode(":",$visited_time_in_hm);
      
      $time_in_unix  = ((int) ($visited_time_in_Hour == 24 ? 0 : $visited_time_in_Hour));
  		//$time_in_unix  = ((int) ($this->input->post('visited_time_in_Hour') == 12 ? 0 : $this->input->post('visited_time_in_Hour')) + ($this->input->post('visited_time_in_Meridian') == 'am' ? 0 : 12));
  		
      $visited_time_out_hm = $this->input->post('visited_time_out_hm');
      
      if(!$visited_time_out_hm OR strpos($visited_time_out_hm,":")===false){
        $visited_time_out_hm = "00:00";
      }
      
      list($visited_time_out_Hour, $visited_time_out_Minute) = explode(":",$visited_time_out_hm);
      
      $time_out_unix = ((int) ($visited_time_out_Hour == 24 ? 0 : $visited_time_out_Hour));
      //$time_out_unix = ((int) ($this->input->post('visited_time_out_Hour') == 12 ? 0 : $this->input->post('visited_time_out_Hour')) + ($this->input->post('visited_time_out_Meridian') == 'am' ? 0 : 12));
  		
  		$time_in_unix   = $time_in_unix . ":" . $visited_time_in_Minute;
  		//$time_in_unix   = $time_in_unix . ":" . $this->input->post('visited_time_in_Minute');
  		
      $time_out_unix  = $time_out_unix . ":" . $visited_time_out_Minute;
      //$time_out_unix  = $time_out_unix . ":" . $this->input->post('visited_time_out_Minute');
      //echo $time_in_unix.":::".$time_out_unix;exit;
      
      $this->visitlogmdl->updateFlex($visit_log_id, 'visited_time_in', $time_in_unix );
      $this->visitlogmdl->updateFlex($visit_log_id, 'visited_time_out', $time_out_unix );
      
      echo "<SCRIPT>parent.loadGrid();parent.dhxWins.unload()</SCRIPT>";
			
		}
		
  }
  
  function xml_entities($text, $charset = 'Windows-1252'){
    //return $text;    
    // Debug and Test
    // $text = "test &amp; &trade; &amp;trade; abc &reg; &amp;reg; &#45;";
    
    // First we encode html characters that are also invalid in xml
    //$text = htmlentities($text, ENT_COMPAT, $charset, false);
    $text = htmlentities($text, ENT_QUOTES);
    $text=str_replace("'","",$text);
    $text=str_replace('"',"",$text);
    
    return $text;
    
    // XML character entity array from Wiki
    // Note: &apos; is useless in UTF-8 or in UTF-16
    $arr_xml_special_char = array("&quot;","&amp;","&apos;","&lt;","&gt;");
    
    // Building the regex string to exclude all strings with xml special char
    $arr_xml_special_char_regex = "(?";
    foreach($arr_xml_special_char as $key => $value){
        $arr_xml_special_char_regex .= "(?!$value)";
    }
    $arr_xml_special_char_regex .= ")";
    
    // Scan the array for &something_not_xml; syntax
    $pattern = "/$arr_xml_special_char_regex&([a-zA-Z0-9]+;)/";
    
    // Replace the &something_not_xml; with &amp;something_not_xml;
    $replacement = '&amp;${1}';
    return preg_replace($pattern, $replacement, $text);
  }

  function pdf(){
    if (!is_null($this->input->post('record_ids'))) {
      $print_elec_notes = 1;
      $print_uploaded_docs = 1;

      global $pt_3625_visits;
      global $last_3625_visit_log_id;
      global $print_notes;
      global $GL_VISIT;
      
      global $ELEC_VISITS;
      global $UPLOADED_VISITS;
      global $F3625_VISITS;
      global $VISITS_TO_UNLINK;

      $ELEC_VISITS = array();
      $UPLOADED_VISITS = array();
      $F3625_VISITS = array();
      $VISITS_TO_UNLINK = array();
      $print_notes = 1;

      $filenames = array();    
      $this->load->helper('visit_pdf');

      $record_ids = $this->input->post('record_ids');
      $records = explode(",", $record_ids);

      foreach ($records as $visit_log_id) {
        $visit_log = $this->visitlogmdl->getById($visit_log_id);
        $visit_type = $this->visittypemdl->getById($visit_log->visit_type_id);
        
        if ($visit_type->visit_program == null) {
          continue;
        }
        $method = $visit_type->visit_program.'_pdf';
        
        if(!function_exists($method)){          
          continue;
        }

        $this->load->model(strtolower($visit_type->visit_program).'mdl');
        $visit_pdf = $method($visit_log_id);
        $VISITS_TO_UNLINK[] = $visit_pdf;
        if ($visit_pdf) {
          if ($print_elec_notes) {

            if (in_array($visit_log->visit_type_id, array(10, 12, 40, 42, 60, 62))) {
              if ( isset($GL_VISIT->upload_document_name) AND $GL_VISIT->upload_document_name != "" ) {
                    // do not print electronic form
              } else {
                $filenames[] = $visit_pdf;
              }
            } else {
              if ( (isset($GL_VISIT->upload_document_name) AND $GL_VISIT->upload_document_name != "") OR  (isset($GL_VISIT->upload_document_name2) AND $GL_VISIT->upload_document_name2 != "") ) {
                    // do not print electronic form
              } else {
                $filenames[] = $visit_pdf;
              }
            } 
            $ELEC_VISITS[] = $visit_pdf;
          }
        }

        if ($print_uploaded_docs) {
                // Add uploaded scanned document if have any
          $FCPATH = FCPATH;
          $FCPATH = str_replace("\\","/", $FCPATH);
          // upload_document_name 1
          if (isset($GL_VISIT->upload_document_name) AND $GL_VISIT->upload_document_name != "") {
            if (file_exists($FCPATH.'/datastore/'.strtolower($visit_type->visit_program).'/'.$GL_VISIT->upload_document_name)) {
              $ext = pathinfo($FCPATH.'/datastore/'.strtolower($visit_type->visit_program).'/'.$GL_VISIT->upload_document_name, PATHINFO_EXTENSION);
              if ($ext == 'pdf') {
                // $filenames[] = $FCPATH.'/datastore/'.strtolower($visit_type->visit_program).'/'.$GL_VISIT->upload_document_name;
                $UPLOADED_VISITS[] = $FCPATH.'/datastore/'.strtolower($visit_type->visit_program).'/'.$GL_VISIT->upload_document_name;
              }
            }
          }
          
          // upload_document_name 2
          if (in_array($visit_log->visit_type_id, array(10, 12, 40, 42, 60, 62))) {
            if (!$visit_log->signature AND isset($GL_VISIT->upload_document_name2) AND $GL_VISIT->upload_document_name2 != "") {
              if (file_exists($FCPATH.'/datastore/'.strtolower($visit_type->visit_program).'/'.$GL_VISIT->upload_document_name2)) {
                $ext = pathinfo($FCPATH.'/datastore/'.strtolower($visit_type->visit_program).'/'.$GL_VISIT->upload_document_name2, PATHINFO_EXTENSION);
                if ($ext == 'pdf') {
                  // $filenames[] = $FCPATH.'/datastore/'.strtolower($visit_type->visit_program).'/'.$GL_VISIT->upload_document_name2;
                  $UPLOADED_VISITS[] = $FCPATH.'/datastore/'.strtolower($visit_type->visit_program).'/'.$GL_VISIT->upload_document_name2;
                }
              }
            }
          } else if (isset($GL_VISIT->upload_document_name2) AND $GL_VISIT->upload_document_name2 != "") {
            if (file_exists($FCPATH.'/datastore/'.strtolower($visit_type->visit_program).'/'.$GL_VISIT->upload_document_name2)) {
              $ext = pathinfo($FCPATH.'/datastore/'.strtolower($visit_type->visit_program).'/'.$GL_VISIT->upload_document_name2, PATHINFO_EXTENSION);
              if ($ext == 'pdf') {
                // $filenames[] = $FCPATH.'/datastore/'.strtolower($visit_type->visit_program).'/'.$GL_VISIT->upload_document_name2;
                $UPLOADED_VISITS[] = $FCPATH.'/datastore/'.strtolower($visit_type->visit_program).'/'.$GL_VISIT->upload_document_name2;
              }
            }
          }

          // upload_covid_document 1
          if (isset($GL_VISIT->upload_covid_document) AND $GL_VISIT->upload_covid_document != "") {
            if (file_exists($FCPATH.'/datastore/'.strtolower($visit_type->visit_program).'/'.$GL_VISIT->upload_covid_document)) {
              $ext = pathinfo($FCPATH.'/datastore/'.strtolower($visit_type->visit_program).'/'.$GL_VISIT->upload_covid_document, PATHINFO_EXTENSION);
              if ($ext == 'pdf') {
                // $filenames[] = $FCPATH.'/datastore/'.strtolower($visit_type->visit_program).'/'.$GL_VISIT->upload_covid_document;
                $UPLOADED_VISITS[] = $FCPATH.'/datastore/'.strtolower($visit_type->visit_program).'/'.$GL_VISIT->upload_covid_document;
              }
            }
          }
        }
      }
      
      
      unset($pt_3625_visits);
      unset($last_3625_visit_log_id);
      unset($print_notes);
      unset($GL_VISIT);

      if (empty($filenames) AND !$print_elec_notes AND $print_uploaded_docs) {
        exit("Uploaded Docs not available");
      }
      $pdf_name = "All";

      
      /** 
      * New Code support >= PHP 5.3.0
      */
      require_once(APPPATH.'third_party/itbz/fpdf/FPDF.php');          
      require_once(APPPATH.'third_party/itbz/fpdi/FPDI.php');          
      require_once(APPPATH.'third_party/Jurosh/PDFMerge/PDFMerger.php');          
      // and we can do stuff
      $pdf = new \Jurosh\PDFMerge\PDFMerger;

      try {
        $electronic_file_name = null;

        if (count($filenames) > 0) {
          foreach($filenames as $name){
            $pdf->addPDF($name, 'all');
          }

          if (count($UPLOADED_VISITS) > 0) {
            // $electronic_file_name = sys_get_temp_dir().'/'.$pdf_name.'.pdf';
            $electronic_file_name = FCPATH.'tmp/'.$pdf_name.'.pdf';
            $pdf->merge('file', $electronic_file_name);
          }  else {
            $pdf->merge('download', $pdf_name.'.pdf');
          }   
        }

        // End of code for PHP >= 5.3.0
        foreach($VISITS_TO_UNLINK as $name){
          if (strpos($name, 'datastore') == FALSE) {
            @unlink($name);
          }
        }

        if (count($UPLOADED_VISITS) > 0) {
          $zip = new ZipArchive;
          $archive_file_name = $pdf_name.'.zip';
          
          // $zip_file = sys_get_temp_dir().'/'.$archive_file_name;
          $zip_file = FCPATH.'tmp/'.$archive_file_name;
          
          if (file_exists($zip_file)) {
            @unlink($zip_file);
          }


          if ($zip->open($zip_file, (ZipArchive::CREATE | ZipArchive::OVERWRITE)) === TRUE)
          {
            if ($electronic_file_name != "") {
              // Add electronic merged file to the zip
              $zip->addFile($electronic_file_name, basename($electronic_file_name));
            }

            foreach($UPLOADED_VISITS as $name){
              $name = str_replace("//", "/", $name);
              // echo $name."<br>";
              // Add files to the zip file inside demo_folder
              $zip->addFile($name, 'uploaded_documents/'.basename($name));
            }

            // All files are added, so close the zip file.
            $zip->close();

            header("Pragma: public");
            header("Expires: 0");
            header("Cache-Control: must-revalidate, post-check=0, pre-check=0");
            header("Cache-Control: private",false);
            header("Content-Type: application/zip");
            header("Content-Disposition: attachment; filename=$archive_file_name");
            header("Content-Transfer-Encoding: binary");
            header("Content-length: " . filesize($zip_file));

            readfile("$zip_file");

            @unlink($electronic_file_name);
            @unlink($zip_file);
          } else {
            exit('Failed to zip files.');
          }
        }

        // unset global vars
        unset($VISITS_TO_UNLINK);
        unset($UPLOADED_VISITS);
        unset($F3625_VISITS);
        unset($ELEC_VISITS);
      } catch (Exception $e) {
        // End of code for PHP >= 5.3.0
        foreach($VISITS_TO_UNLINK as $name){
          if (strpos($name, 'datastore') == FALSE) {
            @unlink($name);
          }
        } 
        // unset global vars
        unset($VISITS_TO_UNLINK);
        unset($UPLOADED_VISITS);
        unset($F3625_VISITS);
        unset($ELEC_VISITS);

        echo "<font color='red'>Visit Pdfs can't merged into single pdf due to invalid encoded Scanned Copy / Uploaded Docs of visit.</font>";
        exit();
      }

    }
  }
  
  function msvt_pdf ( $visit_log_id ) {

		// saving before printing pdf
		$visit_log = $this->visitlogmdl->getById($visit_log_id);
		
		if (!$this->request->is_get() && ($visit_log->visit_status_id == 1 || $visit_log->visit_status_id == 2 || $visit_log->visit_status_id == 6)) {
			
			$this->visitlogmdl->updateStatus($visit_log_id, 6);
			/*$this->assignPostData($this->msvtmdl);
			
			if (count($this->msvtmdl->get($visit_log_id))) {
				$this->msvtmdl->update($visit_log_id);
			} else {
				$this->msvtmdl->provider_sign_date = standard_date(now(), 'MYSQL');
				$this->msvtmdl->insert($visit_log_id);
			}*/
			
		}
		
		// printing pdf
		$msvt  	    	= $this->msvtmdl->get($visit_log_id);
		$agency	    	= $this->agencymdl->getByAgencyId($this->getAgencyId());
		$patient    	= $this->patientmdl->getById($visit_log->patient_id);
		$agency	    	= $this->agencymdl->getByAgencyId($patient->agency_id);
		$episde_icd		= $this->episodeicdmdl->get($visit_log->cms485_id);
		$phys_user_id  	= $this->usagymdl->getByUsAgyId($visit_log->phys_user_id);
		
		
		$path_ticket = realpath("style/images/icon_enable_negro.gif");
		
        $__FONT['PDF']['SIZE'] = 11;
        $__FONT['PDF']['FORM_MEDIUM'] = 10;
        $__FONT['PDF']['FORM_SMALL'] = 9;
        $__FONT['PDF']['FORM_SMALL2'] = 9;
        $__FONT['PDF']['FORM_SMALL3'] = 6.5;
        $__FONT['PDF']['FORM_SMALL4'] = 9.5;
        $__FONT['PDF']['FORM_arial8'] = 9.5;
        
		
		$this->load->library('fpdf');
    if(!defined('FPDF_FONTPATH'))
		define('FPDF_FONTPATH',$this->config->item('fonts_path'));

		$this->fpdf = new fpdf;
        $cero_x = 11;
        $cero_y = 2;
		$this->fpdf->Open();
		$this->fpdf->AddPage();
		
        $this->fpdf->SetDrawColor(130,100);
        $this->fpdf->SetFont('Arial','B',$__FONT['PDF']['FORM_MEDIUM']);
        $this->fpdf->Text(( $cero_x + 0),( $cero_y + 12 ), $agency->agency_name); // agency name

        $this->fpdf->SetFont('Arial','',$__FONT['PDF']['FORM_SMALL3']);
        $this->fpdf->Text(( $cero_x + 0),( $cero_y + 22 ),"Licensed and Certified Home Health Agency");
        
        $this->fpdf->Rect(8,28, 577, 780);
        
        $this->fpdf->SetFont('Arial', 'B', $__FONT['PDF']['FORM_SMALL']);
        $this->fpdf->Text(( $cero_x + 210),( $cero_y + 36 ),"MISSED VISIT REPORT                                             " .
        													"MISSED VISIT DATE: " . standard_date(mysql_to_unix($visit_log->visited_date))); // visit date
    	$this->fpdf->Line(( $cero_x - 3 ) , ($cero_y + 40.5 ), ( $cero_x + 574 ), ($cero_y + 40.5 ));
    	
        $cero_y = 20;
        $this->fpdf->SetTextColor(0,0,0);
        $this->fpdf->SetFont('Arial','', $__FONT['PDF']['FORM_SMALL']);
	    $this->fpdf->Text(( $cero_x + 0),( $cero_y + 32 ),"Patient Name: ");
	    
	    $this->fpdf->SetFont('Arial','B', $__FONT['PDF']['FORM_SMALL']);
	    $this->fpdf->Text(( $cero_x + 60),( $cero_y + 32 ), $patient->first_name . " " . $patient->last_name); // pacient name
	    
        $this->fpdf->SetFont('Arial','',$__FONT['PDF']['FORM_SMALL']);
        $this->fpdf->SetTextColor(0,0,0);

        $this->fpdf->SetDrawColor(130,100);
        $this->fpdf->Text(( $cero_x + 240),( $cero_y + 32 ),"Medicare #: ");
        
        $this->fpdf->SetFont('Arial','B',$__FONT['PDF']['FORM_SMALL']);
        $this->fpdf->Text(( $cero_x + 290),( $cero_y + 32 ), $patient->medicare_id); // medicare id
        
        
        $this->fpdf->SetFont('Arial','',$__FONT['PDF']['FORM_SMALL']);
        $this->fpdf->Text(( $cero_x + 388),( $cero_y + 32 ), "  NA ");
        $this->fpdf->Rect(( $cero_x + 378),($cero_y + 23.5), 8.4, 8.4);
        
        if (is_null($patient->medicare_id)){
        	$this->fpdf->Image( $path_ticket, ( $cero_x + 379 ),($cero_y + 24.5),6);
        }
        $this->fpdf->Text(( $cero_x + 395 +20),( $cero_y + 32 ),"Medical Rec#: ");
        
        $this->fpdf->SetFont('Arial','B',$__FONT['PDF']['FORM_SMALL']);
        $this->fpdf->Text(( $cero_x + 455 +20),( $cero_y + 32 ), $patient->medical_rec_nbr); // medicare id
		
		$this->fpdf->SetFont('Arial','', $__FONT['PDF']['FORM_SMALL']);
        $this->fpdf->Text(( $cero_x + 372),( $cero_y + 42 ),"  SOC: ");
        $this->fpdf->SetFont('Arial','B', $__FONT['PDF']['FORM_SMALL']);
        $this->fpdf->Text(( $cero_x + 415),( $cero_y + 42 ), standard_date(mysql_to_unix($visit_log->estimated_soc_date))); // soc date
        
        // primary and second icd
        $this->fpdf->SetFont('Arial','',$__FONT['PDF']['FORM_SMALL']);
        $this->fpdf->Text(( $cero_x + 0),( $cero_y + 42 ),"Primary Dx: ");
        
        $this->fpdf->SetFont('Arial','B',$__FONT['PDF']['FORM_SMALL']);
        $this->fpdf->Text(( $cero_x + 60),( $cero_y + 42 ), substr(@$msvt->primary_diag, 0, 30));
        
        $this->fpdf->SetFont('Arial','',$__FONT['PDF']['FORM_SMALL']);
        $this->fpdf->Text(( $cero_x + 240),( $cero_y + 42 ),"Date: ");
        
        $this->fpdf->SetFont('Arial','B',$__FONT['PDF']['FORM_SMALL']); 
        $this->fpdf->Text(( $cero_x + 288),( $cero_y + 42 ), (!is_null(@$msvt->primary_diag_date) ? standard_date(mysql_to_unix(@$msvt->primary_diag_date)) : ""));
        
        $this->fpdf->SetFont('Arial','',$__FONT['PDF']['FORM_SMALL']);
        $this->fpdf->Text(( $cero_x + 0),( $cero_y + 52 ),"Therapy Dx: ");              

        $this->fpdf->SetFont('Arial','B',$__FONT['PDF']['FORM_SMALL']);
        $this->fpdf->Text(( $cero_x + 60),( $cero_y + 52 ), substr(@$msvt->secondary_diag, 0, 30));

        $this->fpdf->SetFont('Arial','',$__FONT['PDF']['FORM_SMALL']);
        $this->fpdf->Text(( $cero_x + 240),( $cero_y + 52 ),"Date: ");

        $this->fpdf->SetFont('Arial','B',$__FONT['PDF']['FORM_SMALL']);
        $this->fpdf->Text(( $cero_x + 288),( $cero_y + 52 ), (!is_null(@$msvt->secondary_diag_date) ? standard_date(mysql_to_unix(@$msvt->secondary_diag_date)) : ""));
        

        // start and end soc date
        $this->fpdf->SetFont('Arial','',$__FONT['PDF']['FORM_SMALL']);
        $this->fpdf->Text(( $cero_x + 377),( $cero_y + 52 ),"From: ");
        
        $this->fpdf->SetFont('Arial','B',$__FONT['PDF']['FORM_SMALL']);                                
        $this->fpdf->Text(( $cero_x + 415),( $cero_y + 52 ), standard_date(mysql_to_unix($visit_log->episode_start_date)));


        $this->fpdf->SetFont('Arial','',$__FONT['PDF']['FORM_SMALL']);
        $this->fpdf->Text(( $cero_x + 490),( $cero_y + 52 ),"To: ");

        $this->fpdf->SetFont('Arial','B',$__FONT['PDF']['FORM_SMALL']);
        $this->fpdf->Text(( $cero_x + 505),( $cero_y + 52 ), standard_date(mysql_to_unix($visit_log->episode_end_date)));
        
        
        if ($visit_log->episode_start_date == $visit_log->estimated_soc_date)     {
            $this->fpdf->Text(( $cero_x + 495),( $cero_y + 42 ),"   Certification");
        } else {
            $this->fpdf->Text(( $cero_x + 495),( $cero_y + 42 ),"   Recertif.");
        }

        $this->fpdf->Rect(( $cero_x + 490),($cero_y + 33.5), 8.4, 8.4);
        $this->fpdf->Image( $path_ticket,( $cero_x + 491 ),($cero_y + 34.5),6);


        $this->fpdf->SetFont('Arial','',$__FONT['PDF']['FORM_SMALL']);
        $this->fpdf->Text(( $cero_x + 0),( $cero_y + 62 ),"Physician: ");

		$this->fpdf->SetFont('Arial','B',$__FONT['PDF']['FORM_arial8']);
		$this->fpdf->Text(( $cero_x + 60),($cero_y + 62 ), @$phys_user_id->complete_name);

		$this->fpdf->SetFont('Arial','',$__FONT['PDF']['FORM_SMALL']);
        $this->fpdf->Text(( $cero_x + 240),( $cero_y + 62 ), "Clinician:");
        
        $this->fpdf->SetFont('Arial','B',$__FONT['PDF']['FORM_arial8']);
        $this->fpdf->Text(( $cero_x + 288),(  $cero_y + 62 ), $visit_log->first_name . " " .  $visit_log->last_name);
        
       /* $this->fpdf->SetFont('Arial','',$__FONT['PDF']['FORM_SMALL']);
        $this->fpdf->SetFont('Arial','',$__FONT['PDF']['FORM_SMALL']);
        $this->fpdf->Text(( $cero_x + 377),( $cero_y + 62 ), "Time In: ");
		$this->fpdf->SetFont('Arial','B',$__FONT['PDF']['FORM_SMALL']);
		$this->fpdf->Text(( $cero_x + 416),( $cero_y + 62 ), standard_date(mysql_to_unix($visit_log->visited_date . " " . $visit_log->visited_time_in), 'USA_TIME_C'));
        
		$this->fpdf->SetFont('Arial','',$__FONT['PDF']['FORM_SMALL']);
        $this->fpdf->Text(( $cero_x + 490),( $cero_y + 62 ), "Time Out: ");
		$this->fpdf->SetFont('Arial','B',$__FONT['PDF']['FORM_SMALL']);
		$this->fpdf->Text(( $cero_x + 531),( $cero_y + 62 ), standard_date(mysql_to_unix($visit_log->visited_date . " " . $visit_log->visited_time_out), 'USA_TIME_C'));*/


        $cero_y =$cero_y+5;
        $this->fpdf->SetLineWidth( 0.9 );
        $this->fpdf->Line(( $cero_x-3 ) , ($cero_y + 60.5), ( $cero_x + 573 ), ($cero_y + 60.5));
        
        
        $this->fpdf->SetFont('Arial','B',$__FONT['PDF']['FORM_SMALL']);
        $this->fpdf->SetFont('Arial','',$__FONT['PDF']['FORM_SMALL']);
        $this->fpdf->Text(( $cero_x + 20),( $cero_y + 72 ), "PATIENT DID NOT RECEIVE TREATMENT TODAY FOR THE FOLLOWING REASON(S):");
        
        $this->fpdf->Rect(( $cero_x + 20 ),( $cero_y + 90 ), 8, 8);
        if (@$msvt->alter_caregiver == 1) {
                $this->fpdf->Image( $path_ticket, ($cero_x + 21),( $cero_y + 91), 6);
        }
        $this->fpdf->Text(( $cero_x + 40),( $cero_y + 97 ), "Alternate Caregiver available to provide care");

		
        $this->fpdf->Rect(( $cero_x + 20 ),( $cero_y + 100 ), 8, 8);
        if (@$msvt->patient_refused == 1) {
                $this->fpdf->Image( $path_ticket, ($cero_x + 21),( $cero_y + 101), 6);
        }
        $this->fpdf->Text(( $cero_x + 40),( $cero_y + 107 ), "Patient refused services");


        $this->fpdf->Rect(( $cero_x + 20 ),( $cero_y + 110 ), 8, 8);
        if (@$msvt->family_refused == 1) {
                $this->fpdf->Image( $path_ticket, ($cero_x + 21),( $cero_y + 111), 6);
        }
        $this->fpdf->Text(( $cero_x + 40),( $cero_y + 117 ), "Family refused services");
        
        
        $this->fpdf->Rect(( $cero_x + 20 ),( $cero_y + 120 ), 8, 8);
        if (@$msvt->patient_requested == 1) {
                $this->fpdf->Image( $path_ticket, ($cero_x + 21),( $cero_y + 121), 6);
        }
        $this->fpdf->Text(( $cero_x + 40),( $cero_y + 127 ), "Patient requested no visit today");
        
        
        $this->fpdf->Rect(( $cero_x + 20 ),( $cero_y + 130 ), 8, 8);
        if (@$msvt->no_answer == 1) {
                $this->fpdf->Image( $path_ticket, ($cero_x + 21),( $cero_y + 131), 6);
        }
        $this->fpdf->Text(( $cero_x + 40),( $cero_y + 137 ), "No answer to door (provide follow-up plans)");
        
        
        $this->fpdf->Rect(( $cero_x + 20 ),( $cero_y + 140 ), 8, 8);
        if (@$msvt->other == 1) {
                $this->fpdf->Image( $path_ticket, ($cero_x + 21),( $cero_y + 141), 6);
        }
        $this->fpdf->Text(( $cero_x + 40),( $cero_y + 147 ), "Other:");
        
        
	    $eje_y = 185;
		$this->fpdf->SetFont('Courier', '', $__FONT['PDF']['FORM_SMALL'] );
		$c=0;
		foreach (str_split($msvt->other_description, 95) as $substring) {
			
			$this->fpdf->Text(50, $eje_y, $substring);
			$eje_y += 10;
			
			$c++;
			
			if ($c == 4) break;
			
		}
		
		
        $this->fpdf->SetFont('Arial','',$__FONT['PDF']['FORM_SMALL']);
        $this->fpdf->Text(51, 250, "Plan:");
        
	    $eje_y = 268;
		$this->fpdf->SetFont('Courier', '', $__FONT['PDF']['FORM_SMALL'] );
		$c=0;
		foreach (str_split($msvt->plan, 95) as $substring) {
			
			$this->fpdf->Text(50, $eje_y, $substring);
			$eje_y += 10;
			
			$c++;
			
			if ($c == 4) break;
			
		}
        
        
        $this->fpdf->SetFont('Arial','',$__FONT['PDF']['FORM_SMALL']);

        $this->fpdf->Rect(90, 320, 8, 8);
        if (@$msvt->superv_notified == 1) {
                $this->fpdf->Image( $path_ticket, 91, 321, 6);
        }
        $this->fpdf->Text(105, 327, "Supervisor Notified");
        
        
        $this->fpdf->Rect(300, 320, 8, 8);
        if (@$msvt->md_notified == 1) {
                $this->fpdf->Image( $path_ticket, 301, 321, 6);
        }
        $this->fpdf->Text(315, 327, "MD Notified");
        
        
        $this->fpdf->Text(13,626 , "Electronically signed by:__________________________________________________ Date_____________________________");
        $this->fpdf->SetFont('Courier','B',$__FONT['PDF']['FORM_MEDIUM']);
        if ($visit_log->sent_to_approve_date) {
			$this->fpdf->Text(113,625, $visit_log -> first_name." ".$visit_log -> last_name);
		    $this->fpdf->Text(386, 625, standard_date(mysql_to_unix($visit_log->visit_date_time)));
        }
        
        
        $this->fpdf->SetFont('Arial','',$__FONT['PDF']['FORM_SMALL']);
        $this->fpdf->Text(11, 820, $agency->address.', '.$agency->city.', '.$this->statemdl->getNameShort($agency->state_id).' '.$agency->zip);
        $this->fpdf->Text(350, 820, "Phone: " . $agency->phone_primary);
        $this->fpdf->Text(470, 820, "Fax: " . $agency->fax);
        
        $filename = FCPATH;
        $filename = str_replace("\\","/", $filename);
        $filename = $filename.'tmp/'.time().'_'.$visit_log_id.'_pq_msvt.pdf';
        
        
        $this->fpdf->Output($filename,'F');
        return $filename;		
	}
  
  function ptev_pdf ( $visit_log_id ) {
		$this->load->model('ptevmdl');
		
		// saving before printing pdf
		$visit_log = $this->visitlogmdl->getById($visit_log_id);
		if (!$this->request->is_get() && ($visit_log->visit_status_id == 1 || $visit_log->visit_status_id == 2)) {
			
			$this->visitlogmdl->updateStatus($visit_log_id, 2);
			/*$this->assignPostData($this->ptevmdl);
			
			if ($visit_log->visit_status_id == 2) {
				$this->ptevmdl->update($visit_log_id);
			} else {
				$this->ptevmdl->insert($visit_log_id);
			}
			*/
		}
		
		// printing pdf
		$ptev 	 	    = $this->ptevmdl->get($visit_log_id);
		$patient    	= $this->patientmdl->getById($visit_log->patient_id);
		$assigned_to    = $this->usagymdl->getByUsAgyId($visit_log->visit_user_id);
		$approver    	= $this->usagymdl->getByUsAgyId($visit_log->user_approver);
		$agency	    	= $this->agencymdl->getByAgencyId($patient->agency_id);
		$episde_icd		= $this->episodeicdmdl->get($visit_log->cms485_id);
		$phys_user_id  	= $this->usagymdl->getByUsAgyId($visit_log->phys_user_id);
		
		$tab_20			= $this->parametermdl->getByType(20);
		$tab_20[NULL]   = NULL;
		$tab_27			= $this->parametermdl->getByType(27);
		$tab_27[NULL]   = NULL;
		$tab_33			= $this->parametermdl->getByType(33);
		$tab_48			= $this->parametermdl->getByType(48);
		$tab_48[NULL]   = NULL;
		$tab_49			= $this->parametermdl->getByType(49);
		$tab_49[NULL]   = NULL;
		$tab_52			= $this->parametermdl->getByType(52);
		$tab_52[NULL]   = NULL;
		$tab_63			= $this->parametermdl->getByType(63);
		$tab_63[NULL]   = NULL;
		$tab_64			= $this->parametermdl->getByType(64);
		$tab_78			= $this->parametermdl->getByType(78);
		$tab_78[NULL]   = NULL;
		$tab_79			= $this->parametermdl->getByType(79);
		$tab_79[NULL]   = NULL;
		$tab_87			= $this->parametermdl->getByType(87);
		$tab_90			= $this->parametermdl->getByType(90);
		$tab_90[NULL]   = NULL;
		$assesment_types_list = $this->parametermdl->getByType(32);
    
		$path_ticket = realpath("style/images/icon_enable_negro.gif");
		
        $__FONT['PDF']['SIZE'] = 9;
        $__FONT['PDF']['FORM_MEDIUM'] = 10;
        $__FONT['PDF']['FORM_SMALL'] = 9;
        $__FONT['PDF']['FORM_SMALL2'] = 9;
        $__FONT['PDF']['FORM_SMALL3'] = 6.5;
        $__FONT['PDF']['FORM_SMALL4'] = 9.5;
        $__FONT['PDF']['FORM_arial8'] = 9.5;
        
		
		$this->load->library('fpdf');
    if(!defined('FPDF_FONTPATH'))
		define('FPDF_FONTPATH',$this->config->item('fonts_path'));

    $this->fpdf = new fpdf;
    
    $total_page = 2;

    if(@$ptev->ther_na == '1'){
    
    }else if(@$ptev->ther_name != null || @$ptev->ther_implem_plan != null  || @$ptev->ther_follow_plan != null || @$ptev->ther_raport_pat_fam != null || @$ptev->ther_eval_plan != null || @$ptev->ther_notes != null){
      $total_page = 3;
      
    }
    
    if(@$ptev->addendum != null){
      $total_page = 3;
    }
    
    $cognition_subjective_more = 0;
    if(strlen(@$ptev->cognition_subjective) > 205){
      $cognition_subjective_more = 1;
      $total_page = 3;
    }
    $hx_comments_more = 0;
    if(strlen(@$ptev->hx_comments) > 210){
      $hx_comments_more = 1;
      $total_page = 3;
    }
    
		
        $cero_x = 11;
        $cero_y = 2;
		$this->fpdf->Open();
		
		$pdf = $this->fpdf;
		

		$this->fpdf->AddPage();
		
        $this->fpdf->SetDrawColor(130,100);
        $this->fpdf->SetFont('Arial','B',$__FONT['PDF']['FORM_MEDIUM']);
        $this->fpdf->Text(( $cero_x + 0),( $cero_y + 12 ), $agency->agency_name); // agency name

        $this->fpdf->SetFont('Arial','',$__FONT['PDF']['FORM_SMALL3']);
        $this->fpdf->Text(( $cero_x + 0),( $cero_y + 22 ),"Licensed and Certified Home Health Agency");
        
        $this->fpdf->Rect(8,28, 577, 780);
        
        $this->fpdf->SetFont('Arial', 'B', $__FONT['PDF']['FORM_SMALL']);
        
        if(isset($assesment_types_list[@$ptev->tab_32_assess_type])){
          $this->fpdf->Text(( $cero_x + 190),( $cero_y + 36 ),"PHYSICAL THERAPY - ".$assesment_types_list[@$ptev->tab_32_assess_type]."                            " .
        													"VISIT DATE: " . standard_date(mysql_to_unix($visit_log->visit_date_time))); // visit date
        }else{
          $this->fpdf->Text(( $cero_x + 190),( $cero_y + 36 ),"PHYSICAL THERAPY  ASSESSMENT                            " .
        													"VISIT DATE: " . standard_date(mysql_to_unix($visit_log->visit_date_time))); // visit date
        }
        
    	$this->fpdf->Line(( $cero_x - 3 ) , ($cero_y + 40.5 ), ( $cero_x + 574 ), ($cero_y + 40.5 ));
    	
        $cero_y = 20;
        $this->fpdf->SetTextColor(0,0,0);
        $this->fpdf->SetFont('Arial','', $__FONT['PDF']['FORM_SMALL']);
	    $this->fpdf->Text(( $cero_x + 0),( $cero_y + 32 ),"Patient Name: ");
	    
	    $this->fpdf->SetFont('Arial','B', $__FONT['PDF']['FORM_SMALL']);
	    $this->fpdf->Text(( $cero_x + 60),( $cero_y + 32 ), $patient->first_name . " " . $patient->last_name); // pacient name
	    
        $this->fpdf->SetFont('Arial','',$__FONT['PDF']['FORM_SMALL']);
        $this->fpdf->SetTextColor(0,0,0);

        $this->fpdf->SetDrawColor(130,100);
        $this->fpdf->Text(( $cero_x + 240),( $cero_y + 32 ),"Medicare #: ");
        
        $this->fpdf->SetFont('Arial','B',$__FONT['PDF']['FORM_SMALL']);
        $this->fpdf->Text(( $cero_x + 290),( $cero_y + 32 ), $patient->medicare_id); // medicare id
        
        
        $this->fpdf->SetFont('Arial','',$__FONT['PDF']['FORM_SMALL']);
        $this->fpdf->Text(( $cero_x + 390 +20),( $cero_y + 32 ), "  NA ");
        $this->fpdf->Rect(( $cero_x + 380 +20),($cero_y + 23.5), 8.4, 8.4);
        if (is_null($patient->medicare_id)){
        	$this->fpdf->Image( $path_ticket, ( $cero_x + 381 +20 ),($cero_y + 24.5),6);
        }
        
        $this->fpdf->Text(( $cero_x + 420 +20),( $cero_y + 32 ),"Medical Rec#: ");
        
        $this->fpdf->SetFont('Arial','B',$__FONT['PDF']['FORM_SMALL']);
        $this->fpdf->Text(( $cero_x + 480 +20),( $cero_y + 32 ), $patient->medical_rec_nbr); // medicare id
        
        
        
		$this->fpdf->SetFont('Arial','',$__FONT['PDF']['FORM_SMALL']);
        $this->fpdf->Text(( $cero_x + 390),( $cero_y + 42 ), "SOC: ");
        $this->fpdf->SetFont('Arial','B', $__FONT['PDF']['FORM_SMALL']);
        $this->fpdf->Text(( $cero_x + 415),( $cero_y + 42 ), standard_date(mysql_to_unix($visit_log->estimated_soc_date))); // soc date
        
        // primary and second icd
        $this->fpdf->SetFont('Arial','',$__FONT['PDF']['FORM_SMALL']);
        $this->fpdf->Text(( $cero_x + 0),( $cero_y + 42 ),"Primary Dx: ");
        
        $this->fpdf->SetFont('Arial','B',$__FONT['PDF']['FORM_SMALL']);
        $this->fpdf->Text(( $cero_x + 60),( $cero_y + 42 ), substr($ptev->primary_diag, 0, 30));
        
        $this->fpdf->SetFont('Arial','',$__FONT['PDF']['FORM_SMALL']);
        $this->fpdf->Text(( $cero_x + 240),( $cero_y + 42 ),"Date: ");
        
        $this->fpdf->SetFont('Arial','B',$__FONT['PDF']['FORM_SMALL']); 
        $this->fpdf->Text(( $cero_x + 288),( $cero_y + 42 ), (!is_null(@$ptev->primary_diag_date) ? standard_date(mysql_to_unix(@$ptev->primary_diag_date)) : ""));
        
        $this->fpdf->SetFont('Arial','',$__FONT['PDF']['FORM_SMALL']);
        $this->fpdf->Text(( $cero_x + 0),( $cero_y + 52 ),"Therapy Dx: ");              

        $this->fpdf->SetFont('Arial','B',$__FONT['PDF']['FORM_SMALL']);
        $this->fpdf->Text(( $cero_x + 60),( $cero_y + 52 ), substr($ptev->secondary_diag, 0, 30));

        $this->fpdf->SetFont('Arial','',$__FONT['PDF']['FORM_SMALL']);
        $this->fpdf->Text(( $cero_x + 240),( $cero_y + 52 ),"Date: ");

        $this->fpdf->SetFont('Arial','B',$__FONT['PDF']['FORM_SMALL']);
        $this->fpdf->Text(( $cero_x + 288),( $cero_y + 52 ), (!is_null(@$ptev->secondary_diag_date) ? standard_date(mysql_to_unix(@$ptev->secondary_diag_date)) : ""));
        

        // start and end soc date
        $this->fpdf->SetFont('Arial','',$__FONT['PDF']['FORM_SMALL']);
        $this->fpdf->Text(( $cero_x + 390),( $cero_y + 52 ),"From: ");
        
        $this->fpdf->SetFont('Arial','B',$__FONT['PDF']['FORM_SMALL']);                                
        $this->fpdf->Text(( $cero_x + 415),( $cero_y + 52 ), standard_date(mysql_to_unix($visit_log->episode_start_date)));


        $this->fpdf->SetFont('Arial','',$__FONT['PDF']['FORM_SMALL']);
        $this->fpdf->Text(( $cero_x + 490),( $cero_y + 52 ),"To: ");

        $this->fpdf->SetFont('Arial','B',$__FONT['PDF']['FORM_SMALL']);
        $this->fpdf->Text(( $cero_x + 505),( $cero_y + 52 ), standard_date(mysql_to_unix($visit_log->episode_end_date)));
        
        
        if ($visit_log->episode_start_date == $visit_log->estimated_soc_date)     {
            $this->fpdf->Text(( $cero_x + 495),( $cero_y + 42 ),"   Certification");
        } else {
            $this->fpdf->Text(( $cero_x + 495),( $cero_y + 42 ),"   Recertif.");
        }

        $this->fpdf->Rect(( $cero_x + 490),($cero_y + 33.5), 8.4, 8.4);
        $this->fpdf->Image( $path_ticket,( $cero_x + 491 ),($cero_y + 34.5),6);
		
		
        $this->fpdf->SetFont('Arial','',$__FONT['PDF']['FORM_SMALL']);
        $this->fpdf->Text(( $cero_x + 0),( $cero_y + 62 ),"Physician: ");

		$this->fpdf->SetFont('Arial','B',$__FONT['PDF']['FORM_arial8']);
		$this->fpdf->Text(( $cero_x + 60),($cero_y + 62 ), @$phys_user_id->complete_name);

		$this->fpdf->SetFont('Arial','',$__FONT['PDF']['FORM_SMALL']);
        $this->fpdf->Text(( $cero_x + 240),( $cero_y + 62 ), "Therapist:");
        
        $this->fpdf->SetFont('Arial','B',$__FONT['PDF']['FORM_arial8']);
        $this->fpdf->Text(( $cero_x + 282),(  $cero_y + 62 ), $visit_log->first_name . " " .  $visit_log->last_name);
        
        $this->fpdf->SetFont('Arial','',$__FONT['PDF']['FORM_SMALL']);
        $this->fpdf->Text(( $cero_x + 390),( $cero_y + 62 ), "Time In: ");
		$this->fpdf->SetFont('Arial','B',$__FONT['PDF']['FORM_SMALL']);
		$this->fpdf->Text(( $cero_x + 424),( $cero_y + 62 ), standard_date(mysql_to_unix($visit_log->visited_date . " " . $visit_log->visited_time_in), 'USA_TIME_C'));
        
		$this->fpdf->SetFont('Arial','',$__FONT['PDF']['FORM_SMALL']);
        $this->fpdf->Text(( $cero_x + 490),( $cero_y + 62 ), "Time Out: ");
		$this->fpdf->SetFont('Arial','B',$__FONT['PDF']['FORM_SMALL']);
		$this->fpdf->Text(( $cero_x + 531),( $cero_y + 62 ), standard_date(mysql_to_unix($visit_log->visited_date . " " . $visit_log->visited_time_out), 'USA_TIME_C'));

        
        $this->fpdf->SetFont('Arial','B',$__FONT['PDF']['FORM_arial8']);
        
        $cero_y =$cero_y+5;
        $this->fpdf->SetLineWidth( 0.9 );
        $this->fpdf->Line(8, 85, 584, 85);
        
        $pdf->SetFont('Arial','',$__FONT['PDF']['SIZE']);
        
        

        if(@$ptev->tab_32_assess_type == 8 AND @$ptev->tab_32_assess_type_other_txt != null AND strlen(@$ptev->tab_32_assess_type_other_txt) > 0){
          $this->fpdf->Text(11,95, "Assessment Type: Other (".@$ptev->tab_32_assess_type_other_txt.")");
          
          $y = $pdf->GetY(); $x = $pdf->GetX(); 
          $pdf->Rect(173+80, 88, 8.4, 8.4);
          if (!is_null(@$visit_log->billable_YN) AND @$visit_log->billable_YN == 1){
            $this->fpdf->Image( $path_ticket, 175+80, 89, 5);
          }
          $pdf->Text(187+80, 95, 'Billable');  
          
          
          $pdf->Text(280+80, 95, 'Therapy Type: ');  
      
          $pdf->Rect(360+80, 88, 8.4, 8.4);
          if (@$ptev->therapytype == 'R') {
            $this->fpdf->Image( $path_ticket, 362+80, 89, 5);
          }
          $pdf->Rect(435+80, 88, 8.4, 8.4);
          if (@$ptev->therapytype == 'M') {
            $this->fpdf->Image( $path_ticket, 437+80, 89, 5);
          }
          $pdf->Text(375+80, 95, "Restorative           Maintenance");
        }else if(isset($assesment_types_list[@$ptev->tab_32_assess_type])){  
          $this->fpdf->Text(11,95, "Assessment Type:    ".$assesment_types_list[@$ptev->tab_32_assess_type]);
          
          $y = $pdf->GetY(); $x = $pdf->GetX(); 
          $pdf->Rect(173+80, 88, 8.4, 8.4);
          if (!is_null(@$visit_log->billable_YN) AND @$visit_log->billable_YN == 1){
            $this->fpdf->Image( $path_ticket, 175+80, 89, 5);
          }
          $pdf->Text(187+80, 95, 'Billable');  
          
          
          $pdf->Text(280+80, 95, 'Therapy Type: ');  
        
          $pdf->Rect(360+80, 88, 8.4, 8.4);
          if (@$ptev->therapytype == 'R') {
            $this->fpdf->Image( $path_ticket, 362+80, 89, 5);
          }
          $pdf->Rect(435+80, 88, 8.4, 8.4);
          if (@$ptev->therapytype == 'M') {
            $this->fpdf->Image( $path_ticket, 437+80, 89, 5);
          }
          $pdf->Text(375+80, 95, "Restorative           Maintenance");
        }else{
          $y = $pdf->GetY(); $x = $pdf->GetX(); 
          $pdf->Rect(173+80, 88, 8.4, 8.4);
          if (!is_null(@$visit_log->billable_YN) AND @$visit_log->billable_YN == 1){
            $this->fpdf->Image( $path_ticket, 175+80, 89, 5);
          }
          $pdf->Text(187+80, 95, 'Billable');  
          
          
          $pdf->Text(280+80, 95, 'Therapy Type: ');  
        
          $pdf->Rect(360+80, 88, 8.4, 8.4);
          if (@$ptev->therapytype == 'R') {
            $this->fpdf->Image( $path_ticket, 362+80, 89, 5);
          }
          $pdf->Rect(435+80, 88, 8.4, 8.4);
          if (@$ptev->therapytype == 'M') {
            $this->fpdf->Image( $path_ticket, 437+80, 89, 5);
          }
          $pdf->Text(375+80, 95, "Restorative           Maintenance");
        }
        
        
    /*    
		$item=22;
		$pdf->SetFont('Arial','',$__FONT['PDF']['SIZE']);
		foreach ($this->parametermdl->getByType(32) as $assess_type_id => $assess_type) {
			
	        $this->fpdf->Text($item, 95, $assess_type);
			$pdf->Rect(($item - 11), 87, 8.4, 8.4);
			
            if ($assess_type_id == @@$ptev->tab_32_assess_type) {
            	$pdf->Image($path_ticket, ($item - 10), 88, 6);
            }
			
	        $item=$item+76;
			
		}
    if(@$ptev->tab_32_assess_type == 8 AND @$ptev->tab_32_assess_type_other_txt != null AND strlen(@$ptev->tab_32_assess_type_other_txt) > 0){
    
      //$this->fpdf->SetFont('Courier','',$__FONT['PDF']['FORM_SMALL3']);
      //$this->fpdf->SetFont('Courier','B',$__FONT['PDF']['FORM_SMALL4']);
      $pdf->Text(11, 107, 'Other Text: '.@$ptev->tab_32_assess_type_other_txt);  
      
      
      $pdf->Text(280+80, 107, 'Therapy Type: ');  
      
      $pdf->Rect(360+80, 100, 8.4, 8.4);
      if (@$ptev->therapytype == 'R') {
        $this->fpdf->Image( $path_ticket, 362+80, 101, 5);
      }
      $pdf->Rect(435+80, 100, 8.4, 8.4);
      if (@$ptev->therapytype == 'M') {
        $this->fpdf->Image( $path_ticket, 437+80, 101, 5);
      }
      $pdf->Text(375+80, 107, "Restorative           Maintenance");
      
    }else{    
      $pdf->Text(11, 107, 'Therapy Type: ');  
      
      $pdf->Rect(81, 100, 8.4, 8.4);
      if (@$ptev->therapytype == 'R') {
        $this->fpdf->Image( $path_ticket, 83, 101, 5);
      }
      $pdf->Rect(156, 100, 8.4, 8.4);
      if (@$ptev->therapytype == 'M') {
        $this->fpdf->Image( $path_ticket, 158, 101, 5);
      }
      $pdf->Text(96, 107, "Restorative            Maintenance");
    }
    */
/*
		$this->fpdf->Text(( $cero_x + 435),( $cero_y + 70 ), "Mileage: "  );
		$this->fpdf->SetFont('Arial','B',$__FONT['PDF']['FORM_SMALL']);
		$this->fpdf->Text(( $cero_x + 475),( $cero_y + 70 ),$visit_log->mileage);
*/		
		$pdf->SetFont('Arial','',$__FONT['PDF']['SIZE']);
		$pdf->Text(11, 107, "Cognition/Subjective:");
		//$pdf->Text(11, 117, "Cognition/Subjective:");
		
        
        $this->fpdf->SetXY(101, 98.5);
        //$this->fpdf->SetXY(101, 110.5);
        //$this->fpdf->SetFont('Courier','B',$__FONT['PDF']['FORM_MEDIUM']);
        $this->fpdf->SetFont('Arial','B',$__FONT['PDF']['FORM_SMALL']);
        //$this->fpdf->SetFont('Courier','B',$__FONT['PDF']['FORM_SMALL4']);
        if($cognition_subjective_more){
        $this->fpdf->MultiCell(470, 10, substr(@$ptev->cognition_subjective,0, 205).' + ');
        //$this->fpdf->MultiCell(470, 7, substr(@$ptev->cognition_subjective,0, 145).' + ');
        }
        else{
        $this->fpdf->MultiCell(470, 10, substr(@$ptev->cognition_subjective,0, 205));
        //$this->fpdf->MultiCell(470, 7, substr(@$ptev->cognition_subjective,0, 145));
        }
        $pdf->SetLineWidth( 0.5);
        $pdf->Line(101, 108.5, 571, 108.5);
        //$pdf->Line(101, 117.5, 571, 117.5);
        $pdf->Line(101, 118.5, 571, 118.5);
        //$pdf->Line(101, 125.5, 571, 125.5);
        
        $pdf->SetFont('Arial','',$__FONT['PDF']['SIZE']);
        $pdf->Text(11, 130, "Objective/Hx:");
        //$pdf->Text(11, 137, "Objective/Hx:");
        
        //$this->fpdf->SetFont('Courier','B',$__FONT['PDF']['FORM_SMALL4']);
        $this->fpdf->SetFont('Arial','B',$__FONT['PDF']['FORM_SMALL']);
        if($hx_comments_more){
          $this->fpdf->SetXY(30+35, 120);
          $pdf->MultiCell(520, 10, substr(@$ptev->hx_comments, 0, 210).' + ');
        //$pdf->Text(30, 130, substr(@$ptev->hx_comments, 0, 95).' + ');
        }
        else{
          $this->fpdf->SetXY(30+35, 120);
          $pdf->MultiCell(520, 10, substr(@$ptev->hx_comments, 0, 210));
          //$pdf->Text(30, 130, substr(@$ptev->hx_comments, 0, 180));
        }
        
        //$pdf->Line(31, 131, 571, 131);
        $pdf->Line(31+37, 130, 577, 130);
        
        
        $pdf->SetLineWidth( 0.9);
        $pdf->Line(8, 142, 585, 142);
        
        $pdf->SetLineWidth( 0.5);
        
        $pdf->SetFont('Arial','',$__FONT['PDF']['FORM_SMALL']);
        $pdf->Text($cero_x, 152, "PHYSICAL ASSESSMENT");
        
        $pdf->Text($cero_x, 165, "JOINT ACTION                       STRENGTH                   R.O.M");
        $pdf->Line(8, 167, 585, 167);
        
        $pdf->Text($cero_x, 175, "HIP                                            L               R                 L             R");
        $pdf->Line(8, 177, 300, 177);
        
        
        // vertival lines
        $pdf->Line(120, 167, 120, 400);
        $pdf->Line(165, 177, 165, 287);
        $pdf->Line(210, 167, 210, 400);
        $pdf->Line(255, 177, 255, 287);
        $pdf->Line(300, 167, 300, 400);
        
        $pdf->Line(165, 317, 165, 400);
        $pdf->Line(255, 317, 255, 400);
        
        
        
        $pdf->Text($cero_x, 185, "Abduction");
        $pdf->Line(8, 187, 300, 187);
        $pdf->Text(132, 185, $tab_20[@$ptev->tab_020_hip_abd_sl]);
        $pdf->Text(177, 185, $tab_20[@$ptev->tab_020_hip_abd_sr]);
        $pdf->Text(224, 185, (@$ptev->tab_052_hip_abd_rl ? $tab_52[@$ptev->tab_052_hip_abd_rl] : @$ptev->tab_052_hip_abd_rl_deg));
        $pdf->Text(264, 185, (@$ptev->tab_052_hip_abd_rr ? $tab_52[@$ptev->tab_052_hip_abd_rr] : @$ptev->tab_052_hip_abd_rr_deg));
        
        
        $pdf->Text($cero_x, 195, "Adduction");
        $pdf->Line(8, 197, 300, 197);
        $pdf->Text(132, 195, $tab_20[@$ptev->tab_020_hip_add_sl]);
        $pdf->Text(177, 195, $tab_20[@$ptev->tab_020_hip_add_sr]);
        $pdf->Text(224, 195, (@$ptev->tab_052_hip_add_rl ? $tab_52[@$ptev->tab_052_hip_add_rl] : @$ptev->tab_052_hip_add_rl_deg));
        $pdf->Text(264, 195, (@$ptev->tab_052_hip_add_rr ? $tab_52[@$ptev->tab_052_hip_add_rr] : @$ptev->tab_052_hip_add_rr_deg));
        
        
        $pdf->Text($cero_x, 205, "Rotation");
        $pdf->Line(8, 207, 300, 207);
        $pdf->Text(132, 205, $tab_20[@$ptev->tab_020_hip_rot_sl]);
        $pdf->Text(177, 205, $tab_20[@$ptev->tab_020_hip_rot_sr]);
        $pdf->Text(224, 205, (@$ptev->tab_052_hip_rot_rl ? $tab_52[@$ptev->tab_052_hip_rot_rl] : @$ptev->tab_052_hip_rot_rl_deg));
        $pdf->Text(264, 205, (@$ptev->tab_052_hip_rot_rr ? $tab_52[@$ptev->tab_052_hip_rot_rr] : @$ptev->tab_052_hip_rot_rr_deg));
        
        
        $pdf->Text($cero_x, 215, "Flexion");
        $pdf->Line(8, 217, 300, 217);
        $pdf->Text(132, 215, $tab_20[@$ptev->tab_020_hip_fle_sl]);
        $pdf->Text(177, 215, $tab_20[@$ptev->tab_020_hip_fle_sr]);
        $pdf->Text(224, 215, (@$ptev->tab_052_hip_fle_rl ? $tab_52[@$ptev->tab_052_hip_fle_rl] : @$ptev->tab_052_hip_fle_rl_deg));
        $pdf->Text(264, 215, (@$ptev->tab_052_hip_fle_rr ? $tab_52[@$ptev->tab_052_hip_fle_rr] : @$ptev->tab_052_hip_fle_rr_deg));
        
        
        $pdf->Text($cero_x, 225, "Extension");
        $pdf->Line(8, 227, 300, 227);
        $pdf->Text(132, 225, $tab_20[@$ptev->tab_020_hip_ext_sl]);
        $pdf->Text(177, 225, $tab_20[@$ptev->tab_020_hip_ext_sr]);
        $pdf->Text(224, 225, (@$ptev->tab_052_hip_ext_rl ? $tab_52[@$ptev->tab_052_hip_ext_rl] : @$ptev->tab_052_hip_ext_rl_deg));
        $pdf->Text(264, 225, (@$ptev->tab_052_hip_ext_rr ? $tab_52[@$ptev->tab_052_hip_ext_rr] : @$ptev->tab_052_hip_ext_rr_deg));
        
        
        $pdf->Text($cero_x, 235, "KNEE");
        $pdf->Line(8, 237, 300, 237);
        
        
        $pdf->Text($cero_x, 245, "Flexion");
        $pdf->Line(8, 247, 300, 247);
        $pdf->Text(132, 245, $tab_20[@$ptev->tab_020_kne_fle_sl]);
        $pdf->Text(177, 245, $tab_20[@$ptev->tab_020_kne_fle_sr]);
        $pdf->Text(224, 245, (@$ptev->tab_052_kne_fle_rl ? $tab_52[@$ptev->tab_052_kne_fle_rl] : @$ptev->tab_052_kne_fle_rl_deg));
        $pdf->Text(264, 245, (@$ptev->tab_052_kne_fle_rr ? $tab_52[@$ptev->tab_052_kne_fle_rr] : @$ptev->tab_052_kne_fle_rr_deg));
        
 
        $pdf->Text($cero_x, 255, "Extension");
        $pdf->Line(8, 258, 300, 258);
        $pdf->Text(132, 255, $tab_20[@$ptev->tab_020_kne_ext_sl]);
        $pdf->Text(177, 255, $tab_20[@$ptev->tab_020_kne_ext_sr]);
        $pdf->Text(224, 255, (@$ptev->tab_052_kne_ext_rl ? $tab_52[@$ptev->tab_052_kne_ext_rl] : @$ptev->tab_052_kne_ext_rl_deg));
        $pdf->Text(264, 255, (@$ptev->tab_052_kne_ext_rr ? $tab_52[@$ptev->tab_052_kne_ext_rr] : @$ptev->tab_052_kne_ext_rr_deg));
        
        
        $pdf->Text($cero_x, 265, "ANKLE");
        $pdf->Line(8, 267, 300, 267);
        
        
        $pdf->Text($cero_x, 275, "Dorsiflex / Plantar Flex");
        $pdf->Line(8, 277, 300, 277);
        $pdf->Text(132, 275, $tab_20[@$ptev->tab_020_ank_dor_sl]);
        $pdf->Text(177, 275, $tab_20[@$ptev->tab_020_ank_dor_sr]);
        $pdf->Text(224, 275, (@$ptev->tab_052_ank_dor_rl ? $tab_52[@$ptev->tab_052_ank_dor_rl] : @$ptev->tab_052_ank_dor_rl_deg));
        $pdf->Text(264, 275, (@$ptev->tab_052_ank_dor_rr ? $tab_52[@$ptev->tab_052_ank_dor_rr] : @$ptev->tab_052_ank_dor_rr_deg));
        
        
        $pdf->Text($cero_x, 285, "Inversion / Eversion");
        $pdf->Line(8, 287, 300, 287);
        $pdf->Text(132, 285, $tab_20[@$ptev->tab_020_ank_inv_sl]);
        $pdf->Text(177, 285, $tab_20[@$ptev->tab_020_ank_inv_sr]);
        $pdf->Text(224, 285, (@$ptev->tab_052_ank_inv_rl ? $tab_52[@$ptev->tab_052_ank_inv_rl] : @$ptev->tab_052_ank_inv_rl_deg));
        $pdf->Text(264, 285, (@$ptev->tab_052_ank_inv_rr ? $tab_52[@$ptev->tab_052_ank_inv_rr] : @$ptev->tab_052_ank_inv_rr_deg));
        
        
        $pdf->Text($cero_x, 295, "TRUNK");
        $pdf->Line(8, 297, 300, 297);
        
        $pdf->Text($cero_x, 305, "PART/ACTION                        STRENGTH                   R.O.M");
        $pdf->Line(8, 307, 300, 307);
        
        $pdf->Text($cero_x, 315, "SHOULDER                              L               R                 L             R");
        $pdf->Line(8, 317, 300, 317);
        
        
        $pdf->Text($cero_x, 325, "Flexion");
        $pdf->Line(8, 327, 300, 327);
        $pdf->Text(132, 325, $tab_20[@$ptev->tab_020_sho_fle_sl]);
        $pdf->Text(177, 325, $tab_20[@$ptev->tab_020_sho_fle_sr]);
        $pdf->Text(224, 325, (@$ptev->tab_052_sho_fle_rl ? $tab_52[@$ptev->tab_052_sho_fle_rl] : @$ptev->tab_052_sho_fle_rl_deg));
        $pdf->Text(264, 325, (@$ptev->tab_052_sho_fle_rr ? $tab_52[@$ptev->tab_052_sho_fle_rr] : @$ptev->tab_052_sho_fle_rr_deg));
        
        
        $pdf->Text($cero_x, 335, "Extension");
        $pdf->Line(8, 337, 300, 337);
        $pdf->Text(132, 335, $tab_20[@$ptev->tab_020_sho_ext_sl]);
        $pdf->Text(177, 335, $tab_20[@$ptev->tab_020_sho_ext_sr]);
        $pdf->Text(224, 335, (@$ptev->tab_052_sho_ext_rl ? $tab_52[@$ptev->tab_052_sho_ext_rl] : @$ptev->tab_052_sho_ext_rl_deg));
        $pdf->Text(264, 335, (@$ptev->tab_052_sho_ext_rr ? $tab_52[@$ptev->tab_052_sho_ext_rr] : @$ptev->tab_052_sho_ext_rr_deg));


        $pdf->Text($cero_x, 345, "Abduction");
        $pdf->Line(8, 347, 300, 347);
        $pdf->Text(132, 345, $tab_20[@$ptev->tab_020_sho_abd_sl]);
        $pdf->Text(177, 345, $tab_20[@$ptev->tab_020_sho_abd_sr]);
        $pdf->Text(224, 345, (@$ptev->tab_052_sho_abd_rl ? $tab_52[@$ptev->tab_052_sho_abd_rl] : @$ptev->tab_052_sho_abd_rl_deg));
        $pdf->Text(264, 345, (@$ptev->tab_052_sho_abd_rr ? $tab_52[@$ptev->tab_052_sho_abd_rr] : @$ptev->tab_052_sho_abd_rr_deg));
        

        $pdf->Text($cero_x, 355, "Adduction");
        $pdf->Line(8, 357, 300, 357);
        $pdf->Text(132, 355, $tab_20[@$ptev->tab_020_sho_add_sl]);
        $pdf->Text(177, 355, $tab_20[@$ptev->tab_020_sho_add_sr]);
        $pdf->Text(224, 355, (@$ptev->tab_052_sho_add_rl ? $tab_52[@$ptev->tab_052_sho_add_rl] : @$ptev->tab_052_sho_add_rl_deg));
        $pdf->Text(264, 355, (@$ptev->tab_052_sho_add_rr ? $tab_52[@$ptev->tab_052_sho_add_rr] : @$ptev->tab_052_sho_add_rr_deg));
        
        
        $pdf->Text($cero_x, 365, "ELBOW");
        $pdf->Line(8, 367, 300, 367);
        
        
        $pdf->Text($cero_x, 375, "Flexion");
        $pdf->Line(8, 377, 300, 377);
        $pdf->Text(132, 375, $tab_20[@$ptev->tab_020_elb_fle_sl]);
        $pdf->Text(177, 375, $tab_20[@$ptev->tab_020_elb_fle_sr]);
        $pdf->Text(224, 375, (@$ptev->tab_052_elb_fle_rl ? $tab_52[@$ptev->tab_052_elb_fle_rl] : @$ptev->tab_052_elb_fle_rl_deg));
        $pdf->Text(264, 375, (@$ptev->tab_052_elb_fle_rr ? $tab_52[@$ptev->tab_052_elb_fle_rr] : @$ptev->tab_052_elb_fle_rr_deg));
        
        
        $pdf->Text($cero_x, 385, "Extension");
        $pdf->Line(8, 387, 300, 387);
        $pdf->Text(132, 385, $tab_20[@$ptev->tab_020_elb_ext_sl]);
        $pdf->Text(177, 385, $tab_20[@$ptev->tab_020_elb_ext_sr]);
        $pdf->Text(224, 385, (@$ptev->tab_052_elb_ext_rl ? $tab_52[@$ptev->tab_052_elb_ext_rl] : @$ptev->tab_052_elb_ext_rl_deg));
        $pdf->Text(264, 385, (@$ptev->tab_052_elb_ext_rr ? $tab_52[@$ptev->tab_052_elb_ext_rr] : @$ptev->tab_052_elb_ext_rr_deg));
        
        
        $pdf->Text($cero_x, 395, "Wrist/Grip");
        $pdf->Line(8, 397, 300, 397);
        $pdf->Text(132, 395, $tab_20[@$ptev->tab_020_wri_gri_sl]);
        $pdf->Text(177, 395, $tab_20[@$ptev->tab_020_wri_gri_sr]);
        $pdf->Text(224, 395, (@$ptev->tab_052_wri_gri_rl ? $tab_52[@$ptev->tab_052_wri_gri_rl] : @$ptev->tab_052_wri_gri_rl_deg));
        $pdf->Text(264, 395, (@$ptev->tab_052_wri_gri_rr ? $tab_52[@$ptev->tab_052_wri_gri_rr] : @$ptev->tab_052_wri_gri_rr_deg));
    
    
    
    	$pdf->Text(340, 165, "FUNCTIONAL STATUS");
    
        $pdf->Text(340, 185, "Bed Mobility");
        $pdf->Text(440, 185, $tab_48[@$ptev->p1_fun_sts_tab048_bed_mob]);
		$this->fpdf->Line(300, 187, 584, 187);
        
        $pdf->Text(340, 195, "Transfers W/C");
        $pdf->Text(440, 195, $tab_48[@$ptev->p1_fun_sts_tab048_trans_wc_bed]);
        $this->fpdf->Line(300, 197, 584, 197);
		
        $pdf->Text(340, 205, "Transfers Tub/Showe");
        $pdf->Text(440, 205, $tab_48[@$ptev->p1_fun_sts_tab048_trans_tub_show]);
        $this->fpdf->Line(300, 207, 584, 207);
		
        $pdf->Text(340, 215, "Supine to Sit");
        $pdf->Text(440, 215, $tab_48[@$ptev->p1_fun_sts_tab048_supine_tosit]);
        $this->fpdf->Line(300, 217, 584, 217);
		
        $pdf->Text(340, 225, "Sit to stand");
        $pdf->Text(440, 225, $tab_48[@$ptev->p1_fun_sts_tab048_sittostand]);
        $this->fpdf->Line(300, 227, 584, 227);
		
        $pdf->Text(340, 235, "Gait:");
        $pdf->Text(366, 235, @$ptev->p1_fun_sts_gait_feet);
        $this->fpdf->Line(300, 237, 584, 237);
		
        $pdf->Text(386, 235, "feet");
        $pdf->Text(440, 235, $tab_48[@$ptev->p1_fun_sts_tab048_gait_ft]);
        		
        $pdf->Text(340, 245, "Gait Device Type");
        $pdf->Text(440, 245, $tab_78[@$ptev->p1_fun_sts_tab078_gait_dev_typ]);
        $this->fpdf->Line(300, 247, 584, 247);
		
        $pdf->Text(340, 255, "Weight Bearing Status");
        $pdf->Rect(440, 248, 8.4, 8.4);
        if (@$ptev->weig_bear_rle == 1) {
        	$this->fpdf->Image( $path_ticket, 442, 249, 5);
        }
        $pdf->Rect(500, 248, 8.4, 8.4);
        if (@$ptev->weig_bear_lle == 1) {
        	$this->fpdf->Image( $path_ticket, 502, 249, 5);
        }
        $pdf->Text(440, 255, "       R LE             L LE");
        
        //$pdf->Text(440, 255, $tab_79[@$ptev->p1_fun_sts_tab079_weig_bear_12345]);
        $this->fpdf->Line(300, 258, 584, 258);
		
        $pdf->Rect(340, 263, 8.4, 8.4);
        if (@$ptev->p1_fun_sts_tab090_weig_bear_12345 == 1) {
        	$this->fpdf->Image( $path_ticket, 341, 264, 6);
        }
        $pdf->Rect(400, 263, 8.4, 8.4);
        if (@$ptev->p1_fun_sts_tab090_weig_bear_12345 == 2) {
        	$this->fpdf->Image( $path_ticket, 401, 264, 6);
        }
        $pdf->Text(340, 270, "         FWB               WBAT");
        
        $pdf->Rect(340, 273, 8.4, 8.4);
        if (@$ptev->p1_fun_sts_tab090_weig_bear_12345 == 3) {
        	$this->fpdf->Image( $path_ticket, 341, 274, 6);
        }
        $pdf->Rect(400, 273, 8.4, 8.4);
        if (@$ptev->p1_fun_sts_tab090_weig_bear_12345 == 4) {
        	$this->fpdf->Image( $path_ticket, 401, 274, 6);
        }
        $pdf->Text(340, 280, "         PWB               TDWB");
        
        $pdf->Rect(340, 283, 8.4, 8.4);
        if (@$ptev->p1_fun_sts_tab090_weig_bear_12345 == 5) {
        	$this->fpdf->Image( $path_ticket, 341, 284, 6);
        }
        $pdf->Text(340, 290, "         NWB");
        $this->fpdf->Line(300, 297, 584, 297);
		
        $pdf->Text(340, 305, "Other:");
        $pdf->Text(376, 305, @$ptev->p1_fun_sts_weig_bear_sts_other_weight);
        $pdf->Text(400, 305, $tab_27[@$ptev->p1_fun_sts_tab027_weig_bear_sts_other_weight]);
        $this->fpdf->Line(300, 307, 584, 307);
		
        $pdf->Text(340, 315, "Stairs");
        $pdf->Text(440, 315, $tab_48[@$ptev->p1_fun_sts_tab048_stairs]);
        $this->fpdf->Line(300, 317, 584, 317);
		
        $pdf->Text(340, 325, "Steps / Curb");
        $pdf->Text(440, 325, $tab_48[@$ptev->p1_fun_sts_tab048_stepscurb]);
        $this->fpdf->Line(300, 327, 584, 327);
		
        $pdf->Text(340, 335, "Toileting");
        $pdf->Text(440, 335, $tab_48[@$ptev->p1_fun_sts_tab048_toileting]);
        $this->fpdf->Line(300, 337, 584, 337);
		
        $pdf->Text(340, 345, "Wheelchair Mgmnt");
        $pdf->Text(440, 345, $tab_48[@$ptev->p1_fun_sts_tab048_wheelcha]);
        $this->fpdf->Line(300, 347, 584, 347);
		
        $pdf->Text(340, 355, "Other");
        $pdf->Text(440, 355, $tab_48[@$ptev->p1_fun_sts_tab048_Other]);
		
		$pdf->SetFont('Courier','B',$__FONT['PDF']['FORM_MEDIUM']);
		$pdf->Text(340, 365, substr(@$ptev->p1_fun_sts_Other_desc, 0, 30));
		$this->fpdf->Line(300, 367, 584, 367);
    
    	$pdf->Line(8, 400, 585, 400);
    	
    	
    	
    	$pdf->SetFont('Arial','',$__FONT['PDF']['FORM_SMALL']);
    	$pdf->Text(66, 410, "BALANCE");
    	$pdf->Line(194, 400, 194, 483);
    	
    	
    	$pdf->Rect(12, 413, 8.4, 8.4);
    	$pdf->Text(23, 420, "Tinetti");
        if (@$ptev->p1_bal_tinetti == 1) {
        	$this->fpdf->Image( $path_ticket, 13, 414, 6);
        }
        
        $pdf->Text(12, 430, "Gait Score");
        $pdf->Text(80, 430, @$ptev->p1_bal_gait_score);
        $pdf->Line(76, 432, 94, 432);
		
        $pdf->Text(12, 440, "Balance Score");
        $pdf->Text(80, 440, @$ptev->p1_bal_score);
        $pdf->Line(76, 442, 94, 442);
		
        $pdf->Text(12, 450, "Total Score");
        $pdf->Text(80, 450, @@$ptev->p1_bal_gait_score + @@$ptev->p1_bal_score);
    	$pdf->Line(76, 452, 94, 452);
    	
    	$pdf->Rect(12, 453, 8.4, 8.4);
        if (@$ptev->p1_bal_berg == 1) {
        	$this->fpdf->Image( $path_ticket, 13, 454, 6);
        }
    	
    	$pdf->Rect(52, 453, 8.4, 8.4);
        if (@$ptev->p1_bal_na == 1) {
        	$this->fpdf->Image( $path_ticket, 53, 454, 6);
        }
    	
    	$pdf->Text(12, 460, "     Berg        N/A ");
    	
    	$pdf->Text(12, 470, "Note:");
      
      //$pdf->SetFont('Courier','',$__FONT['PDF']['FORM_MEDIUM']);
      $pdf->SetFont('Courier','',9);      
    	$pdf->Text(35, 470, substr(@$ptev->p1_bal_desc,  0, 27));
    	$pdf->Text(12, 480, substr(@$ptev->p1_bal_desc, 27, 60));
    	$pdf->Line(38, 472, 190, 472);
    	
    	$pdf->SetFont('Arial','',$__FONT['PDF']['FORM_SMALL']);
    	$pdf->Text(253, 410, "BALANCE ASSISST");
		$pdf->Line(375, 400, 375, 483);
		
		$pdf->Text(195, 430, "Static Sitting");
		$pdf->Text(285, 430, $tab_48[@$ptev->p1_bal_tab048_assist_stat]);
		$pdf->Line(280, 432, 308, 432);
		
		$pdf->Text(195, 440, "Dynamic Sitting");
		$pdf->Text(285, 440, $tab_48[@$ptev->p1_bal_tab048_assist_dyn_sitt]);
		$pdf->Line(280, 442, 308, 442);
		
		$pdf->Text(195, 450, "Dynamic Standing");
		$pdf->Text(285, 450, $tab_48[@$ptev->p1_bal_tab048_assist_dyn_stan]);
		$pdf->Line(280, 452, 308, 452);
		
		$pdf->Text(195, 470, "Note:");
		//$pdf->SetFont('Courier','',$__FONT['PDF']['FORM_MEDIUM']);
		$pdf->SetFont('Courier','',9);
		$pdf->Text(223, 470, substr(@$ptev->p1_bal_assist_desc, 0, 27));
		$pdf->Text(195, 480, substr(@$ptev->p1_bal_assist_desc, 27, 60));
		$pdf->Line(221, 472, 371, 472);
		
		
		$pdf->SetFont('Arial','',$__FONT['PDF']['FORM_SMALL']);
    	$pdf->Text(461, 410, "POSTURE");
    	
		$pdf->Text(376, 430, "Sitting Posture");
		$pdf->Text(460, 430, $tab_49[@$ptev->p1_pos_tab049_sitt_tabyyy]);
		$pdf->Line(455, 432, 490, 432);
		
		$pdf->Text(376, 440, "Standing Posture");
		$pdf->Text(460, 440, $tab_49[@$ptev->p1_pos_tab049_stand_tabyyy]);
    	$pdf->Line(455, 442, 490, 442);
		
		$pdf->Text(376, 450, "Transitional");
		$pdf->Text(460, 450, $tab_49[@$ptev->p1_postab_049_tran_tabyyy]);
		$pdf->Line(455, 452, 490, 452);
		
		$pdf->Text(376, 470, "Note:");
		//$pdf->SetFont('Courier','',$__FONT['PDF']['FORM_MEDIUM']);
		$pdf->SetFont('Courier','',9);
		$pdf->Text(404, 470, substr(@$ptev->p1_pos_desc,  0, 30));
		$pdf->Text(376, 480, substr(@$ptev->p1_pos_desc, 30, 60));
		$pdf->Line(403, 472, 580, 472);
		
		$pdf->Line(8, 483, 585, 483);
    
    	$pdf->SetFont('Arial','',$__FONT['PDF']['FORM_SMALL']);
    	$pdf->Text(11, 493, "GAIT / DISTANCE / SURFACE");
    	
    	$pdf->SetFont('Courier','',$__FONT['PDF']['FORM_MEDIUM']);
    	$pdf->Text(11, 501, substr(@$ptev->p1_gait_dist_surf, 0, 95));
    	$pdf->Text(11, 511, substr(@$ptev->p1_gait_dist_surf, 95, 95));
    	

    	$pdf->Line(8, 513, 585, 513);
    	
    	
    	$pdf->SetFont('Arial','',$__FONT['PDF']['FORM_SMALL']);
    	$pdf->Text(11, 523, "SYSTEMS ASSESSMENT");
    	
    	$pdf->Text(11, 533, "BP:  " . @$ptev->p1_sa_bp1 . "    " . @$ptev->p1_sa_bp2);

    	$pdf->Rect(74, 526, 8.4, 8.4);
        if (@$ptev->tab_062_right_left == 1) {
        	$this->fpdf->Image( $path_ticket, 75, 527, 6);
        }

    	$pdf->Rect(100, 526, 8.4, 8.4);
        if (@$ptev->tab_062_right_left == 2) {
        	$this->fpdf->Image( $path_ticket, 101, 527, 6);
        }
        
    	$pdf->Text(80, 533, "  R        L");
    	
    	
    	$pdf->Rect(24, 536, 8.4, 8.4);
        if (@$ptev->p1_sa_sitt_lyi_stand == 1) {
        	$this->fpdf->Image( $path_ticket, 25, 537, 6);
        }
    	
    	$pdf->Rect(72, 536, 8.4, 8.4);
        if (@$ptev->p1_sa_sitt_lyi_stand == 2) {
        	$this->fpdf->Image( $path_ticket, 73, 537, 6);
        }
    	
    	$pdf->Rect(119, 536, 8.4, 8.4);
        if (@$ptev->p1_sa_sitt_lyi_stand == 3) {
        	$this->fpdf->Image( $path_ticket, 120, 537, 6);
        }
    	
    	$pdf->Text(11, 543, "          Sitting         Lying          Standing");
    	
    	
    	
    	$pdf->Text(11, 553, "HR:                      02 Sat:");
    	$pdf->Text(31, 553, @$ptev->p1_sa_hr);
    	$pdf->Text(118, 553, @$ptev->p1_sa_o2_sat);
    	
    	
    	$pdf->Text(11, 563, "Skin:");
    	$pdf->SetFont('Courier','B',$__FONT['PDF']['FORM_MEDIUM']);
    	$pdf->Text(11, 573, @$ptev->p1_sa_skin);
    	$pdf->Line(11, 575, 185, 575);
    	
    	$pdf->Line(187, 513, 187, 701);
    	
    	
    	$pdf->SetFont('Arial','',$__FONT['PDF']['FORM_SMALL']);
    	$pdf->Text(230, 523, "PAIN ASSESSMENT");
    	
    	$countx = 0;
    	$county = 0;
    	foreach ($tab_87 as $pa_id => $pa) {
    		
    		$pdf->Rect(200 + $countx - 10, 526 + $county, 8.4, 8.4);
	        if (@$ptev->p1_pa_nbr == $pa_id) {
	        	$this->fpdf->Image( $path_ticket, 200 + $countx - 9, 526 + $county + 1, 6);
	        }
    		$pdf->Text(200 + $countx, 533 + $county, $pa);
    		
    		$countx += ($pa_id < 2 ? 50 : 25);
    		if ($countx > 162) { 
    			$countx  = 0;
    			$county += 10;
    		}
    		
    	}
    	
    	$pdf->Text(190, 553, "Location:");
    	
    	$pdf->SetFont('Courier','',$__FONT['PDF']['FORM_MEDIUM']);
    	//$pdf->Text(190, 563, @$ptev->p1_pa_locat);
    	$pdf->Text(227, 553, @$ptev->p1_pa_locat);
    	//$pdf->Line(190, 565, 368, 565);
    	$pdf->Line(227, 555, 398, 555);
		
    	$pdf->SetFont('Arial','',$__FONT['PDF']['FORM_SMALL']);
    	//$pdf->Text(190, 573, "Pain Control:");
    	$pdf->Text(190, 563, "Pain Control:");
    	
    	$pdf->SetFont('Courier','',$__FONT['PDF']['FORM_MEDIUM']);
    	//$pdf->Text(190, 583, @$ptev->p1_pa_curr_pain);    	
      $pdf->SetXY(240, 555);
      $pdf->MultiCell(149, 10, @$ptev->p1_pa_curr_pain);
    	
      $pdf->SetFont('Arial','',$__FONT['PDF']['FORM_SMALL']);
    	//$pdf->Text(190, 573, "Pain Control:");
    	$pdf->Text(190, 583, "Time since last medication:");
      $pdf->SetFont('Courier','',$__FONT['PDF']['FORM_MEDIUM']);
      $pdf->Text(300, 583, @$ptev->p1_pa_time_since_last_med);
      
    	$pdf->Line(400, 513, 400, 701);

    	
    	$pdf->SetFont('Arial','',$__FONT['PDF']['FORM_SMALL']);
    	//$pdf->Text(430, 523, "MENTAL STATUS");
    	$pdf->Text(436, 523, "MENTAL STATUS");
    	
    	// mental status checkboxes
    	$array_ms = array ('p1_ms_alert' => "Alert ",
    					   'p1_ms_oriented' => "Oriented",
    					   'p1_ms_disoriented' => "Disoriented",
    					   'p1_ms_forget' => "Forgetful",
    					   'p1_ms_agitated' => "Agitated",
    					   'p1_ms_depressed' => "Depressed");
    	
    	$count = 0;
    	foreach ($array_ms as $ms_field => $ms_name) {
    		
    		//$pdf->Rect(378 + ($count % 2 == 1 ? 70 : 0), 526 + (floor($count/2) * 10), 8.4, 8.4);
    		$pdf->Rect(410 + ($count % 2 == 1 ? 70 : 0), 526 + (floor($count/2) * 10), 8.4, 8.4);
	        if (@$ptev->$ms_field == 1) {
	        	//$this->fpdf->Image( $path_ticket, 379 + ($count % 2 == 1 ? 70 : 0), 527 + (floor($count/2) * 10), 6);
	        	$this->fpdf->Image( $path_ticket, 411 + ($count % 2 == 1 ? 70 : 0), 527 + (floor($count/2) * 10), 6);
	        }
    		
    		//$pdf->Text(390 + ($count % 2 == 1 ? 70 : 0), 533 + (floor($count/2) * 10), $ms_name);
    		$pdf->Text(422 + ($count % 2 == 1 ? 70 : 0), 533 + (floor($count/2) * 10), $ms_name);
    		
    		$count++;
    		
    	}
    	
    	$pdf->Line(8, 586, 585, 586);
    	
    	
    	$pdf->Text(11, 596, "HOME EVALUATION");
    	
    	$pdf->Rect(11, 599, 8.4, 8.4);
        if (@$ptev->p1_he_alone == 1) {
        	$this->fpdf->Image( $path_ticket, 12, 600, 6);
        }
        $pdf->Text(22, 606, "Alone");
        
		
        $pdf->Text(22, 616, "Other:");
		$pdf->SetFont('Courier','B',$__FONT['PDF']['FORM_MEDIUM']);
		$pdf->Text(50, 616, @$ptev->p1_he_other_desc);
		$pdf->Line(48, 618, 161, 618);
		$pdf->Line(11, 627, 161, 627);
    
		$pdf->SetFont('Arial','',$__FONT['PDF']['FORM_SMALL']);
    	$pdf->Rect(11, 629, 8.4, 8.4);
        if (@$ptev->p1_he_alone == 1) {
        	$this->fpdf->Image( $path_ticket, 12, 630, 6);
        }
    	$pdf->Rect(62, 629, 8.4, 8.4);
        if (@$ptev->p1_he_apt == 1) {
        	$this->fpdf->Image( $path_ticket, 63, 630, 6);
        }
        $pdf->Text(22, 636, "Home           Apt ");
    
    
    	$pdf->Rect(11, 639, 8.4, 8.4);
        if (@$ptev->p1_he_mobile == 1) {
        	$this->fpdf->Image( $path_ticket, 12, 640, 6);
        }
    	$pdf->Rect(83, 639, 8.4, 8.4);
        if (@$ptev->p1_he_stairs == 1) {
        	$this->fpdf->Image( $path_ticket, 84, 640, 6);
        }
        $pdf->Text(22, 646, "Mobile Home        Stairs");    
    
    
    	$pdf->Rect(11, 649, 8.4, 8.4);
        if (@$ptev->p1_he_senior == 1) {
        	$this->fpdf->Image( $path_ticket, 12, 650, 6);
        }
        $pdf->Text(22, 656, "Senior Complex");
        
        
    	$pdf->Rect(11, 659, 8.4, 8.4);
        if (@$ptev->p1_he_spacious == 1) {
        	$this->fpdf->Image( $path_ticket, 12, 660, 6);
        }
    	$pdf->Rect(83, 659, 8.4, 8.4);
        if (@$ptev->p1_he_clean == 1) {
        	$this->fpdf->Image( $path_ticket, 84, 660, 6);
        }
        $pdf->Text(22, 666, "Spacious              Clean");
        
        
    	$pdf->Rect(11, 669, 8.4, 8.4);
        if (@$ptev->p1_he_crowded == 1) {
        	$this->fpdf->Image( $path_ticket, 12, 670, 6);
        }
    	$pdf->Rect(83, 669, 8.4, 8.4);
        if (@$ptev->p1_he_clutter == 1) {
        	$this->fpdf->Image( $path_ticket, 84, 670, 6);
        }
        $pdf->Text(22, 676, "Crowded              Cluttered");
    
    
    	$pdf->Rect(11, 679, 8.4, 8.4);
        if (@$ptev->p1_he_unsound == 1) {
        	$this->fpdf->Image( $path_ticket, 12, 680, 6);
        }
        $pdf->Text(22, 686, "Unsound Structure");
        
        
    	$pdf->Rect(11, 689, 8.4, 8.4);
        if (@$ptev->p1_he_no_tel == 1) {
        	$this->fpdf->Image( $path_ticket, 12, 690, 6);
        }
        $pdf->Text(22, 696, "No Telephone available or unusable");
        
        
        
    	$pdf->Text(230, 596, "SAFETY MEASURES");
    	
    	$pdf->Rect(190, 599, 8.4, 8.4);
        if (@$ptev->p1_saf_clear_path == 1) {
        	$this->fpdf->Image( $path_ticket, 191, 600, 6);
        }
    	$pdf->Rect(284, 599, 8.4, 8.4);
        if (@$ptev->p1_saf_fall_precau == 1) {
        	$this->fpdf->Image( $path_ticket, 285, 600, 6);
        }        
        $pdf->Text(201, 606, "Clear Pathways            Fall Precaution");
        
        
    	$pdf->Rect(190, 609, 8.4, 8.4);
        if (@$ptev->p1_saf_at_home == 1) {
        	$this->fpdf->Image( $path_ticket, 191, 610, 6);
        }
        $pdf->Text(201, 616, "Safety at home");


    	$pdf->Rect(190, 619, 8.4, 8.4);
        if (@$ptev->p1_saf_emerg_manag == 1) {
        	$this->fpdf->Image( $path_ticket, 191, 620, 6);
        }
        $pdf->Text(201, 626, "Emergency Management");
        
        
    	$pdf->Rect(190, 629, 8.4, 8.4);
        if (@$ptev->p1_saf_ortho_precau == 1) {
        	$this->fpdf->Image( $path_ticket, 191, 630, 6);
        }
        $pdf->Text(201, 636, "Ortho Precautions / Restrictions");
    	
		
    	$pdf->Rect(190, 639, 8.4, 8.4);
        if (@$ptev->p1_saf_steps == 1) {
        	$this->fpdf->Image( $path_ticket, 191, 640, 6);
        }
        $pdf->Text(201, 646, "Steps");


    	$pdf->Rect(190, 649, 8.4, 8.4);
        if (@$ptev->p1_saf_stairs == 1) {
        	$this->fpdf->Image( $path_ticket, 191, 650, 6);
        }
        $pdf->Text(201, 656, "Stairs");


    	$pdf->Rect(190, 659, 8.4, 8.4);
        if (@$ptev->p1_saf_24_hour_sup == 1) {
        	$this->fpdf->Image( $path_ticket, 191, 660, 6);
        }
        $pdf->Text(201, 666, "24 hr. supervision");


    	$pdf->Rect(190, 669, 8.4, 8.4);
        if (@$ptev->p1_saf_infec_control == 1) {
        	$this->fpdf->Image( $path_ticket, 191, 670, 6);
        }
        $pdf->Text(201, 676, "Infection control measures");


    	$pdf->Rect(190, 679, 8.4, 8.4);
        if (@$ptev->p1_saf_use_dme == 1) {
        	$this->fpdf->Image( $path_ticket, 191, 680, 6);
        }
        $pdf->Text(201, 686, "Use DME Equipment:");
		$pdf->SetFont('Courier','B',$__FONT['PDF']['FORM_MEDIUM']);
		$pdf->Text(201, 696, @$ptev->p1_saf_use_dme_desc);

		
		$pdf->SetFont('Arial','',$__FONT['PDF']['FORM_SMALL']);
		//$pdf->Text(376, 596, "OTHER ASSESSMENTS:");
		$pdf->Text(436, 596, "OTHER ASSESSMENTS:");

		$pdf->SetFont('Courier','',$__FONT['PDF']['FORM_MEDIUM']);
        //$pdf->SetXY(376, 600);
        $pdf->SetXY(405, 600);
        //$pdf->MultiCell(202, 10, substr(@$ptev->p1_other_assessment, 0, 300));
        $pdf->MultiCell(176, 10, substr(@$ptev->p1_other_assessment, 0, 285));


		$pdf->Line(8, 701, 585, 701);

		
		$pdf->SetFont('Arial','',$__FONT['PDF']['FORM_SMALL']);
		$pdf->Text(11, 711, "EQUIPMENT IN THE HOME");

		$pdf->Text(11, 721, "     Tub          Shower Bench          Handheld Shower              Reacher          Wheelchair            Hospital Bed");
    	
    	$pdf->Rect(11, 714, 8.4, 8.4);
        if (@$ptev->p1_equi_tub == 1) {
        	$this->fpdf->Image( $path_ticket, 12, 715, 6);
        }
        
    	$pdf->Rect(54, 714, 8.4, 8.4);
        if (@$ptev->p1_equi_shower == 1) {
        	$this->fpdf->Image( $path_ticket, 55, 715, 6);
        }

    	$pdf->Rect(137, 714, 8.4, 8.4);
        if (@$ptev->p1_equi_handheld == 1) {
        	$this->fpdf->Image( $path_ticket, 138, 715, 6);
        }
        
    	$pdf->Rect(241, 714, 8.4, 8.4);
        if (@$ptev->p1_equi_reacher == 1) {
        	$this->fpdf->Image( $path_ticket, 242, 715, 6);
        }
        
    	$pdf->Rect(301, 714, 8.4, 8.4);
        if (@$ptev->p1_equi_wheelch == 1) {
        	$this->fpdf->Image( $path_ticket, 302, 715, 6);
        }
        
    	$pdf->Rect(376, 714, 8.4, 8.4);
        if (@$ptev->p1_equi_hosp_bed == 1) {
        	$this->fpdf->Image( $path_ticket, 377, 715, 6);
        }


		$pdf->Text(11, 731, "     Bedside Comm                         Raised Toilet Seat             Grab Bars  Toilet                           Grab Bars Bath ");
    	
    	$pdf->Rect(11, 724, 8.4, 8.4);
        if (@$ptev->p1_equi_beside_comm == 1) {
        	$this->fpdf->Image( $path_ticket, 12, 725, 6);
        }
        
    	$pdf->Rect(137, 724, 8.4, 8.4);
        if (@$ptev->p1_equi_raised_toil == 1) {
        	$this->fpdf->Image( $path_ticket, 138, 725, 6);
        }

    	$pdf->Rect(241, 724, 8.4, 8.4);
        if (@$ptev->p1_equi_grab_toil == 1) {
        	$this->fpdf->Image( $path_ticket, 242, 725, 6);
        }

    	$pdf->Rect(376, 724, 8.4, 8.4);
        if (@$ptev->p1_equi_grab_bars_bath == 1) {
        	$this->fpdf->Image( $path_ticket, 377, 725, 6);
        }


		$pdf->Text(11, 741, "     Grab Bars Shower                    Walker                               Rolling Walker             Cane         Other:");
    	
    	$pdf->Rect(11, 734, 8.4, 8.4);
        if (@$ptev->p1_equi_grab_bars_shower == 1) {
        	$this->fpdf->Image( $path_ticket, 12, 735, 6);
        }

    	$pdf->Rect(137, 734, 8.4, 8.4);
        if (@$ptev->p1_equi_walker == 1) {
        	$this->fpdf->Image( $path_ticket, 138, 735, 6);
        }

    	$pdf->Rect(241, 734, 8.4, 8.4);
        if (@$ptev->p1_equi_rolling_walk == 1) {
        	$this->fpdf->Image( $path_ticket, 242, 735, 6);
        }

    	$pdf->Rect(331, 734, 8.4, 8.4);
        if (@$ptev->p1_equi_cane == 1) {
        	$this->fpdf->Image( $path_ticket, 332, 735, 6);
        }

    	$pdf->Rect(376, 734, 8.4, 8.4);
        if (@$ptev->p1_equi_other == 1) {
        	$this->fpdf->Image( $path_ticket, 377, 735, 6);
        }


		$pdf->SetFont('Courier','B',$__FONT['PDF']['FORM_MEDIUM']);
		$pdf->Text(416, 741, @$ptev->p1_equi_other_desc);


		$pdf->Line(8, 746, 585, 746);
		
		
		$pdf->SetFont('Arial','',$__FONT['PDF']['FORM_SMALL']);
		$pdf->Text(11, 756, "THERAPY INTERVENTION / INSTRUCTION");
		
		$pdf->Text(11, 766, "      Evaluation               Lymphedema         Chest Physiotherapy         Ultrasound          Home Therapy Program         Therapeutic Exercise ");
    	
    	$pdf->Rect(11, 759, 8.4, 8.4);
        if (@$ptev->p1_ther_evaluation == 1) {
        	$this->fpdf->Image( $path_ticket, 12, 760, 6);
        }
        
    	$pdf->Rect(91, 759, 8.4, 8.4);
        if (@$ptev->p1_ther_lymphadema == 1) {
        	$this->fpdf->Image( $path_ticket, 92, 760, 6);
        }
		
    	$pdf->Rect(171, 759, 8.4, 8.4);
        if (@$ptev->p1_ther_chest_phys == 1) {
        	$this->fpdf->Image( $path_ticket, 172, 760, 6);
        }

    	$pdf->Rect(278, 759, 8.4, 8.4);
        if (@$ptev->p1_ther_ultra_sound == 1) {
        	$this->fpdf->Image( $path_ticket, 279, 760, 6);
        }

    	$pdf->Rect(346, 759, 8.4, 8.4);
        if (@$ptev->p1_ther_home_ther == 1) {
        	$this->fpdf->Image( $path_ticket, 347, 760, 6);
        }

    	$pdf->Rect(465, 759, 8.4, 8.4);
        if (@$ptev->p1_ther_thera_exerc == 1) {
        	$this->fpdf->Image( $path_ticket, 466, 760, 6);
        }


		$pdf->Text(11, 776, "      Electrotherapy         Muscle Reeduc      Balance                             Gait Trainig         Transfer Training                     Prosthetic Training");
    	
    	$pdf->Rect(11, 769, 8.4, 8.4);
        if (@$ptev->p1_ther_electro == 1) {
        	$this->fpdf->Image( $path_ticket, 12, 770, 6);
        }
        
    	$pdf->Rect(91, 769, 8.4, 8.4);
        if (@$ptev->p1_ther_muscle_reeduc == 1) {
        	$this->fpdf->Image( $path_ticket, 92, 770, 6);
        }

    	$pdf->Rect(171, 769, 8.4, 8.4);
        if (@$ptev->p1_ther_balance == 1) {
        	$this->fpdf->Image( $path_ticket, 172, 770, 6);
        }

    	$pdf->Rect(278, 769, 8.4, 8.4);
        if (@$ptev->p1_ther_gait_trai == 1) {
        	$this->fpdf->Image( $path_ticket, 279, 770, 6);
        }

    	$pdf->Rect(346, 769, 8.4, 8.4);
        if (@$ptev->p1_ther_trans_trai == 1) {
        	$this->fpdf->Image( $path_ticket, 347, 770, 6);
        }

    	$pdf->Rect(465, 769, 8.4, 8.4);
        if (@$ptev->p1_ther_prosth_trai == 1) {
        	$this->fpdf->Image( $path_ticket, 466, 770, 6);
        }


		$pdf->Text(11, 786, "      Fabrication of Devices");
    	
    	$pdf->Rect(11, 779, 8.4, 8.4);
        if (@$ptev->p1_ther_fabric_devices == 1) {
        	$this->fpdf->Image( $path_ticket, 12, 780, 6);
        }


		$pdf->Text(11, 796, "      Other: ");
    	
    	$pdf->Rect(11, 789, 8.4, 8.4);
        if (@$ptev->p1_ther_other == 1) {
        	$this->fpdf->Image( $path_ticket, 12, 790, 6);
        }

		$pdf->SetFont('Courier','B',$__FONT['PDF']['FORM_MEDIUM']);
		$pdf->Text(53, 796, substr(@$ptev->p1_ther_other_text, 0, 90));
		
		$pdf->SetFont('Arial','',$__FONT['PDF']['FORM_SMALL']);
		$pdf->Text(511, 820, "      Page: 1 of ".$total_page);
		$pdf->Text(230, 820, "HomeHealthSoft Inc.   2006 � ".date("Y")." (c)");
		
		
		##########
		# Page 2 #
		##########
		
		$cero_y = 2;
		$this->fpdf->AddPage();
		
		
        $this->fpdf->SetDrawColor(130,100);
        $this->fpdf->SetFont('Arial','B',$__FONT['PDF']['FORM_MEDIUM']);
        $this->fpdf->Text(( $cero_x + 0),( $cero_y + 12 ), $agency->agency_name); // agency name

        $this->fpdf->SetFont('Arial','',$__FONT['PDF']['FORM_SMALL3']);
        $this->fpdf->Text(( $cero_x + 0),( $cero_y + 22 ),"Licensed and Certified Home Health Agency");
        
        $this->fpdf->Rect(8,28, 577, 780);
        
        $this->fpdf->SetFont('Arial', 'B', $__FONT['PDF']['FORM_SMALL']);
        if(isset($assesment_types_list[@$ptev->tab_32_assess_type])){
          $this->fpdf->Text(( $cero_x + 190),( $cero_y + 36 ),"PHYSICAL THERAPY - ".$assesment_types_list[@$ptev->tab_32_assess_type]."                            " .
        													"VISIT DATE: " . standard_date(mysql_to_unix($visit_log->visit_date_time))); // visit date
        }else{
          $this->fpdf->Text(( $cero_x + 190),( $cero_y + 36 ),"PHYSICAL THERAPY  ASSESSMENT                            " .
        													"VISIT DATE: " . standard_date(mysql_to_unix($visit_log->visit_date_time))); // visit date
        }
    	$this->fpdf->Line(( $cero_x - 3 ) , ($cero_y + 40.5 ), ( $cero_x + 574 ), ($cero_y + 40.5 ));
    	
        $cero_y = 20;
        $this->fpdf->SetTextColor(0,0,0);
        
        
        
        
        $this->fpdf->SetFont('Arial','', $__FONT['PDF']['FORM_SMALL']);
	    $this->fpdf->Text(( $cero_x + 0),( $cero_y + 32 ),"Patient Name: ");
	    
	    $this->fpdf->SetFont('Arial','B', $__FONT['PDF']['FORM_SMALL']);
	    $this->fpdf->Text(( $cero_x + 60),( $cero_y + 32 ), $patient->first_name . " " . $patient->last_name); // pacient name
	    
        $this->fpdf->SetFont('Arial','',$__FONT['PDF']['FORM_SMALL']);
        $this->fpdf->SetTextColor(0,0,0);

        $this->fpdf->SetDrawColor(130,100);
        $this->fpdf->Text(( $cero_x + 240),( $cero_y + 32 ),"Medicare #: ");
        
        $this->fpdf->SetFont('Arial','B',$__FONT['PDF']['FORM_SMALL']);
        $this->fpdf->Text(( $cero_x + 290),( $cero_y + 32 ), $patient->medicare_id); // medicare id
        
        
        $this->fpdf->SetFont('Arial','',$__FONT['PDF']['FORM_SMALL']);
        $this->fpdf->Text(( $cero_x + 390 + 20),( $cero_y + 32 ), "  NA ");
        $this->fpdf->Rect(( $cero_x + 380 + 20),($cero_y + 23.5), 8.4, 8.4);
        if (is_null($patient->medicare_id)){
        	$this->fpdf->Image( $path_ticket, ( $cero_x + 381 + 20 ),($cero_y + 24.5),6);
        }
        
        $this->fpdf->Text(( $cero_x + 420 + 20),( $cero_y + 32 ),"Medical Rec#: ");
        
        $this->fpdf->SetFont('Arial','B',$__FONT['PDF']['FORM_SMALL']);
        $this->fpdf->Text(( $cero_x + 480 +20),( $cero_y + 32 ), $patient->medical_rec_nbr); // medicare id
        
        
        $this->fpdf->SetFont('Arial','',$__FONT['PDF']['FORM_SMALL']);
        $this->fpdf->Text(( $cero_x + 390),( $cero_y + 42 ), "SOC: ");
        $this->fpdf->SetFont('Arial','B', $__FONT['PDF']['FORM_SMALL']);
        $this->fpdf->Text(( $cero_x + 415),( $cero_y + 42 ), standard_date(mysql_to_unix($visit_log->estimated_soc_date))); // soc date
        
        // primary and second icd
        $this->fpdf->SetFont('Arial','',$__FONT['PDF']['FORM_SMALL']);
        $this->fpdf->Text(( $cero_x + 0),( $cero_y + 42 ),"Primary Dx: ");
        
        $this->fpdf->SetFont('Arial','B',$__FONT['PDF']['FORM_SMALL']);
        $this->fpdf->Text(( $cero_x + 60),( $cero_y + 42 ), substr(@$ptev->primary_diag, 0, 30));
        
        $this->fpdf->SetFont('Arial','',$__FONT['PDF']['FORM_SMALL']);
        $this->fpdf->Text(( $cero_x + 240),( $cero_y + 42 ),"Date: ");
        
        $this->fpdf->SetFont('Arial','B',$__FONT['PDF']['FORM_SMALL']); 
        $this->fpdf->Text(( $cero_x + 288),( $cero_y + 42 ), (!is_null(@$ptev->primary_diag_date) ? standard_date(mysql_to_unix(@$ptev->primary_diag_date)) : ""));
        
        $this->fpdf->SetFont('Arial','',$__FONT['PDF']['FORM_SMALL']);
        $this->fpdf->Text(( $cero_x + 0),( $cero_y + 52 ),"Therapy Dx: ");              

        $this->fpdf->SetFont('Arial','B',$__FONT['PDF']['FORM_SMALL']);
        $this->fpdf->Text(( $cero_x + 60),( $cero_y + 52 ), substr(@$ptev->secondary_diag, 0, 30));

        $this->fpdf->SetFont('Arial','',$__FONT['PDF']['FORM_SMALL']);
        $this->fpdf->Text(( $cero_x + 240),( $cero_y + 52 ),"Date: ");

        $this->fpdf->SetFont('Arial','B',$__FONT['PDF']['FORM_SMALL']);
        $this->fpdf->Text(( $cero_x + 288),( $cero_y + 52 ), (!is_null(@$ptev->secondary_diag_date) ? standard_date(mysql_to_unix(@$ptev->secondary_diag_date)) : ""));
        
        

        // start and end soc date
        $this->fpdf->SetFont('Arial','',$__FONT['PDF']['FORM_SMALL']);
        $this->fpdf->Text(( $cero_x + 390),( $cero_y + 52 ),"From: ");
        
        $this->fpdf->SetFont('Arial','B',$__FONT['PDF']['FORM_SMALL']);                                
        $this->fpdf->Text(( $cero_x + 415),( $cero_y + 52 ), standard_date(mysql_to_unix($visit_log->episode_start_date)));


        $this->fpdf->SetFont('Arial','',$__FONT['PDF']['FORM_SMALL']);
        $this->fpdf->Text(( $cero_x + 490),( $cero_y + 52 ),"To: ");

        $this->fpdf->SetFont('Arial','B',$__FONT['PDF']['FORM_SMALL']);
        $this->fpdf->Text(( $cero_x + 505),( $cero_y + 52 ), standard_date(mysql_to_unix($visit_log->episode_end_date)));
        
        
        if ($visit_log->episode_start_date == $visit_log->estimated_soc_date)     {
            $this->fpdf->Text(( $cero_x + 495),( $cero_y + 42 ),"   Certification");
        } else {
            $this->fpdf->Text(( $cero_x + 495),( $cero_y + 42 ),"   Recertif.");
        }

        $this->fpdf->Rect(( $cero_x + 490),($cero_y + 33.5), 8.4, 8.4);
        $this->fpdf->Image( $path_ticket,( $cero_x + 491 ),($cero_y + 34.5),6);


        $this->fpdf->SetFont('Arial','',$__FONT['PDF']['FORM_SMALL']);
        $this->fpdf->Text(( $cero_x + 0),( $cero_y + 62 ),"Physician: ");

		$this->fpdf->SetFont('Arial','B',$__FONT['PDF']['FORM_arial8']);
		$this->fpdf->Text(( $cero_x + 60),($cero_y + 62 ), @$phys_user_id->complete_name);

		$this->fpdf->SetFont('Arial','',$__FONT['PDF']['FORM_SMALL']);
        $this->fpdf->Text(( $cero_x + 240),( $cero_y + 62 ), "Therapist:");
        
        $this->fpdf->SetFont('Arial','B',$__FONT['PDF']['FORM_arial8']);
        $this->fpdf->Text(( $cero_x + 282),(  $cero_y + 62 ), $visit_log->first_name . " " .  $visit_log->last_name);
        
        $this->fpdf->SetFont('Arial','',$__FONT['PDF']['FORM_SMALL']);
        $this->fpdf->Text(( $cero_x + 390),( $cero_y + 62 ), "Time In: ");
		$this->fpdf->SetFont('Arial','B',$__FONT['PDF']['FORM_SMALL']);
		$this->fpdf->Text(( $cero_x + 424),( $cero_y + 62 ), standard_date(mysql_to_unix($visit_log->visited_date . " " . $visit_log->visited_time_in), 'USA_TIME_C'));
        
		$this->fpdf->SetFont('Arial','',$__FONT['PDF']['FORM_SMALL']);
        $this->fpdf->Text(( $cero_x + 490),( $cero_y + 62 ), "Time Out: ");
		$this->fpdf->SetFont('Arial','B',$__FONT['PDF']['FORM_SMALL']);
		$this->fpdf->Text(( $cero_x + 531),( $cero_y + 62 ), standard_date(mysql_to_unix($visit_log->visited_date . " " . $visit_log->visited_time_out), 'USA_TIME_C'));

        
        
       
        
        $cero_y =$cero_y+5;
        $this->fpdf->SetLineWidth( 0.9 );
        $this->fpdf->Line(8, 85, 584, 85);

        $pdf->SetFont('Arial','',$__FONT['PDF']['FORM_SMALL']);
        $pdf->Text(11, 96, "FUNCTIONAL LIMITATIONS / PROBLEM AREAS");	
        
		$pdf->Text(11, 106, "      Amputation                                           Ambulation                  Hearing ");
    	
    	$pdf->Rect(11, 99, 8.4, 8.4);
        if (@$ptev->p2_amputation == 1) {
        	$this->fpdf->Image( $path_ticket, 12, 100, 6);
        }
        
    	$pdf->Rect(168, 99, 8.4, 8.4);
        if (@$ptev->p2_ambulation == 1) {
        	$this->fpdf->Image( $path_ticket, 169, 100, 6);
        }
        
    	$pdf->Rect(257, 99, 8.4, 8.4);
        if (@$ptev->p2_hearing == 1) {
        	$this->fpdf->Image( $path_ticket, 258, 100, 6);
        }


		$pdf->Text(11, 116, "      Bowel Bladder Incontinence                 Speech                        Legally Blind ");
    	
    	$pdf->Rect(11, 109, 8.4, 8.4);
        if (@$ptev->p2_bowel == 1) {
        	$this->fpdf->Image( $path_ticket, 12, 110, 6);
        }
        
    	$pdf->Rect(168, 109, 8.4, 8.4);
        if (@$ptev->p2_speech == 1) {
        	$this->fpdf->Image( $path_ticket, 169, 110, 6);
        }
        
    	$pdf->Rect(257, 109, 8.4, 8.4);
        if (@$ptev->p2_legally_blind == 1) {
        	$this->fpdf->Image( $path_ticket, 258, 110, 6);
        }
        
        
		$pdf->Text(11, 126, "      Contracture                                           Endurance                   Paralysis ");
    	
    	$pdf->Rect(11, 119, 8.4, 8.4);
        if (@$ptev->p2_contracture == 1) {
        	$this->fpdf->Image( $path_ticket, 12, 120, 6);
        }
        
    	$pdf->Rect(168, 119, 8.4, 8.4);
        if (@$ptev->p2_endurance == 1) {
        	$this->fpdf->Image( $path_ticket, 169, 120, 6);
        }
        
    	$pdf->Rect(257, 119, 8.4, 8.4);
        if (@$ptev->p2_paralysis == 1) {
        	$this->fpdf->Image( $path_ticket, 258, 120, 6);
        }
        

		$pdf->Text(11, 136, "      Dyspnea w/min exertion                       Poor Conditioning ");
    	
    	$pdf->Rect(11, 129, 8.4, 8.4);
        if (@$ptev->p2_dyspnea == 1) {
        	$this->fpdf->Image( $path_ticket, 12, 130, 6);
        }
        
    	$pdf->Rect(168, 129, 8.4, 8.4);
        if (@$ptev->p2_poor_cond == 1) {
        	$this->fpdf->Image( $path_ticket, 169, 130, 6);
        }


		$pdf->Text(11, 146, "      Decreased Range of Motion                 Impaired Functional Strength");
    	
    	$pdf->Rect(11, 139, 8.4, 8.4);
        if (@$ptev->p2_decreased == 1) {
        	$this->fpdf->Image( $path_ticket, 12, 140, 6);
        }
        
    	$pdf->Rect(168, 139, 8.4, 8.4);
        if (@$ptev->p2_imp_func_stre == 1) {
        	$this->fpdf->Image( $path_ticket, 169, 140, 6);
        }


		$pdf->Text(11, 156, "      Shuffling/wide based Gait                     Impaired Functional Mobility");
    	
    	$pdf->Rect(11, 149, 8.4, 8.4);
        if (@$ptev->p2_shuffling == 1) {
        	$this->fpdf->Image( $path_ticket, 12, 150, 6);
        }
        
    	$pdf->Rect(168, 149, 8.4, 8.4);
        if (@$ptev->p2_imp_func_mob == 1) {
        	$this->fpdf->Image( $path_ticket, 169, 150, 6);
        }


		$pdf->Text(11, 166, "      Dysfunctional Posture                           Impaired Transfer Technique");
    	
    	$pdf->Rect(11, 159, 8.4, 8.4);
        if (@$ptev->p2_dysfunct == 1) {
        	$this->fpdf->Image( $path_ticket, 12, 160, 6);
        }
        
    	$pdf->Rect(168, 159, 8.4, 8.4);
        if (@$ptev->p2_imp_func_trans == 1) {
        	$this->fpdf->Image( $path_ticket, 169, 160, 6);
        }


		$pdf->Text(11, 176, "      Impaired Safety Awareness                  Impaired Balance");
    	
    	$pdf->Rect(11, 169, 8.4, 8.4);
        if (@$ptev->p2_impaired_safe == 1) {
        	$this->fpdf->Image( $path_ticket, 12, 170, 6);
        }
        
    	$pdf->Rect(168, 169, 8.4, 8.4);
        if (@$ptev->p2_balance == 1) {
        	$this->fpdf->Image( $path_ticket, 169, 170, 6);
        }


		$pdf->Text(11, 186, "      Soft Tissue spasm/restriction/Edema");
    	
    	$pdf->Rect(11, 179, 8.4, 8.4);
        if (@$ptev->p2_soft_tissue == 1) {
        	$this->fpdf->Image( $path_ticket, 12, 180, 6);
        }


		$pdf->Text(11, 196, "      Impaired Coordination                          Pain Restricting Activity");
    	
    	$pdf->Rect(11, 189, 8.4, 8.4);
        if (@$ptev->p2_impaired_coord == 1) {
        	$this->fpdf->Image( $path_ticket, 12, 190, 6);
        }
        
    	$pdf->Rect(168, 189, 8.4, 8.4);
        if (@$ptev->p2_pain_restrict == 1) {
        	$this->fpdf->Image( $path_ticket, 169, 190, 6);
        }


		$pdf->Text(11, 206, "      Swollen painful joints (specify):");
    	
    	$pdf->Rect(11, 199, 8.4, 8.4);
        if (@$ptev->p2_swollen == 1) {
        	$this->fpdf->Image( $path_ticket, 12, 200, 6);
        }
		$pdf->SetFont('Courier','B',$__FONT['PDF']['FORM_MEDIUM']);
    
		$pdf->Text(155, 206, substr(@$ptev->p2_swollen_specify, 0, 70));
		//$pdf->Text(155, 206, substr(@$ptev->p2_swollen_specify, 0, 180));
		$pdf->Line(155, 208, 430, 208);
		
		$pdf->SetFont('Arial','',$__FONT['PDF']['FORM_SMALL4']);
		$pdf->Text(11, 216, "      Other:");
    	
    	$pdf->Rect(11, 209, 8.4, 8.4);
        if (@$ptev->p2_other_func == 1) {
        	$this->fpdf->Image( $path_ticket, 12, 210, 6);
        }
		$pdf->SetFont('Courier','B',$__FONT['PDF']['FORM_MEDIUM']);
		$pdf->Text(58, 216, @$ptev->p2_other_func_desc);
		$pdf->SetFont('Arial','',$__FONT['PDF']['FORM_SMALL']);
		
		
		$this->fpdf->Line(8, 221, 584, 221);
		
		
        $pdf->Text(11, 232, "Plan of Care");	
        
		$pdf->Text(11, 242, "      Evaluation                                             Lymphedema              Chest PT");
    	
    	$pdf->Rect(11, 235, 8.4, 8.4);
        if (@$ptev->p2_evalua == 1) {
        	$this->fpdf->Image( $path_ticket, 12, 236, 6);
        }
        
    	$pdf->Rect(168, 235, 8.4, 8.4);
        if (@$ptev->p2_int_lympha == 1) {
        	$this->fpdf->Image( $path_ticket, 169, 236, 6);
        }
        
    	$pdf->Rect(257, 235, 8.4, 8.4);
        if (@$ptev->p2_int_chest == 1) {
        	$this->fpdf->Image( $path_ticket, 258, 236, 6);
        }
        
        
		$pdf->Text(11, 252, "      Ultrasound                                            Gait Training               Balance");
    	
    	$pdf->Rect(11, 245, 8.4, 8.4);
        if (@$ptev->p2_ultra == 1) {
        	$this->fpdf->Image( $path_ticket, 12, 246, 6);
        }
        
    	$pdf->Rect(168, 245, 8.4, 8.4);
        if (@$ptev->p2_int_gait == 1) {
        	$this->fpdf->Image( $path_ticket, 169, 246, 6);
        }
        
    	$pdf->Rect(257, 245, 8.4, 8.4);
        if (@$ptev->p2_int_balance == 1) {
        	$this->fpdf->Image( $path_ticket, 258, 246, 6);
        }


		$pdf->Text(11, 262, "      Home Therapy program                        Electrotherapy");
    	
    	$pdf->Rect(11, 255, 8.4, 8.4);
        if (@$ptev->p2_home == 1) {
        	$this->fpdf->Image( $path_ticket, 12, 256, 6);
        }
        
    	$pdf->Rect(168, 255, 8.4, 8.4);
        if (@$ptev->p2_elect == 1) {
        	$this->fpdf->Image( $path_ticket, 169, 256, 6);
        }


		$pdf->Text(11, 272, "      Therapeutic Exercise                             Muscle Re-Education");
    	
    	$pdf->Rect(11, 265, 8.4, 8.4);
        if (@$ptev->p2_therap == 1) {
        	$this->fpdf->Image( $path_ticket, 12, 266, 6);
        }
        
    	$pdf->Rect(168, 265, 8.4, 8.4);
        if (@$ptev->p2_muscle == 1) {
        	$this->fpdf->Image( $path_ticket, 169, 266, 6);
        }


		$pdf->Text(11, 282, "      Transfer Training                                   Prosthetic Training");
    	
    	$pdf->Rect(11, 275, 8.4, 8.4);
        if (@$ptev->p2_transfer == 1) {
        	$this->fpdf->Image( $path_ticket, 12, 276, 6);
        }
        
    	$pdf->Rect(168, 275, 8.4, 8.4);
        if (@$ptev->p2_prosthe == 1) {
        	$this->fpdf->Image( $path_ticket, 169, 276, 6);
        }


		$pdf->Text(11, 292, "      Management & Eval                              Fabrication of Devices");
    	
    	$pdf->Rect(11, 285, 8.4, 8.4);
        if (@$ptev->p2_manage == 1) {
        	$this->fpdf->Image( $path_ticket, 12, 286, 6);
        }
        
    	$pdf->Rect(168, 285, 8.4, 8.4);
        if (@$ptev->p2_fabric == 1) {
        	$this->fpdf->Image( $path_ticket, 169, 286, 6);
        }


		$pdf->Text(11, 302, "      Pulse Oximetry Prn                               Home Safety               Fall Prevention");
    	
    	$pdf->Rect(11, 295, 8.4, 8.4);
        if (@$ptev->p2_pulse_oxi == 1) {
        	$this->fpdf->Image( $path_ticket, 12, 296, 6);
        }
        
    	$pdf->Rect(168, 295, 8.4, 8.4);
        if (@$ptev->p2_home_safety == 1) {
        	$this->fpdf->Image( $path_ticket, 169, 296, 6);
        }
        
    	$pdf->Rect(257, 295, 8.4, 8.4);
        if (@$ptev->p2_fall_prev == 1) {
        	$this->fpdf->Image( $path_ticket, 258, 296, 6);
        }


		$pdf->Text(11, 312, "      Modality (specify frequency, duration, amount):");

    	$pdf->Rect(11, 305, 8.4, 8.4);
        if (@$ptev->p2_modal == 1) {
        	$this->fpdf->Image( $path_ticket, 12, 306, 6);
        }
		
		$pdf->SetFont('Courier','B',$__FONT['PDF']['FORM_MEDIUM']);
		$pdf->Text(221, 312, substr(@$ptev->p2_modal_desc, 0, 60));
		$pdf->Line(221, 314, 524, 314);

		$pdf->SetFont('Arial','',$__FONT['PDF']['FORM_SMALL']);
		$pdf->Text(11, 322, "      Other:");

    	$pdf->Rect(11, 315, 8.4, 8.4);
        if (@$ptev->p2_other_interv == 1) {
        	$this->fpdf->Image( $path_ticket, 12, 316, 6);
        }

		$pdf->SetFont('Courier','B',$__FONT['PDF']['FORM_MEDIUM']);
		$pdf->Text(58, 322, @$ptev->p2_other_interv_desc);


		$this->fpdf->Line(8, 327, 584, 327);


		$pdf->SetFont('Arial','',$__FONT['PDF']['FORM_SMALL']);
		$pdf->Text(11, 338, "SHORT TERM AND LONG TERM OUTCOMES WITH TIME FRAMES");	


		$pdf->Text(11, 348, "      Return to pre-injury / illness level of function within:");
    	
    	$pdf->Rect(11, 341, 8.4, 8.4);
        if (@$ptev->p2_return_to_pre == 1) {
        	$this->fpdf->Image( $path_ticket, 12, 342, 6);
        }
		$pdf->SetFont('Courier','B',$__FONT['PDF']['FORM_MEDIUM']);
		$pdf->Text(260, 348, $tab_63[@$ptev->p2_return_to_pre_weeks]);
		$pdf->Line(260, 350, 303, 350);

		$pdf->SetFont('Arial','',$__FONT['PDF']['FORM_SMALL']);
		$pdf->Text(11, 358, "      Patient will meet maximum potential within:");
    	
    	$pdf->Rect(11, 351, 8.4, 8.4);
        if (@$ptev->p2_patient_will == 1) {
        	$this->fpdf->Image( $path_ticket, 12, 352, 6);
        }
		
		$pdf->SetFont('Courier','B',$__FONT['PDF']['FORM_MEDIUM']);
		$pdf->Text(260, 358, $tab_63[@$ptev->p2_patient_will_weeks]);
		$pdf->Line(260, 360, 303, 360);

		$pdf->SetFont('Arial','',$__FONT['PDF']['FORM_SMALL']);
		$pdf->Text(11, 368, "      Return to optimal and safe functionality within:");
    	
    	$pdf->Rect(11, 361, 8.4, 8.4);
        if (@$ptev->p2_return_to_opti == 1) {
        	$this->fpdf->Image( $path_ticket, 12, 362, 6);
        }
		
		$pdf->SetFont('Courier','B',$__FONT['PDF']['FORM_MEDIUM']);
		$pdf->Text(260, 368, $tab_63[@$ptev->p2_return_to_opti_weeks]);
		$pdf->Line(260, 370, 303, 370);

		$pdf->SetFont('Arial','',$__FONT['PDF']['FORM_SMALL']);
		$pdf->Text(11, 378, "      Demonstrate effective pain management within:");
    	
    	$pdf->Rect(11, 371, 8.4, 8.4);
        if (@$ptev->p2_demost_eff == 1) {
        	$this->fpdf->Image( $path_ticket, 12, 372, 6);
        }
		
		$pdf->SetFont('Courier','B',$__FONT['PDF']['FORM_MEDIUM']);
		$pdf->Text(260, 378, $tab_63[@$ptev->p2_demost_eff_weeks]);
		$pdf->Line(260, 380, 303, 380);

		$pdf->SetFont('Arial','',$__FONT['PDF']['FORM_SMALL']);
		$pdf->Text(11, 388, "      Improve bed mobility to:");
    	$pdf->Line(131, 389, 195, 389);
    	$pdf->Rect(11, 381, 8.4, 8.4);
		$pdf->SetFont('Courier','B',$__FONT['PDF']['FORM_MEDIUM']);
        if (@$ptev->p2_improv_bed_mov == 1) {
        	$this->fpdf->Image( $path_ticket, 12, 382, 6);
        }
		
		$pdf->Text(131, 388, @$ptev->p2_improv_bed_mov_desc1);
		$pdf->SetFont('Arial','',$__FONT['PDF']['FORM_SMALL']);
		$pdf->Text(193, 388, "    assist within:  " );
		$pdf->SetFont('Courier','B',$__FONT['PDF']['FORM_MEDIUM']);
		$pdf->Text(260, 388, $tab_63[@$ptev->p2_improv_bed_mov_weeks]);
		$pdf->Line(260, 389, 303, 389);
		$pdf->SetFont('Arial','',$__FONT['PDF']['FORM_SMALL']);
		$pdf->Text(11, 398, "      Improve bed mobilty to independent within:");
    	
    	$pdf->Rect(11, 391, 8.4, 8.4);
		if (@$ptev->p2_improv_bed_mov_indep == 1) {
        	$this->fpdf->Image( $path_ticket, 12, 392, 6);
        }
		
		$pdf->SetFont('Courier','B',$__FONT['PDF']['FORM_MEDIUM']);
		$pdf->Text(260, 398, $tab_63[@$ptev->p2_improv_bed_mov_indep_weeks]);
		$pdf->Line(260, 400, 303, 400);
		
		$pdf->SetFont('Arial','',$__FONT['PDF']['FORM_SMALL']);
		$pdf->Text(11, 408, "      Improve transfers to");
    	$pdf->Line(113, 410, 173, 410);
		
    	$pdf->Rect(11, 401, 8.4, 8.4);
		$pdf->SetFont('Courier','B',$__FONT['PDF']['FORM_MEDIUM']);
        if (@$ptev->p2_improv_trans == 1) {
        	$this->fpdf->Image( $path_ticket, 12, 402, 6);
        }

		$pdf->Text(113, 408, @$ptev->p2_improv_trans_desc1);
		$pdf->SetFont('Arial','',$__FONT['PDF']['FORM_SMALL']);
		$pdf->Text(174, 408, "  assist using " );
		$pdf->Line(233, 410, 292, 410);
		$pdf->SetFont('Courier','B',$__FONT['PDF']['FORM_MEDIUM']);
		$pdf->text(233, 408, @$ptev->p2_improv_trans_desc2);
		$pdf->SetFont('Arial','',$__FONT['PDF']['FORM_SMALL']);
		$pdf->Text(298, 408, " within: " ); 
		$pdf->SetFont('Courier','B',$__FONT['PDF']['FORM_MEDIUM']);
		$pdf->Text(332, 408, $tab_63[@$ptev->p2_improv_trans_weeks]);
		$pdf->Line(332, 410, 373, 410);

		$pdf->SetFont('Arial','',$__FONT['PDF']['FORM_SMALL']);
		$pdf->Text(11, 418, "      Independent with transfer skills within:");
    	
    	$pdf->Rect(11, 411, 8.4, 8.4);
        if (@$ptev->p2_indep_trans == 1) {
        	$this->fpdf->Image( $path_ticket, 12, 412, 6);
        }
	
		$pdf->SetFont('Courier','B',$__FONT['PDF']['FORM_MEDIUM']);
		$pdf->Text(260, 418, $tab_63[@$ptev->p2_indep_trans_weeks]);
		$pdf->Line(260, 420, 303, 420);
		
		$pdf->SetFont('Arial','',$__FONT['PDF']['FORM_SMALL']);
		$pdf->Text(11, 428, "      Patient to be independent with safety issues in:");
    	
    	$pdf->Rect(11, 421, 8.4, 8.4);
        if (@$ptev->p2_pat_indep == 1) {
        	$this->fpdf->Image( $path_ticket, 12, 422, 6);
        }
		
		$pdf->SetFont('Courier','B',$__FONT['PDF']['FORM_MEDIUM']);
		$pdf->Text(260, 428, $tab_63[@$ptev->p2_pat_indep_weeks]);
		$pdf->Line(260, 430, 303, 430);
		
		$pdf->SetFont('Arial','',$__FONT['PDF']['FORM_SMALL']);
		$pdf->Text(11, 438, "      Improve wheelchair use to:");
    	$pdf->Line(136, 440, 197, 440);
		
    	$pdf->Rect(11, 431, 8.4, 8.4);
        if (@$ptev->p2_improv_wheel == 1) {
        	$this->fpdf->Image( $path_ticket, 12, 432, 6);
        }
		
		$pdf->SetFont('Courier','B',$__FONT['PDF']['FORM_MEDIUM']);
		$pdf->Text(143, 438, @$ptev->p2_improv_wheel_desc);
		$pdf->SetFont('Arial','',$__FONT['PDF']['FORM_SMALL']);
		$pdf->Text(202, 438, "  within:    " );
		$pdf->SetFont('Courier','B',$__FONT['PDF']['FORM_MEDIUM']);
		$pdf->Text(260, 438, $tab_63[@$ptev->p2_improv_wheel_weeks]);
		$pdf->Line(260, 440, 303, 440);
		
		$pdf->SetFont('Arial','',$__FONT['PDF']['FORM_SMALL']);
		$pdf->Text(11, 448, "      Patient will ambulate with");
    	$pdf->Line(134, 450, 193, 450);
    	$pdf->Rect(11, 441, 8.4, 8.4);
        if (@$ptev->p2_pat_ambul == 1) {
        	$this->fpdf->Image( $path_ticket, 12, 442, 6);
        }
		
		$pdf->SetFont('Courier','B',$__FONT['PDF']['FORM_MEDIUM']);
		$pdf->Text(134, 448, @$ptev->p2_pat_ambul_desc1);
		$pdf->SetFont('Arial','',$__FONT['PDF']['FORM_SMALL']);
		$pdf->Text(199, 448, "device with   " );
		$pdf->Line(254, 450, 317, 450);
		$pdf->SetFont('Courier','B',$__FONT['PDF']['FORM_MEDIUM']);
		$pdf->Text(254, 448, @$ptev->p2_pat_ambul_desc2);
		$pdf->SetFont('Arial','',$__FONT['PDF']['FORM_SMALL']);
		$pdf->Text(325, 448, "assist within: " );
		$pdf->SetFont('Courier','B',$__FONT['PDF']['FORM_MEDIUM']);
		$pdf->Text(384, 448, $tab_63[@$ptev->p2_pat_ambul_weeks]);
		$pdf->Line(384, 450, 424, 450);
		
		$pdf->SetFont('Arial','',$__FONT['PDF']['FORM_SMALL']);
		$pdf->Text(11, 458, "      Patient will be able to climb stairs/uneven surfaces with:");
    	$pdf->Line(255, 460, 317, 460);
    	$pdf->Rect(11, 451, 8.4, 8.4);
        if (@$ptev->p2_climb == 1) {
        	$this->fpdf->Image( $path_ticket, 12, 452, 6);
        }
		
		$pdf->SetFont('Courier','B',$__FONT['PDF']['FORM_MEDIUM']);
		$pdf->Text(255, 458, @$ptev->p2_climb_desc1);
		$pdf->SetFont('Arial','',$__FONT['PDF']['FORM_SMALL']);
		$pdf->Text(315, 458, "    device with:   " );
		$pdf->Line(378, 460, 439, 460);
		$pdf->SetFont('Courier','B',$__FONT['PDF']['FORM_MEDIUM']);
		$pdf->Text(378, 458, @$ptev->p2_climb_desc2);
		$pdf->SetFont('Arial','',$__FONT['PDF']['FORM_SMALL']);
		$pdf->Text(440, 458, "  assist within:   " );
$pdf->SetFont('Courier','B',$__FONT['PDF']['FORM_MEDIUM']);
		$pdf->Text(503, 458, $tab_63[@$ptev->p2_tab_063_climb_weeks]);
		$pdf->Line(503, 460, 542, 460);
		
		$pdf->SetFont('Arial','',$__FONT['PDF']['FORM_SMALL']);
		$pdf->Text(11, 468, "      Independent with ambulation with:");
    	$pdf->Line(170, 470, 228, 470);
		
    	$pdf->Rect(11, 461, 8.4, 8.4);
        if (@$ptev->p2_indep_ambul == 1) {
        	$this->fpdf->Image( $path_ticket, 12, 462, 6);
        }
		$pdf->SetFont('Courier','B',$__FONT['PDF']['FORM_MEDIUM']);
		$pdf->Text(170, 468, @$ptev->p2_indep_ambul_desc);
		$pdf->SetFont('Arial','',$__FONT['PDF']['FORM_SMALL']);
		$pdf->Text(232, 468, "  assist within:   " );
		$pdf->SetFont('Courier','B',$__FONT['PDF']['FORM_MEDIUM']);
		$pdf->Text(293, 468, $tab_63[@$ptev->p2_indep_ambul_weeks]);
		$pdf->Line(293, 470, 330, 470);
		
		$pdf->SetFont('Arial','',$__FONT['PDF']['FORM_SMALL']);
		$pdf->Text(11, 478, "      Ambulation endurance will be:");
    	$pdf->Line(154, 480, 213, 480);
		
    	$pdf->Rect(11, 471, 8.4, 8.4);
        if (@$ptev->p2_ambul_endur == 1) {
        	$this->fpdf->Image( $path_ticket, 12, 472, 6);
        }
		$pdf->SetFont('Courier','B',$__FONT['PDF']['FORM_MEDIUM']);
		$pdf->Text(154, 478, @$ptev->p2_ambul_endur_desc1);
		$pdf->SetFont('Arial','',$__FONT['PDF']['FORM_SMALL']);
		$pdf->Text(218, 478, " minutes or " ); 
		$pdf->Line(270, 480, 330, 480);
		$pdf->SetFont('Courier','B',$__FONT['PDF']['FORM_MEDIUM']);
		$pdf->Text(270, 478, @$ptev->p2_ambul_endur_desc2);
		$pdf->SetFont('Arial','',$__FONT['PDF']['FORM_SMALL']);
		$pdf->Text(334, 478, " feet within:   " );
		$pdf->SetFont('Courier','B',$__FONT['PDF']['FORM_MEDIUM']);
		$pdf->Text(384, 478,$tab_63[@$ptev->p2_ambul_endur_weeks]);
		$pdf->Line(384, 480, 427, 480);
		
		$pdf->SetFont('Arial','',$__FONT['PDF']['FORM_SMALL']);
		$pdf->Text(11, 488, "      Increase strength of extremity: " ); 
		$pdf->Line(154, 490, 309, 490);
		$pdf->SetFont('Courier','B',$__FONT['PDF']['FORM_MEDIUM']);
		$pdf->Text(154, 488, @$ptev->p2_increa_stren_UE_5);
    	
		$pdf->Rect(11, 481, 8.4, 8.4);
        if (@$ptev->p2_increa_stren_UE == 1) {
        	$this->fpdf->Image( $path_ticket, 12, 482, 6);
        }
		$pdf->SetFont('Arial','',$__FONT['PDF']['FORM_SMALL']);
		$pdf->Text(317, 488, "in: ");
		$pdf->SetFont('Courier','B',$__FONT['PDF']['FORM_MEDIUM']);
		$pdf->Text(334, 488, $tab_63[@$ptev->p2_increa_stren_UE_weeks]);
		$pdf->Line(334, 490, 371, 490);
		
		$pdf->SetFont('Arial','',$__FONT['PDF']['FORM_SMALL']);
		$pdf->Text(11, 498, "      Increase strength of extremity: " );
		$pdf->Line(154, 500, 309, 500);
		$pdf->SetFont('Courier','B',$__FONT['PDF']['FORM_MEDIUM']);
		$pdf->Text(154, 498, @$ptev->p2_increa_stren_LE_5);
    	
    	$pdf->Rect(11, 491, 8.4, 8.4);
        if (@$ptev->p2_increa_stren_LE == 1) {
        	$this->fpdf->Image( $path_ticket, 12, 492, 6);
        }
		
		$pdf->SetFont('Arial','',$__FONT['PDF']['FORM_SMALL']);
		$pdf->Text(317, 498, "in: ");
		$pdf->SetFont('Courier','B',$__FONT['PDF']['FORM_MEDIUM']);
		$pdf->Text(334, 498, $tab_63[@$ptev->p2_increa_stren_LE_weeks]);
		$pdf->Line(334, 500, 371, 500);
		
		$pdf->SetFont('Arial','',$__FONT['PDF']['FORM_SMALL']);
		$pdf->Text(11, 508, "      Increase ROM of");
    	$pdf->Line(103, 510, 168, 510);
    	$pdf->Rect(11, 501, 8.4, 8.4);
        if (@$ptev->p2_increa_rom == 1) {
        	$this->fpdf->Image( $path_ticket, 12, 502, 6);
        }
		$pdf->SetFont('Courier','B',$__FONT['PDF']['FORM_MEDIUM']);
		$pdf->Text(106, 508, @$ptev->p2_increa_rom_desc1);
		$pdf->SetFont('Arial','',$__FONT['PDF']['FORM_SMALL']);
		$pdf->Text(175, 508, " joint to  ");
		$pdf->Line(213, 510, 272, 510);
		$pdf->SetFont('Courier','B',$__FONT['PDF']['FORM_MEDIUM']);
		$pdf->Text(213, 508, @$ptev->p2_increa_rom_desc2);
		$pdf->SetFont('Arial','',$__FONT['PDF']['FORM_SMALL']);
		$pdf->Text(277, 508, " degree flexion and ");
		$pdf->Line(359, 510, 420, 510);
		$pdf->SetFont('Courier','B',$__FONT['PDF']['FORM_MEDIUM']);
		$pdf->Text(359, 508, @$ptev->p2_increa_rom_desc3);
		$pdf->SetFont('Arial','',$__FONT['PDF']['FORM_SMALL']);
		$pdf->Text(426, 508, "degree extension in: " );
		$pdf->SetFont('Courier','B',$__FONT['PDF']['FORM_MEDIUM']);
		$pdf->Text(512, 508, $tab_63[@$ptev->p2_increa_rom_weeks]);
		$pdf->Line(512, 510, 554, 510);
		
		$pdf->SetFont('Arial','',$__FONT['PDF']['FORM_SMALL']);
		$pdf->Text(11, 518, "      Increase ROM of");
    	$pdf->Line(103, 520, 168, 520);
		
    	$pdf->Rect(11, 511, 8.4, 8.4);
        if (@$ptev->p2_increa_rom2 == 1) {
        	$this->fpdf->Image( $path_ticket, 12, 512, 6);
        }
		$pdf->SetFont('Courier','B',$__FONT['PDF']['FORM_MEDIUM']);
		$pdf->Text(106, 518, @$ptev->p2_increa_rom2_desc1);
		$pdf->SetFont('Arial','',$__FONT['PDF']['FORM_SMALL']);
		$pdf->Text(175, 518, " joint to  ");
		$pdf->Line(213, 520, 272, 520);
		$pdf->SetFont('Courier','B',$__FONT['PDF']['FORM_MEDIUM']);
		$pdf->Text(213, 518, @$ptev->p2_increa_rom2_desc2);
		$pdf->SetFont('Arial','',$__FONT['PDF']['FORM_SMALL']);
		$pdf->Text(277, 518, " degree of ");
		$pdf->Line(323, 520, 385, 520);
		$pdf->SetFont('Courier','B',$__FONT['PDF']['FORM_MEDIUM']);
		$pdf->Text(323, 518, @$ptev->p2_increa_rom2_desc3);
		$pdf->SetFont('Arial','',$__FONT['PDF']['FORM_SMALL']);
		$pdf->Text(378, 518, "    in:       " );
		$pdf->SetFont('Courier','B',$__FONT['PDF']['FORM_MEDIUM']);
		$pdf->Text(402, 518, $tab_63[@$ptev->p2_increa_rom2_weeks]);
		$pdf->Line(402, 520, 443, 520);
		$pdf->SetFont('Arial','',$__FONT['PDF']['FORM_SMALL']);
		$pdf->Text(11, 528, "      Demonstrate ROM to WNL within:");
    	
    	$pdf->Rect(11, 521, 8.4, 8.4);
        if (@$ptev->p2_demos_rom == 1) {
        	$this->fpdf->Image( $path_ticket, 12, 522, 6);
        }
		$pdf->SetFont('Courier','B',$__FONT['PDF']['FORM_MEDIUM']);
		$pdf->Text(172, 528, $tab_63[@$ptev->p2_demos_rom_weeks]);
		$pdf->Line(172, 529, 212, 529);
		
		$pdf->SetFont('Arial','',$__FONT['PDF']['FORM_SMALL']);
		$pdf->Text(11, 538, "      Demonstrate proper use of");
		
    	$pdf->Rect(11, 531, 8.4, 8.4);
        if (@$ptev->p2_demos_proper == 1) {
        	$this->fpdf->Image( $path_ticket, 12, 532, 6);
        }
        
		$pdf->Text(151, 538, "Prosthesis");
		
    	$pdf->Rect(140, 531, 8.4, 8.4);
        if (@$ptev->p2_demos_proper_prosthe == 1) {
        	$this->fpdf->Image( $path_ticket, 141, 532, 6);
        }

		$pdf->Text(211, 538, "Brace");
		
    	$pdf->Rect(200, 531, 8.4, 8.4);
        if (@$ptev->p2_demos_proper_brace == 1) {
        	$this->fpdf->Image( $path_ticket, 201, 532, 6);
        }

		$pdf->Text(256, 538, "Splint within:");
		
    	$pdf->Rect(245, 531, 8.4, 8.4);
        if (@$ptev->p2_demos_proper_splint == 1) {
        	$this->fpdf->Image( $path_ticket, 246, 532, 6);
        }
        $pdf->SetFont('Courier','B',$__FONT['PDF']['FORM_MEDIUM']);
        $pdf->Text(312, 538, $tab_63[@$ptev->p2_demos_proper_weeks]);
		$pdf->Line(312, 540, 354, 540);
		
		$pdf->SetFont('Arial','',$__FONT['PDF']['FORM_SMALL']);
		$pdf->Text(11, 548, "      Demonstrate proper use of DME within:     ");
    	
    	$pdf->Rect(11, 541, 8.4, 8.4);
        if (@$ptev->p2_demos_proper_dme == 1) {
        	$this->fpdf->Image( $path_ticket, 12, 542, 6);
        }
		
		$pdf->SetFont('Courier','B',$__FONT['PDF']['FORM_MEDIUM']);
		$pdf->Text(186, 548, $tab_63[@$ptev->p2_demos_proper_dme_weeks]);
		$pdf->Line(186, 550, 226, 550);
		
		$pdf->SetFont('Arial','',$__FONT['PDF']['FORM_SMALL']);
		$pdf->Text(11, 558, "      Patient will have an increase in Tinetti Balance score to:");
		$pdf->Line(255, 560, 277, 560);
		$pdf->SetFont('Courier','B',$__FONT['PDF']['FORM_MEDIUM']);
		$pdf->Text(255, 558, @$ptev->p2_tinetti_bal_score);
    	
    	$pdf->Rect(11, 551, 8.4, 8.4);
        if (@$ptev->p2_tinetti_bal == 1) {
        	$this->fpdf->Image( $path_ticket, 12, 552, 6);
        }
		$pdf->SetFont('Arial','',$__FONT['PDF']['FORM_SMALL']);
		$pdf->Text(281, 558, " /28 within:      " );
		$pdf->SetFont('Courier','B',$__FONT['PDF']['FORM_MEDIUM']);
		$pdf->Text(330, 558, $tab_63[@$ptev->p2_tinetti_bal_weeks]);
		$pdf->Line(330, 560, 370, 560);
		
		$pdf->SetFont('Arial','',$__FONT['PDF']['FORM_SMALL']);
		$pdf->Text(11, 568, "      Improve balance score to:");
		$pdf->Line(135, 570, 257, 570);
    	$pdf->Rect(11, 561, 8.4, 8.4);
        if (@$ptev->p2_improv_score == 1) {
        	$this->fpdf->Image( $path_ticket, 12, 562, 6);
        }
		$pdf->SetFont('Courier','B',$__FONT['PDF']['FORM_MEDIUM']);
		$pdf->Text(137, 568, @$ptev->p2_improv_score_desc1);
		$pdf->SetFont('Arial','',$__FONT['PDF']['FORM_SMALL']);
		$pdf->Line(287, 570, 412, 570);
		$pdf->Text(262, 568, " using   ");
		$pdf->SetFont('Courier','B',$__FONT['PDF']['FORM_MEDIUM']);
		$pdf->Text(292, 568, @$ptev->p2_improv_score_desc2);
		$pdf->SetFont('Arial','',$__FONT['PDF']['FORM_SMALL']);
		$pdf->Text(415, 568, " test.");


		$pdf->Text(11, 578, "      Patient will demonstrate ability to follow home exercise program by:");

    	$pdf->Rect(11, 571, 8.4, 8.4);
        if (@$ptev->p2_follow_exer == 1) {
        	$this->fpdf->Image( $path_ticket, 12, 572, 6);
        }
		$pdf->SetFont('Courier','B',$__FONT['PDF']['FORM_MEDIUM']);
		$pdf->Text(300, 578, standard_date(mysql_to_unix(@$ptev->p2_follow_exer_date)));
		$pdf->Line(300, 580, 362, 580);
		
		$pdf->SetFont('Arial','',$__FONT['PDF']['FORM_SMALL']);
		$pdf->Text(11, 588, "      Other:");
		$pdf->Line(53, 590, 503, 590);
    	$pdf->Rect(11, 581, 8.4, 8.4);
        if (@$ptev->p2_other3 == 1) {
        	$this->fpdf->Image( $path_ticket, 12, 582, 6);
        }
        $pdf->SetFont('Courier','B',$__FONT['PDF']['FORM_MEDIUM']);
        $pdf->Text(53, 588, @$ptev->p2_other3_desc);
		$pdf->SetFont('Arial','',$__FONT['PDF']['FORM_SMALL']);
		$pdf->Text(500, 588, "    within: " );
		$pdf->SetFont('Courier','B',$__FONT['PDF']['FORM_MEDIUM']);
		$pdf->Text(538, 588, $tab_63[@$ptev->p2_other3_weeks]);
		$pdf->Line(538, 590, 583, 590);
		
		$pdf->SetFont('Arial','',$__FONT['PDF']['FORM_SMALL']);
		$pdf->Text(11, 598, "      Other:");
		$pdf->Line(53, 599, 503, 599);
		
    	$pdf->Rect(11, 591, 8.4, 8.4);
        if (@$ptev->p2_other4 == 1) {
        	$this->fpdf->Image( $path_ticket, 12, 592, 6);
        }
        $pdf->SetFont('Courier','B',$__FONT['PDF']['FORM_MEDIUM']);
        $pdf->Text(53, 598, @$ptev->p2_other4_desc);
		$pdf->SetFont('Arial','',$__FONT['PDF']['FORM_SMALL']);
		$pdf->Text(500, 598, "    within: " );
		$pdf->SetFont('Courier','B',$__FONT['PDF']['FORM_MEDIUM']);
		$pdf->Text(538, 598, $tab_63[@$ptev->p2_other4_weeks]);
		$pdf->Line(538, 600, 583, 600);

		$pdf->SetFont('Arial','',$__FONT['PDF']['FORM_SMALL']);
		$pdf->Text(11, 608, "      Discharge from PT Reason:");

    	$pdf->Rect(11, 601, 8.4, 8.4);
        if (@$ptev->p2_discha == 1) {
        	$this->fpdf->Image( $path_ticket, 12, 602, 6);
        }

		$pdf->SetFont('Arial','',$__FONT['PDF']['FORM_SMALL']);
		//$pdf->Text(11, 608, "                                           Reason: ");
		$count = 0;
		foreach (array_slice($tab_64, 0, 4) as $key => $discha_reason) {
			
			$pdf->Rect(145 + $count, 601, 8.4, 8.4);
	        if (@$ptev->p2_tab_064_discha_reason == $key + 1) {
	        	$this->fpdf->Image( $path_ticket, 146 + $count, 602, 6);
	        }
			$pdf->Text(160 + $count, 608, $discha_reason);
			
			//$count += 80;
			
      $count += strlen($discha_reason)*5+20;
			
		}
    
		$pdf->Text(42, 618, $tab_64[5]);
    $pdf->Rect(31, 611, 8.4, 8.4);
    if (@$ptev->p2_tab_064_discha_reason == 5) {
      $this->fpdf->Image( $path_ticket, 32, 612, 6);
    }
    
		$pdf->Text(42+(strlen($tab_64[5])*6), 618, $tab_64[6]);
    $pdf->Rect(31+(strlen($tab_64[5])*6), 611, 8.4, 8.4);
    if (@$ptev->p2_tab_064_discha_reason == 6) {
      $this->fpdf->Image( $path_ticket, 32+(strlen($tab_64[5])*6), 612, 6);
    }
		$pdf->SetFont('Courier','B',$__FONT['PDF']['FORM_MEDIUM']);
		$pdf->Text(67+(strlen($tab_64[5])*6), 618, substr(@$ptev->p2_discha_other, 0, 65));
		$pdf->Line(65+(strlen($tab_64[5])*6), 620, 580, 620);
		
		$this->fpdf->Line(8, 624, 584, 624);

		$pdf->SetFont('Arial','',$__FONT['PDF']['FORM_SMALL']);
		$pdf->Text(11, 635, "DISCHARGE PLANS:");	


		$pdf->Text(22, 645, " Return to an independent level of self care ");

    	$pdf->Rect(11, 638, 8.4, 8.4);
        if (@$ptev->p2_dis_return_to_indep == 1) {
        	$this->fpdf->Image( $path_ticket, 12, 639, 6);
        }

		$pdf->Text(216, 645, "Able to remain in residence with assist. of primary cg / support from community agencies");

    	$pdf->Rect(203, 638, 8.4, 8.4);
        if (@$ptev->p2_dis_able_to_remain_assist_cg == 1) {
        	$this->fpdf->Image( $path_ticket, 204, 639, 6);
        }


		$pdf->Text(22, 655, " When maximum functional potential reached");

    	$pdf->Rect(11, 648, 8.4, 8.4);
        if (@$ptev->p2_dis_when_max == 1) {
        	$this->fpdf->Image( $path_ticket, 12, 649, 6);
        }

		$pdf->Text(220, 655, " Able to understand care related to Diagnosis");

    	$pdf->Rect(210, 648, 8.4, 8.4);
        if (@$ptev->p2_dis_able_to_unders == 1) {
        	$this->fpdf->Image( $path_ticket, 211, 649, 6);
        }
        
		$pdf->Text(415, 655, "Other:");

    	$pdf->Rect(404, 648, 8.4, 8.4);
        if (@$ptev->p2_dis_other == 1) {
        	$this->fpdf->Image( $path_ticket, 405, 649, 6);
        }

		$pdf->SetFont('Courier','B',$__FONT['PDF']['FORM_MEDIUM']);
		$pdf->Text(441, 655, substr(@$ptev->p2_dis_other_desc, 0, 25));


		$pdf->SetFont('Arial','',$__FONT['PDF']['FORM_SMALL']);
		
		$pdf->Text(22, 665, " Patient / Caregiver participated in plan of care");

    	$pdf->Rect(11, 658, 8.4, 8.4);
        if (@$ptev->p2_pat_care_particip == 1) {
        	$this->fpdf->Image( $path_ticket, 12, 659, 6);
        }

		$pdf->Text(241, 665, "Patient is OK with family involvement with care");

    	$pdf->Rect(229, 658, 8.4, 8.4);
        if (@$ptev->p2_pat_ok_family_involv == 1) {
        	$this->fpdf->Image( $path_ticket, 230, 659, 6);
        }


		$this->fpdf->Line(8, 671, 584, 671);


		$pdf->SetFont('Arial','',$__FONT['PDF']['FORM_SMALL']);
		$pdf->Text(11, 682, "REHAB POTENTIAL");	

		$count = 0;
		foreach ($tab_33 as $key => $rehab_pot) {
			
			$pdf->Rect(11 + $count, 685, 8.4, 8.4);
	        if (@$ptev->p2_tab_033_rehab_pot == $key) {
	        	$this->fpdf->Image( $path_ticket, 12 + $count, 686, 6);
	        }
			$pdf->Text(22 + $count, 692, $rehab_pot);
			
			$count += 60;
			
		}


		$this->fpdf->Line(8, 698, 584, 698);
		
		
		$pdf->Text(11, 709, "HOME BOUND STATUS");	
		
		
		$pdf->Text(22, 719, "Considerable & taxing effort to leave home");
		
    	$pdf->Rect(11, 712, 8.4, 8.4);
        if (@$ptev->p2_home_consider == 1) {
        	$this->fpdf->Image( $path_ticket, 12, 713, 6);
        }

		$pdf->Text(211, 719, "Requires assistance to ambulate");
		
    	$pdf->Rect(200, 712, 8.4, 8.4);
        if (@$ptev->p2_home_req_assis == 1) {
        	$this->fpdf->Image( $path_ticket, 201, 713, 6);
        }


        $pdf->Text(22, 729, "Residual weakness");
        
    	$pdf->Rect(11, 722, 8.4, 8.4);
        if (@$ptev->p2_home_resid == 1) {
        	$this->fpdf->Image( $path_ticket, 12, 723, 6);
        }

		$pdf->Text(211, 729, "Dependent upon adaptive device(s)");
		
    	$pdf->Rect(200, 722, 8.4, 8.4);
        if (@$ptev->p2_home_depen == 1) {
        	$this->fpdf->Image( $path_ticket, 201, 723, 6);
        }


        $pdf->Text(22, 739, "Confusion, unable to go out alone");
        
    	$pdf->Rect(11, 732, 8.4, 8.4);
        if (@$ptev->p2_home_confu == 1) {
        	$this->fpdf->Image( $path_ticket, 12, 733, 6);
        }

		$pdf->Text(211, 739, "Other:");
		
    	$pdf->Rect(200, 732, 8.4, 8.4);
        if (@$ptev->p2_home_other == 1) {
        	$this->fpdf->Image( $path_ticket, 201, 733, 6);
        }
		
		$pdf->SetFont('Courier','B',$__FONT['PDF']['FORM_MEDIUM']);
		$pdf->Text(255, 739, @$ptev->p2_home_other_desc);

	
		$pdf->SetFont('Arial','',$__FONT['PDF']['FORM_SMALL']);
		
		$pdf->Text(380, 709, "FREQUENCY/DURATION");	
		
		$pdf->Text(380, 725, "_____________________________________");
		$pdf->Text(380, 740, "_____________________________________");	
		
		$pdf->SetFont('Courier','B',$__FONT['PDF']['FORM_MEDIUM']);
		$pdf->Text(380, 725, substr(@$ptev->freq_duration, 0, 30));
		$pdf->Text(380, 740, substr(@$ptev->freq_duration, 30));


		
		
		if($total_page != 3){
      $this->fpdf->Line(8, 745, 584, 745);
  		$pdf->SetFont('Arial','',$__FONT['PDF']['FORM_SMALL']);

  		$pdf->Text(13, 770, "Therapist: ____________________________________________________");
  		$pdf->Text(400, 770, "Date: ___________________");
  		
  		$pdf->Text(13, 790, "Physician: ____________________________________________________");
  		$pdf->Text(400, 790, "Date: ___________________");

  	
  		$this->fpdf->SetFont('Courier','B',$__FONT['PDF']['FORM_MEDIUM']);
  		
  		if ($visit_log->sent_to_approve_date) {
  			$this->fpdf->Text(60, 770, "ELECTRONICALLY SIGNED BY " . $assigned_to -> first_name." ".$assigned_to -> last_name);
  			$this->fpdf->Text(430, 770, standard_date(mysql_to_unix($visit_log->visit_date_time)));
  		}
  	/* pending doctor signature
  		if ($visit_log->approve_date) {
  			$this->fpdf->Text(60, 790, "ELECTRONICALLY SIGNED BY " . $approver -> first_name." ".$approver -> last_name);
  			$this->fpdf->Text(430, 790, standard_date(mysql_to_unix($visit_log->approve_date)));
  		}
  	*/	
    }
		$pdf->SetFont('Arial','',$__FONT['PDF']['FORM_SMALL']);
		$pdf->Text(511, 820, "      Page: 2 of ".$total_page);
    $pdf->Text(230, 820, "HomeHealthSoft Inc.   2006 � ".date("Y")." (c)");
    
    if($total_page == 3){
      ##########
  		# Page 3 #
  		##########
  		
  		$cero_y = 2;
  		$this->fpdf->AddPage();
		
		
      $this->fpdf->SetDrawColor(130,100);
      $this->fpdf->SetFont('Arial','B',$__FONT['PDF']['FORM_MEDIUM']);
      $this->fpdf->Text(( $cero_x + 0),( $cero_y + 12 ), $agency->agency_name); // agency name

      $this->fpdf->SetFont('Arial','',$__FONT['PDF']['FORM_SMALL3']);
      $this->fpdf->Text(( $cero_x + 0),( $cero_y + 22 ),"Licensed and Certified Home Health Agency");
      
      $this->fpdf->Rect(8,28, 577, 780);
      
      $this->fpdf->SetFont('Arial', 'B', $__FONT['PDF']['FORM_SMALL']);
      
      if(isset($assesment_types_list[@$ptev->tab_32_assess_type])){
        $this->fpdf->Text(( $cero_x + 190),( $cero_y + 36 ),"PHYSICAL THERAPY - ".$assesment_types_list[@$ptev->tab_32_assess_type]."                            " .
                                "VISIT DATE: " . standard_date(mysql_to_unix($visit_log->visit_date_time))); // visit date
      }else{
        $this->fpdf->Text(( $cero_x + 190),( $cero_y + 36 ),"PHYSICAL THERAPY  ASSESSMENT                            " .
                                "VISIT DATE: " . standard_date(mysql_to_unix($visit_log->visit_date_time))); // visit date
      }
      
      
      $this->fpdf->Line(( $cero_x - 3 ) , ($cero_y + 40.5 ), ( $cero_x + 574 ), ($cero_y + 40.5 ));

      ///////////////////////////////////////////////////////////////////////////
      $this->fpdf->Line(8, 745, 584, 745);
      
      /*********************** Banner *************************/
      
      $cero_y = 20;
      
        $this->fpdf->SetFont('Arial','', $__FONT['PDF']['FORM_SMALL']);
  	    $this->fpdf->Text(( $cero_x + 0),( $cero_y + 32 ),"Patient Name: ");
  	    
  	    $this->fpdf->SetFont('Arial','B', $__FONT['PDF']['FORM_SMALL']);
  	    $this->fpdf->Text(( $cero_x + 60),( $cero_y + 32 ), $patient->first_name . " " . $patient->last_name); // pacient name
	    
        $this->fpdf->SetFont('Arial','',$__FONT['PDF']['FORM_SMALL']);
        $this->fpdf->SetTextColor(0,0,0);

        $this->fpdf->SetDrawColor(130,100);
        $this->fpdf->Text(( $cero_x + 240),( $cero_y + 32 ),"Medicare #: ");
        
        $this->fpdf->SetFont('Arial','B',$__FONT['PDF']['FORM_SMALL']);
        $this->fpdf->Text(( $cero_x + 290),( $cero_y + 32 ), $patient->medicare_id); // medicare id
        
        
        $this->fpdf->SetFont('Arial','',$__FONT['PDF']['FORM_SMALL']);
        $this->fpdf->Text(( $cero_x + 390 + 20),( $cero_y + 32 ), "  NA ");
        $this->fpdf->Rect(( $cero_x + 380 + 20),($cero_y + 23.5), 8.4, 8.4);
        if (is_null($patient->medicare_id)){
        	$this->fpdf->Image( $path_ticket, ( $cero_x + 381 + 20 ),($cero_y + 24.5),6);
        }
        
        $this->fpdf->Text(( $cero_x + 420 + 20),( $cero_y + 32 ),"Medical Rec#: ");
        
        $this->fpdf->SetFont('Arial','B',$__FONT['PDF']['FORM_SMALL']);
        $this->fpdf->Text(( $cero_x + 480 +20),( $cero_y + 32 ), $patient->medical_rec_nbr); // medicare id
        
        
        $this->fpdf->SetFont('Arial','',$__FONT['PDF']['FORM_SMALL']);
        $this->fpdf->Text(( $cero_x + 390),( $cero_y + 42 ), "SOC: ");
        $this->fpdf->SetFont('Arial','B', $__FONT['PDF']['FORM_SMALL']);
        $this->fpdf->Text(( $cero_x + 415),( $cero_y + 42 ), standard_date(mysql_to_unix($visit_log->estimated_soc_date))); // soc date
        
        // primary and second icd
        $this->fpdf->SetFont('Arial','',$__FONT['PDF']['FORM_SMALL']);
        $this->fpdf->Text(( $cero_x + 0),( $cero_y + 42 ),"Primary Dx: ");
        
        $this->fpdf->SetFont('Arial','B',$__FONT['PDF']['FORM_SMALL']);
        $this->fpdf->Text(( $cero_x + 60),( $cero_y + 42 ), substr($ptev->primary_diag, 0, 30));
        
        $this->fpdf->SetFont('Arial','',$__FONT['PDF']['FORM_SMALL']);
        $this->fpdf->Text(( $cero_x + 240),( $cero_y + 42 ),"Date: ");
        
        $this->fpdf->SetFont('Arial','B',$__FONT['PDF']['FORM_SMALL']); 
        $this->fpdf->Text(( $cero_x + 288),( $cero_y + 42 ), (!is_null(@$ptev->primary_diag_date) ? standard_date(mysql_to_unix(@$ptev->primary_diag_date)) : ""));
        
        $this->fpdf->SetFont('Arial','',$__FONT['PDF']['FORM_SMALL']);
        $this->fpdf->Text(( $cero_x + 0),( $cero_y + 52 ),"Therapy Dx: ");              

        $this->fpdf->SetFont('Arial','B',$__FONT['PDF']['FORM_SMALL']);
        $this->fpdf->Text(( $cero_x + 60),( $cero_y + 52 ), substr($ptev->secondary_diag, 0, 30));

        $this->fpdf->SetFont('Arial','',$__FONT['PDF']['FORM_SMALL']);
        $this->fpdf->Text(( $cero_x + 240),( $cero_y + 52 ),"Date: ");

        $this->fpdf->SetFont('Arial','B',$__FONT['PDF']['FORM_SMALL']);
        $this->fpdf->Text(( $cero_x + 288),( $cero_y + 52 ), (!is_null(@$ptev->secondary_diag_date) ? standard_date(mysql_to_unix(@$ptev->secondary_diag_date)) : ""));
        
        

        // start and end soc date
        $this->fpdf->SetFont('Arial','',$__FONT['PDF']['FORM_SMALL']);
        $this->fpdf->Text(( $cero_x + 390),( $cero_y + 52 ),"From: ");
        
        $this->fpdf->SetFont('Arial','B',$__FONT['PDF']['FORM_SMALL']);                                
        $this->fpdf->Text(( $cero_x + 415),( $cero_y + 52 ), standard_date(mysql_to_unix($visit_log->episode_start_date)));


        $this->fpdf->SetFont('Arial','',$__FONT['PDF']['FORM_SMALL']);
        $this->fpdf->Text(( $cero_x + 490),( $cero_y + 52 ),"To: ");

        $this->fpdf->SetFont('Arial','B',$__FONT['PDF']['FORM_SMALL']);
        $this->fpdf->Text(( $cero_x + 505),( $cero_y + 52 ), standard_date(mysql_to_unix($visit_log->episode_end_date)));
        
        
        if ($visit_log->episode_start_date == $visit_log->estimated_soc_date)     {
            $this->fpdf->Text(( $cero_x + 495),( $cero_y + 42 ),"   Certification");
        } else {
            $this->fpdf->Text(( $cero_x + 495),( $cero_y + 42 ),"   Recertif.");
        }

        $this->fpdf->Rect(( $cero_x + 490),($cero_y + 33.5), 8.4, 8.4);
        $this->fpdf->Image( $path_ticket,( $cero_x + 491 ),($cero_y + 34.5),6);


        $this->fpdf->SetFont('Arial','',$__FONT['PDF']['FORM_SMALL']);
        $this->fpdf->Text(( $cero_x + 0),( $cero_y + 62 ),"Physician: ");

    		$this->fpdf->SetFont('Arial','B',$__FONT['PDF']['FORM_arial8']);
    		$this->fpdf->Text(( $cero_x + 60),($cero_y + 62 ), @$phys_user_id->complete_name);

    		$this->fpdf->SetFont('Arial','',$__FONT['PDF']['FORM_SMALL']);
        $this->fpdf->Text(( $cero_x + 240),( $cero_y + 62 ), "Therapist:");
        
        $this->fpdf->SetFont('Arial','B',$__FONT['PDF']['FORM_arial8']);
        $this->fpdf->Text(( $cero_x + 282),(  $cero_y + 62 ), $visit_log->first_name . " " .  $visit_log->last_name);
        
        $this->fpdf->SetFont('Arial','',$__FONT['PDF']['FORM_SMALL']);
        $this->fpdf->Text(( $cero_x + 390),( $cero_y + 62 ), "Time In: ");
    		$this->fpdf->SetFont('Arial','B',$__FONT['PDF']['FORM_SMALL']);
    		$this->fpdf->Text(( $cero_x + 424),( $cero_y + 62 ), standard_date(mysql_to_unix($visit_log->visited_date . " " . $visit_log->visited_time_in), 'USA_TIME_C'));
            
    		$this->fpdf->SetFont('Arial','',$__FONT['PDF']['FORM_SMALL']);
        $this->fpdf->Text(( $cero_x + 490),( $cero_y + 62 ), "Time Out: ");
    		$this->fpdf->SetFont('Arial','B',$__FONT['PDF']['FORM_SMALL']);
    		$this->fpdf->Text(( $cero_x + 531),( $cero_y + 62 ), standard_date(mysql_to_unix($visit_log->visited_date . " " . $visit_log->visited_time_out), 'USA_TIME_C'));

        $cero_y =$cero_y+5;
        $this->fpdf->SetLineWidth( 0.9 );
        $this->fpdf->Line(8, 85, 584, 85);
        
      /************************ page content goes now ***********************/
      /************************ page footer content goes now ***********************/
      
      $pdf->SetFont('Arial','',$__FONT['PDF']['FORM_SMALL']);
      
  		$pdf->Text(13, 770, "Therapist: ____________________________________________________");
  		$pdf->Text(400, 770, "Date: ___________________");
  		
  		$pdf->Text(13, 790, "Physician: ____________________________________________________");
  		$pdf->Text(400, 790, "Date: ___________________");

  	
  		$this->fpdf->SetFont('Courier','B',$__FONT['PDF']['FORM_MEDIUM']);
  		
  		if ($visit_log->sent_to_approve_date) {
  			$this->fpdf->Text(60, 770, "ELECTRONICALLY SIGNED BY " . $assigned_to -> first_name." ".$assigned_to -> last_name);
  			$this->fpdf->Text(430, 770, standard_date(mysql_to_unix($visit_log->visit_date_time)));
  		}
  	/* pending doctor signature
  		if ($visit_log->approve_date) {
  			$this->fpdf->Text(60, 790, "ELECTRONICALLY SIGNED BY " . $approver -> first_name." ".$approver -> last_name);
  			$this->fpdf->Text(430, 790, standard_date(mysql_to_unix($visit_log->approve_date)));
  		}
  	*/	
    
    /************************ page footer ended ***********************/
    
      //////////////////////////////////////////////////////////////////////////
        /*    
        $this->fpdf->Text(( $cero_x + 250),( $cero_y + 36 ),"Addendum / Additional Notes / Continuation"); 
        $this->fpdf->Line(( $cero_x - 3 ) , ($cero_y + 40.5 ), ( $cero_x + 574 ), ($cero_y + 40.5 ));
      */
      $cero_y += 16;
      
      $therapy_supervisory = 0;
      $line_need = 0;
        if(@$ptev->ther_na ==1 ){
          $cero_y += 16;
          // do not need to print anything
        }else if(@$ptev->ther_name != null || @$ptev->ther_implem_plan != null  || @$ptev->ther_follow_plan != null || @$ptev->ther_raport_pat_fam != null || @$ptev->ther_eval_plan != null || @$ptev->ther_notes != null)
        {
            $therapy_supervisory = 1;  // position will be less 434
            $this->fpdf->SetLineWidth( 0.9 );
            //$this->fpdf->Line(( $cero_x - 3) , ($cero_y + 46), ( $cero_x + 573 ), ($cero_y + 46));
            
            $cero_y += 10;
            
            $this->fpdf->SetFont('Arial','',$__FONT['PDF']['FORM_SMALL']);
            $this->fpdf->Text(( $cero_x ),( $cero_y + 46 ),"THERAPY SUPERVISORY COMMUNICATION REPORT"); 
            
            $this->fpdf->SetLineWidth( 0.5 );
            $this->fpdf->Rect(( $cero_x + 290), ($cero_y  + 39 ), 8.4, 8.4);
            $this->fpdf->Text(( $cero_x + 302),( $cero_y + 46 ), "N/A");
            if (@$ptev->ther_na == 1) {
                $this->fpdf->Image( $path_ticket, ( $cero_x + 291),($cero_y + 40), 6);
            }
            
            $this->fpdf->Text(( $cero_x ),( $cero_y + 56 ),"Name of Therapist being Evaluated:");
            
            $this->fpdf->SetFont('Courier','B',$__FONT['PDF']['FORM_MEDIUM']);
            @$ther_name   	= $this->usagymdl->getByUsAgyId($ptev->ther_name);
            $this->fpdf->Text(( $cero_x + 150 ),( $cero_y + 56 ), @$ther_name->complete_name);
            $this->fpdf->Line(( $cero_x + 149),($cero_y + 57), ( $cero_x + 260 ), ($cero_y + 57));
            
            $this->fpdf->SetFont('Arial','',$__FONT['PDF']['FORM_SMALL']);
            $this->fpdf->Text(( $cero_x ),( $cero_y + 66 ),"Asses the Following Areas of Care:");
            

            $this->fpdf->Text(( $cero_x + 250),( $cero_y + 66 ),"Followed Plan of Care?");
            
            $this->fpdf->Rect(( $cero_x + 447),($cero_y  + 59 ), 8.4, 8.4);
            if (@$ptev->ther_follow_plan == 1) {
                $this->fpdf->Image( $path_ticket, ( $cero_x + 448),($cero_y + 60), 6);
            }
            $this->fpdf->Text(( $cero_x + 457),( $cero_y + 66 ),"Yes");

            
            $this->fpdf->Rect(( $cero_x + 490),($cero_y  + 59 ), 8.4, 8.4);
            /*if ((@$ptev->ther_follow_plan == 0) and (@$ptev->ther_na == 0)) {
                $this->fpdf->Image( $path_ticket, ( $cero_x + 491),($cero_y + 60), 6);
            }*/
            $this->fpdf->Text(( $cero_x + 500),( $cero_y + 66 ),"No");
            
            
            
            $this->fpdf->Text(( $cero_x + 250),( $cero_y + 76 ),"Demonstrated good rapport with patient/family?");
            
            $this->fpdf->Rect(( $cero_x + 447),($cero_y  + 69 ), 8.4, 8.4);
            if (@$ptev->ther_raport_pat_fam == 1) {
                $this->fpdf->Image( $path_ticket, ( $cero_x + 448),($cero_y + 70), 6);
            }
            $this->fpdf->Text(( $cero_x + 457),( $cero_y + 76 ),"Yes");

            
            $this->fpdf->Rect(( $cero_x + 490),($cero_y  + 69 ), 8.4, 8.4);
            /*if ((@$ptev->ther_raport_fam == 0) and (@$ptev->ther_na == 0)) {
                $this->fpdf->Image( $path_ticket, ( $cero_x + 491),($cero_y + 70), 6);
            }*/
            $this->fpdf->Text(( $cero_x + 500),( $cero_y + 76 ),"No");
            
            
            
            $this->fpdf->Text(( $cero_x + 250),( $cero_y + 86 ),"Implemented Plan of Care?");
            
            $this->fpdf->Rect(( $cero_x + 447),($cero_y  + 79 ), 8.4, 8.5);
            if (@$ptev->ther_implem_plan == 1) {
                $this->fpdf->Image( $path_ticket, ( $cero_x + 448),($cero_y + 80), 6);
            }
            $this->fpdf->Text(( $cero_x + 457),( $cero_y + 86 ),"Yes"); 

            
            $this->fpdf->Rect(( $cero_x + 490),($cero_y  + 79 ), 8.4, 8.5);
            /*if ((@$ptev->ther_implem_plan == 0) and (@$ptev->ther_na == 0)) {
                $this->fpdf->Image( $path_ticket, ( $cero_x + 491),($cero_y + 80), 6);
            }*/
            $this->fpdf->Text(( $cero_x + 500),( $cero_y + 86 ),"No");
            
            
            
            $this->fpdf->Text(( $cero_x ),( $cero_y + 89 ),"Evaluation of Plan of Care:");
            
            $this->fpdf->SetLineWidth( 0.5 );
            $this->fpdf->Line(( $cero_x + 5 ) , ($cero_y + 102), ( $cero_x + 558 ), ($cero_y + 102));
            $this->fpdf->Line(( $cero_x + 5 ) , ($cero_y + 112), ( $cero_x + 558 ), ($cero_y + 112));
            
            $this->fpdf->SetFont('Courier','B',$__FONT['PDF']['FORM_MEDIUM']);
            $this->fpdf->SetXY($cero_x + 2, $cero_y + 93 );
            $this->fpdf->MultiCell(562, 10, substr(@$ptev->ther_eval_plan,0, 270));
            $cero_y += 115;
            $line_need = 1;
      }
      
      if($cognition_subjective_more OR $hx_comments_more){  
        if($line_need)
        $this->fpdf->Line(( $cero_x - 3 ) , ($cero_y + 25 ), ( $cero_x + 574 ), ($cero_y + 25 ));
        
        $this->fpdf->SetFont('Arial', 'B', $__FONT['PDF']['FORM_SMALL']);
        $this->fpdf->Text(( $cero_x + 250),( $cero_y + 36 ),"Continuation"); 
        $this->fpdf->Line(( $cero_x - 3 ) , ($cero_y + 40.5 ), ( $cero_x + 574 ), ($cero_y + 40.5 ));
        
        $cero_y += 15;  
        
        if($cognition_subjective_more){
          $pdf->SetFont('Arial','',$__FONT['PDF']['SIZE']);
          $pdf->Text(( $cero_x + 11),( $cero_y + 36 ), "Cognition/Subjective:");
          //$pdf->Text(11, 107, "Cognition/Subjective:");
  		  
          $this->fpdf->SetXY(( $cero_x + 101), ( $cero_y + 30.5 ));
          //$this->fpdf->SetXY(101, 100.5);
          $this->fpdf->SetFont('Courier','B',$__FONT['PDF']['FORM_MEDIUM']);
          $cognition_subjective = substr(@$ptev->cognition_subjective,205);
          $this->fpdf->MultiCell(470, 10, $cognition_subjective);
          
          $cero_y += ceil(strlen($cognition_subjective)/77)*10;
          /*
          $pdf->SetLineWidth( 0.5);
          $pdf->Line(( $cero_x + 101), ( $cero_y + 40.5 ), ( $cero_x + 571), ( $cero_y + 40.5 ));
          //$pdf->Line(101, 110.5, 571, 110.5);
          $pdf->Line(( $cero_x + 101), ( $cero_y + 50.5 ), ( $cero_x + 571), ( $cero_y + 50.5 ));
          //$pdf->Line(101, 120.5, 571, 120.5);
          */
        }
        
        if($hx_comments_more){
          $pdf->SetFont('Arial','',$__FONT['PDF']['SIZE']);
          //$pdf->Text(11, 130, "Hx:");
          $pdf->Text(( $cero_x + 11),( $cero_y + 42 ), "Objective/Hx:");
          
          $this->fpdf->SetFont('Courier','B',$__FONT['PDF']['FORM_SMALL4']);
          
          $this->fpdf->SetXY(( $cero_x + 30+35), ( $cero_y + 34.5 ));
          $hx_comments = substr(@$ptev->hx_comments, 210);
          $this->fpdf->MultiCell(500, 10, $hx_comments);
          
          $cero_y += ceil(strlen($hx_comments)/92)*10;
          $cero_y += 10;
          
          //$pdf->Text(( $cero_x + 30),( $cero_y + 40 ), substr(@$ptev->hx_comments, 96));
          
        }
        
        //$pdf->Line(( $cero_x + 31), ( $cero_y + 41 ), ( $cero_x + 571), ( $cero_y + 41 ));
        //$pdf->Line(31, 131, 571, 131);    
        
        $cero_y += 16;
        $line_need = 1;
      }
      
      if(strlen(@$ptev->addendum) > 0){
        if($line_need)
        $this->fpdf->Line(( $cero_x - 3 ) , ($cero_y + 25 ), ( $cero_x + 574 ), ($cero_y + 25 ));
        
        $this->fpdf->SetFont('Arial', 'B', $__FONT['PDF']['FORM_SMALL']);
        $this->fpdf->Text(( $cero_x + 220),( $cero_y + 36 ),"Addendum / Additional Notes"); 
        $this->fpdf->Line(( $cero_x - 3 ) , ($cero_y + 40.5 ), ( $cero_x + 574 ), ($cero_y + 40.5 ));

        $pdf->SetFont('Courier','B',$__FONT['PDF']['FORM_MEDIUM']);
        $pdf->SetXY(11, $cero_y+50);
        $pdf->MultiCell(566, 10, @$ptev->addendum);
      }
      
      $cero_y = 20;
      $this->fpdf->SetTextColor(0,0,0);    

      $pdf->SetFont('Arial','',$__FONT['PDF']['FORM_SMALL']);
  		$pdf->Text(511, 820, "      Page: 3 of ".$total_page);      
      $pdf->Text(230, 820, "HomeHealthSoft Inc.   2006 � ".date("Y")." (c)");
    }
    
        
        

		//$this->fpdf->Output('ptev.pdf','D');
    
    $filename = FCPATH;
    $filename = str_replace("\\","/", $filename);
    $filename = $filename.'tmp/'.time().'_'.$visit_log_id.'_pq_ptev.pdf';
    
    
    $this->fpdf->Output($filename,'F');
    return $filename;		
        
	}

	function ptpn_pdf ( $visit_log_id ) {
    $this->load->model('ptpnmdl');
		// saving before printing pdf
		$visit_log = $this->visitlogmdl->getById($visit_log_id);
		
		if (!$this->request->is_get() && ($visit_log->visit_status_id == 1 || $visit_log->visit_status_id == 2)) {
			
			$this->visitlogmdl->updateStatus($visit_log_id, 2);
			/*$this->assignPostData($this->ptpnmdl);
			
			if ($visit_log->visit_status_id == 2) {
				$this->ptpnmdl->update($visit_log_id);
			} else {
				$this->ptpnmdl->insert($visit_log_id);
			}*/
			
		}
		
		// printing pdf
		$ptpn  	    	= $this->ptpnmdl->get($visit_log_id);
		$agency	    	= $this->agencymdl->getByAgencyId($this->getAgencyId());
		$patient    	= $this->patientmdl->getById($visit_log->patient_id);
		$agency	    	= $this->agencymdl->getByAgencyId($patient->agency_id);
		$episde_icd		= $this->episodeicdmdl->get($visit_log->cms485_id);
		@$ther_name   	= $this->usagymdl->getByUsAgyId($ptpn->ther_name);
		@$ther_super   	= $this->usagymdl->getByUsAgyId($ptpn->ther_supervisor);
		$phys_user_id  	= $this->usagymdl->getByUsAgyId($visit_log->phys_user_id);
		
		$path_ticket = realpath("style/images/icon_enable_negro.gif");
		
        $__FONT['PDF']['SIZE'] = 11;
        $__FONT['PDF']['FORM_MEDIUM'] = 10;
        $__FONT['PDF']['FORM_SMALL'] = 9;
        $__FONT['PDF']['FORM_SMALL2'] = 9;
        $__FONT['PDF']['FORM_SMALL3'] = 6.5;
        $__FONT['PDF']['FORM_SMALL4'] = 9.5;
        $__FONT['PDF']['FORM_arial8'] = 9.5;
        
		
		$this->load->library('fpdf');
    if(!defined('FPDF_FONTPATH'))
		define('FPDF_FONTPATH',$this->config->item('fonts_path'));

    $this->fpdf = new fpdf;

		
        $cero_x = 11;
        $cero_y = 2;
		$this->fpdf->Open();
		$this->fpdf->AddPage();
		
        $this->fpdf->SetDrawColor(130,100);
        $this->fpdf->SetFont('Arial','B',$__FONT['PDF']['FORM_MEDIUM']);
        $this->fpdf->Text(( $cero_x + 0),( $cero_y + 12 ), $agency->agency_name); // agency name

        $this->fpdf->SetFont('Arial','',$__FONT['PDF']['FORM_SMALL3']);
        $this->fpdf->Text(( $cero_x + 0),( $cero_y + 22 ),"Licensed and Certified Home Health Agency");
        
        $this->fpdf->Rect(8,28, 577, 740);
        
        $this->fpdf->SetFont('Arial', 'B', $__FONT['PDF']['FORM_SMALL']);
        $this->fpdf->Text(( $cero_x + 190),( $cero_y + 36 ),"PHYSICAL THERAPY - PROGRESS NOTE                     " .
        													"VISIT DATE: " . standard_date(mysql_to_unix($visit_log->visited_date))); // visit date
    	$this->fpdf->Line(( $cero_x - 3 ) , ($cero_y + 40.5 ), ( $cero_x + 574 ), ($cero_y + 40.5 ));
    	
        $cero_y = 20;
        $this->fpdf->SetTextColor(0,0,0);
        $this->fpdf->SetFont('Arial','', $__FONT['PDF']['FORM_SMALL']);
	    $this->fpdf->Text(( $cero_x + 0),( $cero_y + 32 ),"Patient Name: ");
	    
	    $this->fpdf->SetFont('Arial','B', $__FONT['PDF']['FORM_SMALL']);
	    $this->fpdf->Text(( $cero_x + 60),( $cero_y + 32 ), $patient->first_name . " " . $patient->last_name); // pacient name
	    
        $this->fpdf->SetFont('Arial','',$__FONT['PDF']['FORM_SMALL']);
        $this->fpdf->SetTextColor(0,0,0);

        $this->fpdf->SetDrawColor(130,100);
        $this->fpdf->Text(( $cero_x + 210),( $cero_y + 32 ),"Medicare #: ");
        
        $this->fpdf->SetFont('Arial','B',$__FONT['PDF']['FORM_SMALL']);
        $this->fpdf->Text(( $cero_x + 260),( $cero_y + 32 ), $patient->medicare_id); // medicare id
        
        
        $this->fpdf->SetFont('Arial','',$__FONT['PDF']['FORM_SMALL']);
        $this->fpdf->Text(( $cero_x + 388),( $cero_y + 32 ), "  NA ");
        $this->fpdf->Rect(( $cero_x + 378),($cero_y + 23.5), 8.4, 8.4);
        
        if (is_null($patient->medicare_id)){
        	$this->fpdf->Image( $path_ticket, ( $cero_x + 379 ),($cero_y + 24.5),6);
        }
        $this->fpdf->Text(( $cero_x + 395 +20),( $cero_y + 32 ),"Medical Rec#: ");
        
        $this->fpdf->SetFont('Arial','B',$__FONT['PDF']['FORM_SMALL']);
        $this->fpdf->Text(( $cero_x + 455 +20),( $cero_y + 32 ), $patient->medical_rec_nbr); // medicare id
		
		$this->fpdf->SetFont('Arial','', $__FONT['PDF']['FORM_SMALL']);
        $this->fpdf->Text(( $cero_x + 372),( $cero_y + 42 ),"  SOC: ");
        $this->fpdf->SetFont('Arial','B', $__FONT['PDF']['FORM_SMALL']);
        $this->fpdf->Text(( $cero_x + 415),( $cero_y + 42 ), standard_date(mysql_to_unix($visit_log->estimated_soc_date))); // soc date
        
        // primary and second icd
        $this->fpdf->SetFont('Arial','',$__FONT['PDF']['FORM_SMALL']);
        $this->fpdf->Text(( $cero_x + 0),( $cero_y + 42 ),"Primary Dx: ");
        
        $this->fpdf->SetFont('Arial','B',$__FONT['PDF']['FORM_SMALL']);
        $this->fpdf->Text(( $cero_x + 60),( $cero_y + 42 ), substr(@$ptpn->primary_diag, 0, 30));
        
        $this->fpdf->SetFont('Arial','',$__FONT['PDF']['FORM_SMALL']);
        $this->fpdf->Text(( $cero_x + 210),( $cero_y + 42 ),"Date: ");
        
        $this->fpdf->SetFont('Arial','B',$__FONT['PDF']['FORM_SMALL']); 
        $this->fpdf->Text(( $cero_x + 288),( $cero_y + 42 ), (!is_null(@$ptpn->primary_diag_date) ? standard_date(mysql_to_unix(@$ptpn->primary_diag_date)) : ""));
        
        $this->fpdf->SetFont('Arial','',$__FONT['PDF']['FORM_SMALL']);
        $this->fpdf->Text(( $cero_x + 0),( $cero_y + 52 ),"Therapy Dx: ");              

        $this->fpdf->SetFont('Arial','B',$__FONT['PDF']['FORM_SMALL']);
        $this->fpdf->Text(( $cero_x + 60),( $cero_y + 52 ), substr(@$ptpn->secondary_diag, 0, 30));

        $this->fpdf->SetFont('Arial','',$__FONT['PDF']['FORM_SMALL']);
        $this->fpdf->Text(( $cero_x + 210),( $cero_y + 52 ),"Date: ");

        $this->fpdf->SetFont('Arial','B',$__FONT['PDF']['FORM_SMALL']);
        $this->fpdf->Text(( $cero_x + 288),( $cero_y + 52 ), (!is_null(@$ptpn->secondary_diag_date) ? standard_date(mysql_to_unix(@$ptpn->secondary_diag_date)) : ""));
        

        // start and end soc date
        $this->fpdf->SetFont('Arial','',$__FONT['PDF']['FORM_SMALL']);
        $this->fpdf->Text(( $cero_x + 377),( $cero_y + 52 ),"From: ");
        
        $this->fpdf->SetFont('Arial','B',$__FONT['PDF']['FORM_SMALL']);                                
        $this->fpdf->Text(( $cero_x + 415),( $cero_y + 52 ), standard_date(mysql_to_unix($visit_log->episode_start_date)));


        $this->fpdf->SetFont('Arial','',$__FONT['PDF']['FORM_SMALL']);
        $this->fpdf->Text(( $cero_x + 490),( $cero_y + 52 ),"To: ");

        $this->fpdf->SetFont('Arial','B',$__FONT['PDF']['FORM_SMALL']);
        $this->fpdf->Text(( $cero_x + 505),( $cero_y + 52 ), standard_date(mysql_to_unix($visit_log->episode_end_date)));
        
        
        if ($visit_log->episode_start_date == $visit_log->estimated_soc_date)     {
            $this->fpdf->Text(( $cero_x + 495),( $cero_y + 42 ),"   Certification");
        } else {
            $this->fpdf->Text(( $cero_x + 495),( $cero_y + 42 ),"   Recertif.");
        }

        $this->fpdf->Rect(( $cero_x + 490),($cero_y + 33.5), 8.4, 8.4);
        $this->fpdf->Image( $path_ticket,( $cero_x + 491 ),($cero_y + 34.5),6);


        $this->fpdf->SetFont('Arial','',$__FONT['PDF']['FORM_SMALL']);
        $this->fpdf->Text(( $cero_x + 0),( $cero_y + 62 ),"Physician: ");

		$this->fpdf->SetFont('Arial','B',$__FONT['PDF']['FORM_arial8']);
		$this->fpdf->Text(( $cero_x + 60),($cero_y + 62 ), @$phys_user_id->complete_name);

		$this->fpdf->SetFont('Arial','',$__FONT['PDF']['FORM_SMALL']);
        $this->fpdf->Text(( $cero_x + 210),( $cero_y + 62 ), "Clinician:");
        
        $this->fpdf->SetFont('Arial','B',$__FONT['PDF']['FORM_arial8']);
        $this->fpdf->Text(( $cero_x + 250),(  $cero_y + 62 ), $visit_log->first_name . " " .  $visit_log->last_name);
        
        $this->fpdf->SetFont('Arial','',$__FONT['PDF']['FORM_SMALL']);
        $this->fpdf->SetFont('Arial','',$__FONT['PDF']['FORM_SMALL']);
        $this->fpdf->Text(( $cero_x + 377),( $cero_y + 62 ), "Time In: ");
		$this->fpdf->SetFont('Arial','B',$__FONT['PDF']['FORM_SMALL']);
		$this->fpdf->Text(( $cero_x + 416),( $cero_y + 62 ), standard_date(mysql_to_unix($visit_log->visited_date . " " . $visit_log->visited_time_in), 'USA_TIME_C'));
        
		$this->fpdf->SetFont('Arial','',$__FONT['PDF']['FORM_SMALL']);
        $this->fpdf->Text(( $cero_x + 490),( $cero_y + 62 ), "Time Out: ");
		$this->fpdf->SetFont('Arial','B',$__FONT['PDF']['FORM_SMALL']);
		$this->fpdf->Text(( $cero_x + 531),( $cero_y + 62 ), standard_date(mysql_to_unix($visit_log->visited_date . " " . $visit_log->visited_time_out), 'USA_TIME_C'));

		
        $cero_y =$cero_y+5;
        $this->fpdf->SetLineWidth( 0.9 );
        $this->fpdf->Line(( $cero_x-3 ) , ($cero_y + 60.5), ( $cero_x + 573 ), ($cero_y + 60.5)) ;
    
        $this->fpdf->SetFont('Arial','B',$__FONT['PDF']['FORM_SMALL']);
        $this->fpdf->SetFont('Arial','',$__FONT['PDF']['FORM_SMALL']);
        $this->fpdf->Text(( $cero_x + 70 - 70),( $cero_y + 72 ), "VITAL SIGNS  BP: _______   T: ______   R: _______   P: ______");
        

        $this->fpdf->SetFont('Courier','B',$__FONT['PDF']['FORM_MEDIUM']);
        $this->fpdf->Text(( $cero_x + 148 - 70),( $cero_y + 72 ), @$ptpn->bp);
        $this->fpdf->Text(( $cero_x + 200 - 70),( $cero_y + 72 ), @$ptpn->temp);
        $this->fpdf->Text(( $cero_x + 255 - 70),( $cero_y + 72 ), @$ptpn->resp);
        $this->fpdf->Text(( $cero_x + 312 - 70),( $cero_y + 72 ), @$ptpn->pulse);
                
        $this->fpdf->SetFont('Arial','',9);
        $y = $this->fpdf->GetY(); $x = $this->fpdf->GetX(); 
        $this->fpdf->Rect($cero_x + 312, $cero_y + 65, 8.4, 8.4);
        if (!is_null(@$visit_log->billable_YN) AND @$visit_log->billable_YN == 1){
          $this->fpdf->Image( $path_ticket, $cero_x + 314, $cero_y + 66, 5);
        }
        $this->fpdf->Text($cero_x + 312+14, $cero_y + 72, 'Billable');  
        
        
        $cero_y =$cero_y-3;
        $this->fpdf->SetFont('Arial','',9);
        $this->fpdf->Text(( $cero_x + 480),( $cero_y + 75 ), "Mileage: "  );
		$this->fpdf->SetFont('Courier','B',$__FONT['PDF']['FORM_MEDIUM']);
		$this->fpdf->Text(( $cero_x + 518),( $cero_y + 75 ), $visit_log->mileage);

        $this->fpdf->SetLineWidth( 0.9 );
        $this->fpdf->Line(( $cero_x - 2) , ($cero_y + 80.5), ( $cero_x + 573 ), ($cero_y + 80.5)) ;
        
        
        $this->fpdf->SetFont('Arial','',$__FONT['PDF']['FORM_SMALL']);
        $this->fpdf->Text(( $cero_x + 0),( $cero_y + 91 ),"FUNCTIONAL ACTIVITY");
        $this->fpdf->Text(( $cero_x + 188),( $cero_y + 91 ),"ASSISTANCE LEVEL CONTACT");
        $this->fpdf->Text(( $cero_x + 480),( $cero_y + 101 ), "NOTES");


		# horizontal lines
        $this->fpdf->SetLineWidth( 0.5 );
        $this->fpdf->Line(( $cero_x - 2) , ($cero_y + 102.5), ( $cero_x + 573 ), ($cero_y + 102.5));
        
	    $this->fpdf->SetLineWidth( 0.2 );
	    $this->fpdf->Line(( $cero_x - 2) , ($cero_y + 123.0), ( $cero_x + 573 ), ($cero_y + 123.0));
	    $this->fpdf->Line(( $cero_x - 2) , ($cero_y + 133.0), ( $cero_x + 573 ), ($cero_y + 133.0));
        $this->fpdf->Line(( $cero_x - 2) , ($cero_y + 143.0), ( $cero_x + 573 ), ($cero_y + 143.0));
        $this->fpdf->Line(( $cero_x - 2) , ($cero_y + 163.0), ( $cero_x + 573 ), ($cero_y + 163.0));
        $this->fpdf->Line(( $cero_x - 2) , ($cero_y + 173.0), ( $cero_x + 573 ), ($cero_y + 173.0));
        $this->fpdf->Line(( $cero_x - 2) , ($cero_y + 183.0), ( $cero_x + 573 ), ($cero_y + 183.0));
        $this->fpdf->Line(( $cero_x - 2) , ($cero_y + 193.0), ( $cero_x + 573 ), ($cero_y + 193.0));
        $this->fpdf->Line(( $cero_x - 2) , ($cero_y + 213.0), ( $cero_x + 573 ), ($cero_y + 213.0));
        $this->fpdf->Line(( $cero_x - 2) , ($cero_y + 223.0), ( $cero_x + 573 ), ($cero_y + 223.0));
        $this->fpdf->Line(( $cero_x - 2) , ($cero_y + 233.0), ( $cero_x + 573 ), ($cero_y + 233.0));
        
        # vertical lines
        $this->fpdf->Line(( $cero_x +107) , ($cero_y + 80.0 ), ( $cero_x + 107 ), ($cero_y + 248.0));
        $this->fpdf->Line(( $cero_x +145) , ($cero_y + 103.0), ( $cero_x + 145 ), ($cero_y + 248.0));
        $this->fpdf->Line(( $cero_x +183) , ($cero_y + 103.0), ( $cero_x + 183 ), ($cero_y + 248.0));
        $this->fpdf->Line(( $cero_x +222) , ($cero_y + 103.0), ( $cero_x + 222 ), ($cero_y + 248.0));
        $this->fpdf->Line(( $cero_x +260) , ($cero_y + 103.0), ( $cero_x + 260 ), ($cero_y + 248.0));
        $this->fpdf->Line(( $cero_x +297) , ($cero_y + 103.0), ( $cero_x + 297 ), ($cero_y + 248.0));
        $this->fpdf->Line(( $cero_x +335) , ($cero_y + 103.0), ( $cero_x + 335 ), ($cero_y + 248.0));
        $this->fpdf->Line(( $cero_x +374) , ($cero_y + 103.0), ( $cero_x + 374 ), ($cero_y + 248.0));
        $this->fpdf->Line(( $cero_x +412) , ($cero_y + 103.0 ), ( $cero_x + 412 ), ($cero_y + 248.0));
        $this->fpdf->Line(( $cero_x +447) , ($cero_y + 80.0 ), ( $cero_x + 447 ), ($cero_y + 248.0));
        
        $this->fpdf->Text(( $cero_x + 111),( $cero_y + 101 ),"Max A");
        $this->fpdf->Text(( $cero_x + 148),( $cero_y + 101 ),"Mod A");
        $this->fpdf->Text(( $cero_x + 189),( $cero_y + 101 ),"Min A");
        $this->fpdf->Text(( $cero_x + 227),( $cero_y + 101 ),"Guard");
        $this->fpdf->Text(( $cero_x + 270),( $cero_y + 101 ),"SBA");
        $this->fpdf->Text(( $cero_x + 305),( $cero_y + 101 ),"Mod-I");
        $this->fpdf->Text(( $cero_x + 352),( $cero_y + 101 ),"I");
        $this->fpdf->Text(( $cero_x + 385),( $cero_y + 101 ),"N/A");
        $this->fpdf->Text(( $cero_x + 423),( $cero_y + 101 ),"NT");
		
		
		$this->fpdf->SetFont('Arial','',$__FONT['PDF']['FORM_SMALL']);
        $this->fpdf->Text(( $cero_x + 0),( $cero_y + 111),"TRANSFERS");
        
        
		################
		# Sit to Stand #
		################
        $this->fpdf->SetFont('Arial','',$__FONT['PDF']['FORM_SMALL']);
        $this->fpdf->Text(( $cero_x + 4),( $cero_y + 121 ),"Sit to Stand");
        
	    $contador=122;
        $i=1;
        $tab_24_list =  $this->parametermdl->getByType(24);
        
        foreach($tab_24_list as $key=>$val){
            $this->fpdf->Rect(( $cero_x + $contador ),( $cero_y + 114 ), 8, 8);
            if (@$ptpn->tab_024_trans_sit_stand == $key) {
                    $this->fpdf->Image( $path_ticket,($cero_x + $contador+1),( $cero_y + 115),6);
            }
            $contador += 38;
            $i++;
       }
        
        $this->fpdf->SetFont('Courier','B',$__FONT['PDF']['FORM_MEDIUM']);
        $this->fpdf->Text(( $cero_x + 450),( $cero_y + 121), substr(@$ptpn->trans_sit_stand_notes, 0, 20));
        
        
		##################
		# Standing Pivot #
		##################
        $this->fpdf->SetFont('Arial','',$__FONT['PDF']['FORM_SMALL']);
        $this->fpdf->Text(( $cero_x + 4),( $cero_y + 131 ),"Standing Pivot");
        
	    $contador=122;
        $i=1;
        foreach($tab_24_list as $key=>$val){
            $this->fpdf->Rect(( $cero_x + $contador ),( $cero_y + 124 ), 8, 8);
            if (@$ptpn->tab_024_standing_pivot == $key) {
                    $this->fpdf->Image( $path_ticket,($cero_x + $contador+1),( $cero_y + 125),6);
            }
            $contador += 38;
            $i++;
       }
        
        $this->fpdf->SetFont('Courier','B',$__FONT['PDF']['FORM_MEDIUM']);
        $this->fpdf->Text(( $cero_x + 450),( $cero_y + 131), substr(@$ptpn->standing_pivot_notes, 0, 20));
		

		##############
		# Shower/Tub #
		##############
        $this->fpdf->SetFont('Arial','',$__FONT['PDF']['FORM_SMALL']);
        $this->fpdf->Text(( $cero_x + 4),( $cero_y + 141 ),"Shower/Tub");
        
	    $contador=122;
        $i=1;
        foreach($tab_24_list as $key=>$val){
            $this->fpdf->Rect(( $cero_x + $contador ),( $cero_y + 134 ), 8, 8);
            if (@$ptpn->tab_024_trans_shower_tub == $key) {
                    $this->fpdf->Image( $path_ticket,($cero_x + $contador+1),( $cero_y + 135),6);
            }
            $contador += 38;
            $i++;
       }
        
        $this->fpdf->SetFont('Courier','B',$__FONT['PDF']['FORM_MEDIUM']);
        $this->fpdf->Text(( $cero_x + 450),( $cero_y + 141), substr(@$ptpn->trans_shower_tub_notes, 0, 20));
        
        
		#################
		# GAIT TRAINING #
		#################
	    $this->fpdf->SetFont('Arial','',$__FONT['PDF']['FORM_SMALL']);
        $this->fpdf->Text(( $cero_x + 0),( $cero_y + 151 ),"GAIT TRAINING");
	    
	    
		##################
		# Rolling walker #
		##################
        $this->fpdf->SetFont('Arial','',$__FONT['PDF']['FORM_SMALL']);
        $this->fpdf->Text(( $cero_x + 4),( $cero_y + 161 ),"Rolling walker");
        
	    $contador=122;
        $i=1;
        foreach($tab_24_list as $key=>$val){
            $this->fpdf->Rect(( $cero_x + $contador ),( $cero_y + 154 ), 8, 8);
            if (@$ptpn->tab_024_rolling_walker == $key) {
                    $this->fpdf->Image( $path_ticket,($cero_x + $contador+1),( $cero_y + 155),6);
            }
            $contador += 38;
            $i++;
       }
        
        $this->fpdf->SetFont('Courier','B',$__FONT['PDF']['FORM_MEDIUM']);
        $this->fpdf->Text(( $cero_x + 450),( $cero_y + 161), substr(@$ptpn->rolling_walker_notes, 0, 20));
        
        
		##########
		# Walker #
		##########
        $this->fpdf->SetFont('Arial','',$__FONT['PDF']['FORM_SMALL']);
        $this->fpdf->Text(( $cero_x + 4),( $cero_y + 171 ),"Walker");
        
	    $contador=122;
        $i=1;
        foreach($tab_24_list as $key=>$val){
            $this->fpdf->Rect(( $cero_x + $contador ),( $cero_y + 164 ), 8, 8);
            if (@$ptpn->tab_024_walker == $key) {
                    $this->fpdf->Image( $path_ticket,($cero_x + $contador+1),( $cero_y + 165),6);
            }
            $contador += 38;
            $i++;
       }
        
        $this->fpdf->SetFont('Courier','B',$__FONT['PDF']['FORM_MEDIUM']);
        $this->fpdf->Text(( $cero_x + 450),( $cero_y + 171), substr(@$ptpn->walker_notes, 0, 20));
        
        
		####################
		# Quad Cane / Cane #
		####################
        $this->fpdf->SetFont('Arial','',$__FONT['PDF']['FORM_SMALL']);
        $this->fpdf->Text(( $cero_x + 4),( $cero_y + 181 ),"Quad Cane / Cane");
        
	    $contador=122;
        $i=1;
        foreach($tab_24_list as $key=>$val){
            $this->fpdf->Rect(( $cero_x + $contador ),( $cero_y + 174 ), 8, 8);
            if (@$ptpn->tab_024_quad_cane == $key) {
                    $this->fpdf->Image( $path_ticket,($cero_x + $contador+1),( $cero_y + 175),6);
            }
            $contador += 38;
            $i++;
       }
        
        $this->fpdf->SetFont('Courier','B',$__FONT['PDF']['FORM_MEDIUM']);
        $this->fpdf->Text(( $cero_x + 450),( $cero_y + 181), substr(@$ptpn->quad_cane_notes, 0, 20));
        
        
		#############
		# No Device #
		#############
        $this->fpdf->SetFont('Arial','',$__FONT['PDF']['FORM_SMALL']);
        $this->fpdf->Text(( $cero_x + 4),( $cero_y + 191 ),"No Device");
        
	    $contador=122;
        $i=1;
        foreach($tab_24_list as $key=>$val){
            $this->fpdf->Rect(( $cero_x + $contador ),( $cero_y + 184 ), 8, 8);
            if (@$ptpn->tab_024_no_device == $key) {
                    $this->fpdf->Image( $path_ticket,($cero_x + $contador+1),( $cero_y + 185),6);
            }
            $contador += 38;
            $i++;
        }
        
        $this->fpdf->SetFont('Courier','B',$__FONT['PDF']['FORM_MEDIUM']);
        $this->fpdf->Text(( $cero_x + 450),( $cero_y + 191), substr(@$ptpn->no_device_notes, 0, 20));
        
        
		#################
		# GAIT TRAINING #
		#################
	    $this->fpdf->SetFont('Arial','',$__FONT['PDF']['FORM_SMALL']);
        $this->fpdf->Text(( $cero_x + 0),( $cero_y + 201 ),"BED MOBILITY");
        
        
		#################
		# Supine to Sit #
		#################
        $this->fpdf->SetFont('Arial','',$__FONT['PDF']['FORM_SMALL']);
        $this->fpdf->Text(( $cero_x + 4),( $cero_y + 211 ),"Supine to Sit");
        
	    $contador=122;
        $i=1;
        foreach($tab_24_list as $key=>$val){
            $this->fpdf->Rect(( $cero_x + $contador ),( $cero_y + 204 ), 8, 8);
            if (@$ptpn->tab_024_supine_to_sit == $key) {
                    $this->fpdf->Image( $path_ticket,($cero_x + $contador+1),( $cero_y + 205),6);
            }
            $contador += 38;
            $i++;
        }
         
        $this->fpdf->SetFont('Courier','B',$__FONT['PDF']['FORM_MEDIUM']);
        $this->fpdf->Text(( $cero_x + 450),( $cero_y + 211), substr(@$ptpn->supine_to_sit_notes, 0, 20));
        
        
		###########
		# Rolling #
		###########
        $this->fpdf->SetFont('Arial','',$__FONT['PDF']['FORM_SMALL']);
        $this->fpdf->Text(( $cero_x + 4),( $cero_y + 221 ),"Rolling");
        
	    $contador=122;
        $i=1;
        foreach($tab_24_list as $key=>$val){
            $this->fpdf->Rect(( $cero_x + $contador ),( $cero_y + 214 ), 8, 8);
            if (@$ptpn->tab_024_rolling == $key) {
                    $this->fpdf->Image( $path_ticket,($cero_x + $contador+1),( $cero_y + 215),6);
            }
            $contador += 38;
            $i++;
        }
        
        $this->fpdf->SetFont('Courier','B',$__FONT['PDF']['FORM_MEDIUM']);
        $this->fpdf->Text(( $cero_x + 450),( $cero_y + 221), substr(@$ptpn->rolling_notes, 0, 20));
        
        
		############
		# Scooting #
		############
        $this->fpdf->SetFont('Arial','',$__FONT['PDF']['FORM_SMALL']);
        $this->fpdf->Text(( $cero_x + 4),( $cero_y + 231 ), "Scooting");
        
	    $contador=122;
        $i=1;
        foreach($tab_24_list as $key=>$val){
            $this->fpdf->Rect(( $cero_x + $contador ),( $cero_y + 224 ), 8, 8);
            if (@$ptpn->tab_024_scooting == $key) {
                    $this->fpdf->Image( $path_ticket,($cero_x + $contador+1),( $cero_y + 225),6);
            }
            $contador += 38;
            $i++;
        }
        
        $this->fpdf->SetFont('Courier','B',$__FONT['PDF']['FORM_MEDIUM']);
        $this->fpdf->Text(( $cero_x + 450),( $cero_y + 231), substr(@$ptpn->scooting_notes, 0, 20));
        
        
		#######################
		# WHEELCHAIR MOBILITY #
		#######################
        $this->fpdf->SetFont('Arial','',$__FONT['PDF']['FORM_SMALL']);
        $this->fpdf->Text(( $cero_x + 0),( $cero_y + 241 ), "WHEELCHAIR MOBILITY");
        
	    $contador=122;
        $i=1;
        foreach($tab_24_list as $key=>$val){
            $this->fpdf->Rect(( $cero_x + $contador ),( $cero_y + 234 ), 8, 8);
            if (@$ptpn->tab_024_wheelchair_movility == $key) {
                    $this->fpdf->Image( $path_ticket,($cero_x + $contador+1),( $cero_y + 235),6);
            }
            $contador += 38;
            $i++;
        }
        
        $this->fpdf->SetFont('Courier','B',$__FONT['PDF']['FORM_MEDIUM']);
        $this->fpdf->Text(( $cero_x + 450),( $cero_y + 241), substr(@$ptpn->wheelchair_movility_notes, 0, 20));
        
        $cero_y = 210;  
        $this->fpdf->SetLineWidth( 0.9 );    
        $this->fpdf->Line(( $cero_x - 3 ) , ($cero_y + 60.5), ( $cero_x + 573 ), ($cero_y + 60.5)) ;
        
        
        $this->fpdf->SetFont('Arial','',$__FONT['PDF']['FORM_SMALL']);
        $this->fpdf->Text(( $cero_x + 0),( $cero_y + 72 ),"REASON HOMEBOUND:");
        
        
        $this->fpdf->SetLineWidth( 0.5 );
        $this->fpdf->SetFont('Arial','',$__FONT['PDF']['FORM_SMALL']);
        
        
        $this->fpdf->Rect(( $cero_x + 0),($cero_y + 75.5 ), 8.4, 8.4);
        $this->fpdf->Text(( $cero_x + 10),( $cero_y + 82 ), " Bedbound/Chair/Wheelchair bound");
        if (@$ptpn->bedbound_chair_wheelchair == 1) {               
                $this->fpdf->Image( $path_ticket,( $cero_x + 1 ),($cero_y + 76 ),6);
        }  
        
        
        $this->fpdf->Rect(( $cero_x + 170),($cero_y + 75.5), 8.4, 8.4);
        $this->fpdf->Text(( $cero_x + 180),( $cero_y + 82)," Requires assistive device");
        if (@$ptpn->requires_assistive_device == 1) {     
                $this->fpdf->Image( $path_ticket,( $cero_x + 171 ),($cero_y + 76 ),6);
        }
        
        
        $this->fpdf->Rect(( $cero_x + 310),($cero_y + 75.5 ), 8.4, 8.4);
        $this->fpdf->Text(( $cero_x + 320),( $cero_y + 82 )," Poor endurance");
        if (@$ptpn->poor_endurance == 1) {     
                $this->fpdf->Image( $path_ticket,( $cero_x + 311 ),($cero_y + 76 ),6);
        }
        
        
        $this->fpdf->Rect(( $cero_x + 0),($cero_y + 85.5), 8.4, 8.4);
        $this->fpdf->Text(( $cero_x + 10),( $cero_y + 92)," Unsteady gait ");
        if (@$ptpn->unsteady_gait == 1) {     
                $this->fpdf->Image( $path_ticket,( $cero_x + 1 ),($cero_y + 86 ),6);
        }
        
        
        $this->fpdf->Rect(( $cero_x + 170),($cero_y + 85.5), 8.4, 8.4);
        $this->fpdf->Text(( $cero_x + 180),( $cero_y + 92)," Fatigue");
        if (@$ptpn->fatigue == 1) {     
                $this->fpdf->Image( $path_ticket,( $cero_x + 171 ),($cero_y + 86 ),6);
        }
        
        
        $this->fpdf->Rect(( $cero_x + 0),($cero_y + 95.5), 8.4, 8.4);
        $this->fpdf->Text(( $cero_x + 10),( $cero_y + 102)," Severe disabling pain");
        if (@$ptpn->severe_disabling_pain == 1) {     
                $this->fpdf->Image( $path_ticket,( $cero_x + 1 ),($cero_y + 96 ),6);
        }
        
        
        $this->fpdf->Rect(( $cero_x + 170),($cero_y + 95.5), 8.4, 8.4);
        $this->fpdf->Text(( $cero_x + 180),( $cero_y + 102)," Needs assistance to leave the house safely");
        if (@$ptpn->needs_assis_leave_house == 1) {     
                $this->fpdf->Image( $path_ticket,( $cero_x + 171 ),($cero_y + 96 ),6);
        }
        

	    $this->fpdf->SetFont('Arial','',$__FONT['PDF']['FORM_SMALL2']);
	    $this->fpdf->Text(( $cero_x + 0),( $cero_y + 118),"SUBJECTIVE:");
	    
		$this->fpdf->SetFont('Courier','B',$__FONT['PDF']['FORM_MEDIUM']);
        $this->fpdf->Text(( $cero_x + 60),( $cero_y + 118), substr(@$ptpn->subj_text, 0, 85));
        $this->fpdf->Line(72, 330, 583, 330);
        
        $this->fpdf->SetFont('Arial','',$__FONT['PDF']['FORM_SMALL']);
        $this->fpdf->Text(( $cero_x + 0),( $cero_y + 135 ),"Pain Level: ");
        
        $contador=71;
        $i=0;
        while ($i<=10) {

            $this->fpdf->Rect(( $cero_x + $contador ),($cero_y  + 127 ), 8.4, 8.4);
            $this->fpdf->Text(( $cero_x + $contador + 11),( $cero_y + 135 ),"$i");
            
            if (@$ptpn->tab_075_pain_level == $i + 1) {
                $this->fpdf->Image( $path_ticket,( $cero_x + $contador + 1),($cero_y + 128),6);
            }
            
            $contador=$contador+20;
			$i++;

        }       

		$this->fpdf->Text(( $cero_x + 0),( $cero_y + 150)," # of hrs/minutes since last pain medication was taken : __________");
		$this->fpdf->Text(( $cero_x + 245),( $cero_y + 150 ), @$ptpn->subj_mins_since_last);
		
	    $this->fpdf->SetLineWidth( 0.9 );
	    $this->fpdf->Line(( $cero_x  -3 ) , ($cero_y + 155), ( $cero_x + 573 ), ($cero_y + 155));
	    
	    
	    ##############
		# MODALITIES #
		##############
        $this->fpdf->SetFont('Arial','',$__FONT['PDF']['FORM_SMALL']);
        $this->fpdf->Rect(( $cero_x ),($cero_y  + 158 ), 8.4, 8.4);
        $this->fpdf->Text(( $cero_x + 12),( $cero_y + 165 ),"N/A");
        if (@$ptpn->modalities_na == 1) {
        	$this->fpdf->Image( $path_ticket,( $cero_x + 1),($cero_y + 159),6);
        }
        
        $this->fpdf->Text(( $cero_x + 0),( $cero_y + 175),"MODALITIES");
        
        $this->fpdf->SetLineWidth( 0.5 );
        $this->fpdf->Line(( $cero_x + 0 ) , ($cero_y + 186.5), ( $cero_x + 275 ), ($cero_y + 186.5));
        $this->fpdf->Line(( $cero_x + 0 ) , ($cero_y + 196.5), ( $cero_x + 275 ), ($cero_y + 196.5));
        $this->fpdf->Line(( $cero_x + 0 ) , ($cero_y + 206.5), ( $cero_x + 275 ), ($cero_y + 206.5));
		
        $this->fpdf->SetXY($cero_x + 0, $cero_y + 176.5);
        $this->fpdf->SetFont('Courier','B',$__FONT['PDF']['FORM_MEDIUM']);
        $this->fpdf->MultiCell(280,  10,substr(@$ptpn->modalities_text,0, 172));  
        
        
        $this->fpdf->Line(( $cero_x + 290 ) , ($cero_y + 155), ( $cero_x + 290 ), ($cero_y + 218)) ;
        
	    ##############
		# MODALITIES #
		##############
        $this->fpdf->SetFont('Arial','',$__FONT['PDF']['FORM_SMALL']);
        $this->fpdf->Rect(( $cero_x + 305),($cero_y  + 158 ), 8.4, 8.4);
        $this->fpdf->Text(( $cero_x + 317),( $cero_y + 165 ),"N/A");
        if (@$ptpn->modalities_na == 1) {
        	$this->fpdf->Image( $path_ticket,( $cero_x + 306),($cero_y + 159),6);
        }
        
        $this->fpdf->Text(( $cero_x + 305),( $cero_y + 175),"BALANCE RETRAINING");
        
        $this->fpdf->SetLineWidth( 0.5 );
        $this->fpdf->Line(( $cero_x + 294 ) , ($cero_y + 186.5), ( $cero_x + 567 ), ($cero_y + 186.5));
        $this->fpdf->Line(( $cero_x + 294 ) , ($cero_y + 196.5), ( $cero_x + 567 ), ($cero_y + 196.5));
        $this->fpdf->Line(( $cero_x + 294 ) , ($cero_y + 206.5), ( $cero_x + 567 ), ($cero_y + 206.5));
		
        $this->fpdf->SetXY($cero_x + 292, $cero_y + 176.5);
        $this->fpdf->SetFont('Courier','B',$__FONT['PDF']['FORM_MEDIUM']);
        $this->fpdf->MultiCell(280,  10,substr(@$ptpn->balance_training_text,0, 172));
        
        $this->fpdf->SetLineWidth( 0.9 );
        $this->fpdf->Line(( $cero_x - 3) , ($cero_y + 218), ( $cero_x + 573 ), ($cero_y + 218));
        
        
        $this->fpdf->SetFont('Arial','',$__FONT['PDF']['FORM_SMALL']);
        $this->fpdf->Text(( $cero_x + 0),( $cero_y + 228 ),"EDUCATION / TRANING");
        
        $this->fpdf->Rect(( $cero_x ),($cero_y + 231 ), 8.4, 8.4);
        $this->fpdf->Text(( $cero_x + 12),( $cero_y + 238 ),"Patient");
        if (@$ptpn->educ_train_patient ==1) {
            $this->fpdf->Image( $path_ticket,( $cero_x + 1),($cero_y + 232),6);
        }
        
        
        $this->fpdf->Rect(( $cero_x + 128 ),($cero_y + 231 ), 8.4, 8.4);
        $this->fpdf->Text(( $cero_x + 140),( $cero_y + 238 ),"Caregiver");
        if (@$ptpn->educ_train_caregiver ==1) {
            $this->fpdf->Image( $path_ticket,( $cero_x + 129),($cero_y + 232),6);
        }
        
        
        $this->fpdf->Rect(( $cero_x + 0 ),($cero_y + 241 ), 8.4, 8.4);
        $this->fpdf->Text(( $cero_x + 12),( $cero_y + 248 ),"Body Mechanics");
        if (@$ptpn->educ_train_body_mechanics ==1) {
            $this->fpdf->Image( $path_ticket,( $cero_x + 1),($cero_y + 242),6);
        }

        $this->fpdf->Rect(( $cero_x + 128 ),($cero_y + 241 ), 8.4, 8.4);
        $this->fpdf->Text(( $cero_x + 140),( $cero_y + 248 ),"Positioning/Turning");
        if (@$ptpn->educ_train_positioning_turning ==1) {
            $this->fpdf->Image( $path_ticket,( $cero_x + 129),($cero_y + 242),6);
        }
        
        
        $this->fpdf->Rect(( $cero_x + 0 ),($cero_y + 251 ), 8.4, 8.4);
        $this->fpdf->Text(( $cero_x + 12),( $cero_y + 258 ),"Hip/Knee/Back Precautions");
        if (@$ptpn->educ_train_hip_precautions ==1) {
            $this->fpdf->Image( $path_ticket,( $cero_x + 1),($cero_y + 252),6);
        }
        
        
        $this->fpdf->Rect(( $cero_x + 128 ),($cero_y + 251 ), 8.4, 8.4);
        $this->fpdf->Text(( $cero_x + 140),( $cero_y + 258 ),"Falls Precautions");
        if (@$ptpn->educ_train_false_precautions ==1) {
            $this->fpdf->Image( $path_ticket,( $cero_x + 129),($cero_y + 252),6);
        }
        

        $this->fpdf->Rect(( $cero_x + 227 ),($cero_y + 251 ), 8.4, 8.4);
        $this->fpdf->Text(( $cero_x + 238),( $cero_y + 258 ),"Pain");
        if (@$ptpn->educ_train_pain ==1) {
            $this->fpdf->Image( $path_ticket,( $cero_x + 228),($cero_y + 252),6);
        }
        
        
        $this->fpdf->Rect(( $cero_x + 0 ),($cero_y + 261 ), 8.4, 8.4);
        $this->fpdf->Text(( $cero_x + 12),( $cero_y + 268 ),"Energy Conservation");
        if (@$ptpn->educ_train_energy_conserv ==1) {
            $this->fpdf->Image( $path_ticket,( $cero_x + 1),($cero_y + 262),6);
        }
        
        
        $this->fpdf->Rect(( $cero_x + 128 ),($cero_y + 261 ), 8.4, 8.4);
        $this->fpdf->Text(( $cero_x + 140),( $cero_y + 268 ),"Safety Measures");
        if (@$ptpn->educ_train_safety_measures ==1) {
            $this->fpdf->Image( $path_ticket,( $cero_x + 129),($cero_y + 262),6);
        }
        
        
        $this->fpdf->Rect(( $cero_x + 227 ),($cero_y + 261 ), 8.4, 8.4);
        $this->fpdf->Text(( $cero_x + 238),( $cero_y + 268 ), "HEP");
        if (@$ptpn->educ_train_hep == 1) {
            $this->fpdf->Image( $path_ticket,( $cero_x + 228),($cero_y + 262),6);
        }
        

        $this->fpdf->Rect(( $cero_x + 0 ),($cero_y + 271 ), 8.4, 8.4);
        $this->fpdf->Text(( $cero_x + 12),( $cero_y + 278 ),"Other");
        if (@$ptpn->educ_train_other ==1) {
            $this->fpdf->Image( $path_ticket,( $cero_x + 1),($cero_y + 272),6);
        }
		
		
		$this->fpdf->Line(( $cero_x + 290 ) , ($cero_y + 218), ( $cero_x + 290 ), ($cero_y + 285));
		
    $this->fpdf->SetFont('Arial','',9);
        $this->fpdf->Text(( $cero_x + 292 - 290),( $cero_y + 295 ),"RESPONSE TO INSTRUCTIONS");
        
        $this->fpdf->Rect(( $cero_x + 292- 290),($cero_y  + 298), 8.4, 8.4);
        $this->fpdf->Text(( $cero_x + 303- 290),( $cero_y + 305),"Needs further instruction");
        if (@$ptpn->resp_instr_needs_further_instr == 1) {
            $this->fpdf->Image( $path_ticket, ( $cero_x + 293- 290),($cero_y + 299), 6);
        }
        
        $this->fpdf->Rect(( $cero_x + 420- 290),($cero_y  + 298), 8.4, 8.4);
        $this->fpdf->Text(( $cero_x + 430- 290),( $cero_y + 305 ),"Able to perform procedure");
        if (@$ptpn->resp_instr_able_perform_proced == 1) {
            $this->fpdf->Image( $path_ticket, ( $cero_x + 421- 290),($cero_y + 299), 6);
        }
        
        $this->fpdf->Rect(( $cero_x + 292- 290),($cero_y  + 308), 8.4, 8.4);
        $this->fpdf->Text(( $cero_x + 303- 290),( $cero_y + 315),"Repeats instructions completely and accurately");
        if (@$ptpn->resp_instr_repeats_instruct_comp_accur == 1) {
            $this->fpdf->Image( $path_ticket, ( $cero_x + 293- 290),($cero_y + 309), 6);
        }

        $this->fpdf->Rect(( $cero_x + 292- 290),($cero_y  + 318), 8.4, 8.4);
        $this->fpdf->Text(( $cero_x + 303- 290),( $cero_y + 325),"Verbalizes understanding but hesitant to put into practice");
        if (@$ptpn->resp_instr_verba_unders_hesit == 1) {
            $this->fpdf->Image( $path_ticket, ( $cero_x + 293- 290),($cero_y + 319), 6);
        }
        $this->fpdf->SetFont('Courier','B',$__FONT['PDF']['FORM_MEDIUM']);
        $this->fpdf->SetXY($cero_x + 300-290, $cero_y + 325);
        $this->fpdf->MultiCell(280,  10, substr(@$ptpn->resp_instr_comments,0, 170));
        $this->fpdf->SetFont('Arial','',9);
    
        $this->fpdf->SetLineWidth( 0.5 );
        $this->fpdf->Line(( $cero_x + 300- 290 ) , ($cero_y + 335),  ( $cero_x + 565- 290 ), ($cero_y + 335));
        $this->fpdf->Line(( $cero_x + 300- 290 ) , ($cero_y + 345),  ( $cero_x + 565- 290 ), ($cero_y + 345));
		$this->fpdf->Line(( $cero_x + 300- 290 ) , ($cero_y + 355),  ( $cero_x + 565- 290 ), ($cero_y + 355));
    
        $this->fpdf->Line(( $cero_x - 3) , ($cero_y + 365), ( $cero_x + 573 ), ($cero_y + 365));
        $this->fpdf->Line(( $cero_x + 290 ) , ($cero_y + 218), ( $cero_x + 290 ), ($cero_y + 365));
        
		$this->fpdf->Text(( $cero_x + 292),( $cero_y + 228 ),"THERAPEUTIC EXERCISES");
		
		
        $this->fpdf->SetLineWidth( 0.3 );       
		//$this->fpdf->Line(( $cero_x + 294 ) , ($cero_y + 243.5), ( $cero_x + 567), ($cero_y + 243.5));
		//$this->fpdf->Line(( $cero_x + 294 ) , ($cero_y + 253.5), ( $cero_x + 567), ($cero_y + 253.5));
		
		
		$this->fpdf->SetFont('Courier','B',$__FONT['PDF']['FORM_MEDIUM']);
		$this->fpdf->SetXY($cero_x + 292, $cero_y + 233.5 );
    //$this->fpdf->MultiCell(280,  10,substr(@$ptpn->ther_exer_comments,0, 580));
    $this->fpdf->MultiCell(280,  10,substr(@$ptpn->ther_exer_comments,0, 210));
    $this->fpdf->Line(( $cero_x + 290 ) , ($cero_y + 285), ( $cero_x + 573 ), ($cero_y + 285));  
    $this->fpdf->SetFont('Arial','',9);  
    $this->fpdf->Text(( $cero_x + 292),( $cero_y + 295 ),"GAIT");
    $this->fpdf->SetLineWidth( 0.3 );       
		$this->fpdf->SetFont('Courier','B',$__FONT['PDF']['FORM_MEDIUM']);
		$this->fpdf->SetXY($cero_x + 292, $cero_y + 305.5 );
    $this->fpdf->MultiCell(280,  10,substr(@$ptpn->gait_comments,0, 210));
    $this->fpdf->SetFont('Arial','',9);
        
        $this->fpdf->SetLineWidth( 0.9 );
        $this->fpdf->Line(( $cero_x - 3) , ($cero_y + 285), ( $cero_x + 573-283 ), ($cero_y + 285));
        
        
        $this->fpdf->Text(( $cero_x + 0),( $cero_y + 295 + 80), "COORDINATION OF CARE");
        
        
        $this->fpdf->SetFont('Arial','',$__FONT['PDF']['FORM_SMALL']);
        
        $this->fpdf->Rect(( $cero_x ),($cero_y  + 298 +80 ), 8.4, 8.4);
        $this->fpdf->Text(( $cero_x + 10),( $cero_y + 305 + 80 ), "MD");
        if (@$ptpn->coord_md == 1) {
            $this->fpdf->Image( $path_ticket, ( $cero_x + 1),($cero_y + 299 + 80), 6);
        }
        
        $this->fpdf->Rect(( $cero_x + 32 ),($cero_y  + 298 + 80 ), 8.4, 8.4);
        $this->fpdf->Text(( $cero_x + 42),( $cero_y + 305 + 80 ), "RN");
        if (@$ptpn->coord_rn == 1) {
            $this->fpdf->Image( $path_ticket, ( $cero_x + 33),($cero_y + 299 + 80), 6);
        }
        
        $this->fpdf->Rect(( $cero_x + 60 ),($cero_y  + 298 + 80 ), 8.4, 8.4);
        $this->fpdf->Text(( $cero_x + 70),( $cero_y + 305 + 80 ), "LVN");
        if (@$ptpn->coord_lvn == 1) {
            $this->fpdf->Image( $path_ticket, ( $cero_x + 61),($cero_y + 299 + 80), 6);
        }
        
        $this->fpdf->Rect(( $cero_x + 93 ),($cero_y  + 298 + 80 ), 8.4, 8.4);
        $this->fpdf->Text(( $cero_x + 103),( $cero_y + 305 + 80 ), "Aide");
        if (@$ptpn->coord_aide == 1) {
            $this->fpdf->Image( $path_ticket, ( $cero_x + 94),($cero_y + 299 + 80), 6);
        }
        
        $this->fpdf->Rect(( $cero_x + 125),($cero_y  + 298 + 80 ), 8.4, 8.4);
        $this->fpdf->Text(( $cero_x + 135),( $cero_y + 305 + 80 ), "PT");
        if (@$ptpn->coord_pt == 1) {
            $this->fpdf->Image( $path_ticket, ( $cero_x + 126),($cero_y + 299 + 80), 6);
        }
        
        $this->fpdf->Rect(( $cero_x + 152),($cero_y  + 298 + 80 ), 8.4, 8.4);
        $this->fpdf->Text(( $cero_x + 162),( $cero_y + 305 + 80 ), "OT");
        if (@$ptpn->coord_ot == 1) {
            $this->fpdf->Image( $path_ticket, ( $cero_x + 153),($cero_y + 299 + 80), 6);
        }
        
        $this->fpdf->Rect(( $cero_x + 181),($cero_y  + 298 + 80 ), 8.4, 8.4);
        $this->fpdf->Text(( $cero_x + 191),( $cero_y + 305 + 80 ), "ST");
        if (@$ptpn->coord_st == 1) {
            $this->fpdf->Image( $path_ticket, ( $cero_x + 182),($cero_y + 299 + 80), 6);
        }

        $this->fpdf->Rect(( $cero_x + 210),($cero_y  + 298 + 80 ), 8.4, 8.4);
        $this->fpdf->Text(( $cero_x + 220),( $cero_y + 305 + 80 ), "MSW");
        if (@$ptpn->coord_msw == 1) {
            $this->fpdf->Image( $path_ticket, ( $cero_x + 211),($cero_y + 299 + 80), 6);
        }
        
        $this->fpdf->Rect(( $cero_x + 250),($cero_y  + 298 + 80 ), 8.4, 8.4);
        $this->fpdf->Text(( $cero_x + 260),( $cero_y + 305 + 80 ), "Pt/CG");
        if (@$ptpn->coord_ptcg == 1) {
            $this->fpdf->Image( $path_ticket, ( $cero_x + 251),($cero_y + 299 + 80), 6);
        }
        
        $this->fpdf->Rect(( $cero_x ),($cero_y  + 308 + 80 ), 8.4, 8.4);
        $this->fpdf->Text(( $cero_x + 10),( $cero_y + 315 + 80 ), "Team Leader");
        if (@$ptpn->coord_tl == 1) {
            $this->fpdf->Image( $path_ticket, ( $cero_x + 1),($cero_y + 309 + 80), 6);
        }
        
        $this->fpdf->Rect(( $cero_x ),($cero_y  + 318 + 80 ), 8.4, 8.4);
        $this->fpdf->Text(( $cero_x + 10),( $cero_y + 325 + 80 ), "Other");
        if (@$ptpn->coord_other == 1) {
            $this->fpdf->Image( $path_ticket, ( $cero_x + 1),($cero_y + 319 + 80), 6);
        }
        
        $this->fpdf->SetLineWidth( 0.5 );
        $this->fpdf->Line(( $cero_x + 37 ) , ($cero_y + 325 + 80), ( $cero_x + 275 ), ($cero_y + 325 + 80));
        $this->fpdf->Line(( $cero_x + 37 ) , ($cero_y + 335 + 80), ( $cero_x + 275 ), ($cero_y + 335 + 80));
        
		$this->fpdf->SetFont('Courier','B',$__FONT['PDF']['FORM_MEDIUM']);
		$this->fpdf->SetXY($cero_x + 38, $cero_y + 316 + 80);
        $this->fpdf->MultiCell(240,  10, substr(@$ptpn->coord_oth_text,0, 90));
        
        
        $this->fpdf->SetLineWidth( 0.9 );
        $this->fpdf->Line(( $cero_x + 290 ) , ($cero_y + 284 + 80), ( $cero_x + 290 ), ($cero_y + 368 + 80));
        
        
        
        
        $this->fpdf->SetFont('Courier','B',$__FONT['PDF']['FORM_MEDIUM']);
		    
        $this->fpdf->SetLineWidth( 0.9 );
        $this->fpdf->Line(( $cero_x - 3) , ($cero_y + 368 + 80), ( $cero_x + 573 ), ($cero_y + 368 + 80));
        
        $this->fpdf->SetFont('Arial','',9);
        $this->fpdf->Text(( $cero_x + 292),( $cero_y + 265 + 115),"ROM");
        
        $this->fpdf->Text(( $cero_x + 320),( $cero_y + 265 + 115),"Exer for UEs");
        $this->fpdf->Rect(( $cero_x + 375),($cero_y  + 258 + 115 ), 8.4, 8.4);
        if (@$ptpn->ther_exer_rom_ues == 1) {
            $this->fpdf->Image( $path_ticket,( $cero_x + 376),($cero_y + 259 + 115), 6);
        }
        
        $this->fpdf->Text(( $cero_x + 395), ($cero_y + 265 + 115), "LEs ");
		$this->fpdf->Rect(( $cero_x + 416),($cero_y  + 258 + 115), 8.4, 8.4);
        if (@$ptpn->ther_exer_rom_les == 1) {
            $this->fpdf->Image( $path_ticket,( $cero_x + 417),($cero_y + 259 + 115), 6);
        }
		
        $this->fpdf->SetFont('Courier','B',$__FONT['PDF']['FORM_MEDIUM']);
        $this->fpdf->Text(( $cero_x + 431),( $cero_y + 265 + 115), @$ptpn->ther_exer_rom_nbr_exer);
        $this->fpdf->SetFont('Arial','',9);
		$this->fpdf->Text(( $cero_x + 431),( $cero_y + 265 + 115), "____");
        $this->fpdf->Text(( $cero_x + 457),( $cero_y + 265 + 115),"Ex");
        
		$this->fpdf->SetFont('Courier','B',$__FONT['PDF']['FORM_MEDIUM']);
        $this->fpdf->Text(( $cero_x + 472),( $cero_y + 265 + 115), @$ptpn->ther_exer_rom_reps);
        $this->fpdf->SetFont('Arial','',9);
		$this->fpdf->Text(( $cero_x + 472),( $cero_y + 265 + 115), "____");
        $this->fpdf->Text(( $cero_x + 498),( $cero_y + 265 + 115),"Reps");
        
		$this->fpdf->SetFont('Courier','B',$__FONT['PDF']['FORM_MEDIUM']);
        $this->fpdf->Text(( $cero_x + 521),( $cero_y + 265 + 115), @$ptpn->ther_exer_rom_sets);
        $this->fpdf->SetFont('Arial','',9);
		$this->fpdf->Text(( $cero_x + 521),( $cero_y + 265 + 115), "____");
        $this->fpdf->Text(( $cero_x + 544),( $cero_y + 265 + 115),"Set(s)");
        
        
        
        $this->fpdf->Text(( $cero_x + 292),( $cero_y + 275 + 115),"Stren.");
        
        $this->fpdf->Text(( $cero_x + 320),( $cero_y + 275 + 115),"Exer for UEs");
        $this->fpdf->Rect(( $cero_x + 375),($cero_y  + 268 + 115 ), 8.4, 8.4);
        if (@$ptpn->ther_exer_stren_ues == 1) {
            $this->fpdf->Image( $path_ticket,( $cero_x + 376),($cero_y + 269 + 115), 6);
        }
        
        $this->fpdf->Text(( $cero_x + 395), ($cero_y + 275 + 115), "LEs ");
		$this->fpdf->Rect(( $cero_x + 416),($cero_y  + 268 + 115), 8.4, 8.4);
        if (@$ptpn->ther_exer_stren_les == 1) {
            $this->fpdf->Image( $path_ticket,( $cero_x + 417),($cero_y + 269 + 115), 6);
        }
        
		$this->fpdf->SetFont('Courier','B',$__FONT['PDF']['FORM_MEDIUM']);
        $this->fpdf->Text(( $cero_x + 431),( $cero_y + 275 + 115), @$ptpn->ther_exer_stren_nbr_exer);
        $this->fpdf->SetFont('Arial','',9);
		$this->fpdf->Text(( $cero_x + 431),( $cero_y + 275 + 115), "____");
        $this->fpdf->Text(( $cero_x + 457),( $cero_y + 275 + 115),"Ex");
        
		$this->fpdf->SetFont('Courier','B',$__FONT['PDF']['FORM_MEDIUM']);
        $this->fpdf->Text(( $cero_x + 472),( $cero_y + 275 + 115), @$ptpn->ther_exer_stren_reps);
        $this->fpdf->SetFont('Arial','',9);
		$this->fpdf->Text(( $cero_x + 472),( $cero_y + 275 + 115), "____");
        $this->fpdf->Text(( $cero_x + 498),( $cero_y + 275 + 115),"Reps");
        
        $this->fpdf->SetFont('Courier','B',$__FONT['PDF']['FORM_MEDIUM']);
		$this->fpdf->Text(( $cero_x + 521),( $cero_y + 275 + 115), @$ptpn->ther_exer_stren_sets);
        $this->fpdf->SetFont('Arial','',9);
		$this->fpdf->Text(( $cero_x + 521),( $cero_y + 275 + 115), "____");
        $this->fpdf->Text(( $cero_x + 544),( $cero_y + 275 + 115),"Set(s)");
        
        
        $cero_y  += 85;
        $this->fpdf->SetFont('Arial','',$__FONT['PDF']['FORM_SMALL']);
        $this->fpdf->Text(( $cero_x + 2),( $cero_y + 380 ),"ASSESSMENT / PROGRESS RELATED TO PATIENT'S GOALS");
        
        
        $this->fpdf->SetLineWidth( 0.5 );
        $this->fpdf->Line(( $cero_x + 5 ) , ($cero_y + 393), ( $cero_x + 560 ), ($cero_y + 393));
		$this->fpdf->Line(( $cero_x + 5 ) , ($cero_y + 403), ( $cero_x + 560 ), ($cero_y + 403));
        $this->fpdf->Line(( $cero_x + 5 ) , ($cero_y + 413), ( $cero_x + 560 ), ($cero_y + 413));
		
        $this->fpdf->SetFont('Courier','B',$__FONT['PDF']['FORM_MEDIUM']);
        $this->fpdf->SetXY($cero_x + 2, $cero_y + 382 );
        $this->fpdf->MultiCell(560,  10,substr(@$ptpn->day30_assess_text,0, 362));
        
        
        $this->fpdf->SetLineWidth( 0.9 );
        $this->fpdf->Line(( $cero_x - 3) , ($cero_y + 425), ( $cero_x + 573 ), ($cero_y + 425));  
               
        
        $this->fpdf->SetFont('Arial','',$__FONT['PDF']['FORM_SMALL']);
        $this->fpdf->Text(( $cero_x ),( $cero_y + 435 ),"D/C PLANNING/PLAN");
              
        $this->fpdf->Rect(( $cero_x ),($cero_y  + 438 ), 8.4, 8.4);
        $this->fpdf->Text(( $cero_x + 12),( $cero_y + 445 ), "Continues to progress towards goals");
        if (@$ptpn->dc_plan_conti_progress == 1) {
            $this->fpdf->Image( $path_ticket, ( $cero_x + 1),($cero_y + 439), 6);
        }
        
        $this->fpdf->Rect(( $cero_x + 164),($cero_y  + 438 ), 8.4, 8.4);
        $this->fpdf->Text(( $cero_x + 176),( $cero_y + 445 ), "5-day notification of discharge given");
        if (@$ptpn->dc_plan_5_day_given == 1) {
            $this->fpdf->Image( $path_ticket, ( $cero_x + 165),($cero_y + 439), 6);
        }
        
        $this->fpdf->Rect(( $cero_x ),($cero_y  + 448 ), 8.4, 8.4);
        $this->fpdf->Text(( $cero_x + 12),( $cero_y + 455 ), "Other");
        if (@$ptpn->dc_plan_other == 1) {
            $this->fpdf->Image( $path_ticket, ( $cero_x + 1),($cero_y + 449), 6);
        }
        
        $this->fpdf->SetLineWidth( 0.5 );
        $this->fpdf->Line(( $cero_x + 40 ) , ($cero_y + 456), ( $cero_x + 567 ), ($cero_y + 456));
        
        $this->fpdf->SetFont('Courier','B',$__FONT['PDF']['FORM_MEDIUM']);
        $this->fpdf->SetXY($cero_x + 40, $cero_y + 447 );
        $this->fpdf->MultiCell(533,  10,substr(@$ptpn->dc_plan_comments,0, 166));
        
/*        
        $this->fpdf->SetLineWidth( 0.9 );
        $this->fpdf->Line(( $cero_x - 3) , ($cero_y + 470), ( $cero_x + 573 ), ($cero_y + 470));
        
        
        $this->fpdf->SetFont('Arial','',$__FONT['PDF']['FORM_SMALL']);
        $this->fpdf->Text(( $cero_x ),( $cero_y + 480 ),"THERAPY SUPERVISORY COMMUNICATION REPORT"); 
        
        $this->fpdf->SetLineWidth( 0.5 );
        $this->fpdf->Rect(( $cero_x + 290), ($cero_y  + 473 ), 8.4, 8.4);
        $this->fpdf->Text(( $cero_x + 302),( $cero_y + 480 ), "N/A");
        if (@$ptpn->ther_na == 1) {
            $this->fpdf->Image( $path_ticket, ( $cero_x + 291),($cero_y + 474), 6);
        }
        
        $this->fpdf->Text(( $cero_x ),( $cero_y + 490 ),"Name of Therapist being Evaluated:");
        
        $this->fpdf->SetFont('Courier','B',$__FONT['PDF']['FORM_MEDIUM']);
        $this->fpdf->Text(( $cero_x + 150 ),( $cero_y + 490 ), @$ther_name->complete_name);
        $this->fpdf->Line(( $cero_x + 149),($cero_y + 491), ( $cero_x + 260 ), ($cero_y + 491));
        
        $this->fpdf->SetFont('Arial','',$__FONT['PDF']['FORM_SMALL']);
        $this->fpdf->Text(( $cero_x ),( $cero_y + 500 ),"Asses the Following Areas of Care:");
        

        $this->fpdf->Text(( $cero_x + 250),( $cero_y + 500 ),"Followed Plan of Care?");
        
        $this->fpdf->Rect(( $cero_x + 447),($cero_y  + 493 ), 8.4, 8.4);
        if (@$ptpn->ther_follow_plan == 1) {
            $this->fpdf->Image( $path_ticket, ( $cero_x + 448),($cero_y + 494), 6);
        }
        $this->fpdf->Text(( $cero_x + 457),( $cero_y + 500 ),"Yes");

        
        $this->fpdf->Rect(( $cero_x + 490),($cero_y  + 493 ), 8.4, 8.4);
        if ((@$ptpn->ther_follow_plan == 0) and (@$ptpn->ther_na == 0)) {
            $this->fpdf->Image( $path_ticket, ( $cero_x + 491),($cero_y + 494), 6);
        }
        $this->fpdf->Text(( $cero_x + 500),( $cero_y + 500 ),"No");
        
        
        
        $this->fpdf->Text(( $cero_x + 250),( $cero_y + 510 ),"Demonstrated good rapport with patient/family?");
        
        $this->fpdf->Rect(( $cero_x + 447),($cero_y  + 503 ), 8.4, 8.4);
        if (@$ptpn->ther_raport_fam == 1) {
            $this->fpdf->Image( $path_ticket, ( $cero_x + 448),($cero_y + 504), 6);
        }
        $this->fpdf->Text(( $cero_x + 457),( $cero_y + 510 ),"Yes");

        
        $this->fpdf->Rect(( $cero_x + 490),($cero_y  + 503 ), 8.4, 8.4);
        if ((@$ptpn->ther_raport_fam == 0) and (@$ptpn->ther_na == 0)) {
            $this->fpdf->Image( $path_ticket, ( $cero_x + 491),($cero_y + 504), 6);
        }
        $this->fpdf->Text(( $cero_x + 500),( $cero_y + 510 ),"No");
        
        
        
        $this->fpdf->Text(( $cero_x + 250),( $cero_y + 520 ),"Implemented Plan of Care?");
        
        $this->fpdf->Rect(( $cero_x + 447),($cero_y  + 513 ), 8.4, 8.4);
        if (@$ptpn->ther_impl_plan == 1) {
            $this->fpdf->Image( $path_ticket, ( $cero_x + 448),($cero_y + 514), 6);
        }
        $this->fpdf->Text(( $cero_x + 457),( $cero_y + 520 ),"Yes"); 

        
        $this->fpdf->Rect(( $cero_x + 490),($cero_y  + 513 ), 8.4, 8.4);
        if ((@$ptpn->ther_impl_plan == 0) and (@$ptpn->ther_na == 0)) {
            $this->fpdf->Image( $path_ticket, ( $cero_x + 491),($cero_y + 514), 6);
        }
        $this->fpdf->Text(( $cero_x + 500),( $cero_y + 520 ),"No");
        
        
        
        $this->fpdf->Text(( $cero_x ),( $cero_y + 523 ),"Evaluation of Plan of Care:");
        
        $this->fpdf->SetLineWidth( 0.5 );
        $this->fpdf->Line(( $cero_x + 5 ) , ($cero_y + 536), ( $cero_x + 558 ), ($cero_y + 536));
		$this->fpdf->Line(( $cero_x + 5 ) , ($cero_y + 546), ( $cero_x + 558 ), ($cero_y + 546));
        
        $this->fpdf->SetFont('Courier','B',$__FONT['PDF']['FORM_MEDIUM']);
        $this->fpdf->SetXY($cero_x + 2, $cero_y + 525 );
        $this->fpdf->MultiCell(562, 10, substr(@$ptpn->ther_eval_plan,0, 270));
        */
        $cero_y  -= 80;
        $this->fpdf->SetFont('Arial','',$__FONT['PDF']['FORM_SMALL']);
        $this->fpdf->Text(( $cero_x ),( $cero_y + 570 ), "Therapist Signature: ____________________________________________________     Date_____________________________");
        
    	if ($visit_log->sent_to_approve_date )
		{
	        $this->fpdf->Text(( $cero_x + 100 ),( $cero_y + 570 ), "Electronically signed by:");
            $this->fpdf->SetFont('Courier','B',$__FONT['PDF']['FORM_MEDIUM']);
			$this->fpdf->Text(( $cero_x + 205 ),( $cero_y + 570 ), $visit_log -> first_name." ".$visit_log -> last_name);
		    $this->fpdf->Text(( $cero_x + 383 ),( $cero_y + 570 ), standard_date(mysql_to_unix($visit_log->visited_date)));
        }
	
	    if (@$ptpn->ther_supervisor > 0) {
		$this->fpdf->SetFont('Arial','',$__FONT['PDF']['FORM_SMALL']);
		$this->fpdf->Text(( $cero_x ),( $cero_y + 584 ), "Supervising Therapist:__________________________________________________");
		$this->fpdf->SetFont('Courier','B',$__FONT['PDF']['FORM_MEDIUM']);
		$this->fpdf->Text(( $cero_x + 100 ),( $cero_y + 582 ), @$ther_super->complete_name);
		}        
		
		$this->fpdf->SetFont('Arial','',$__FONT['PDF']['FORM_SMALL']);
    $this->fpdf->Text(( $cero_x +500 ),( $cero_y + 612 ),"Page 1 of 1");

    if(@$ptpn->addendum != ""){
      ##########
  		# Page 2 #
  		##########
  		
  		$cero_y = 2;
  		$this->fpdf->AddPage();
		
		
      $this->fpdf->SetDrawColor(130,100);
      $this->fpdf->SetFont('Arial','B',$__FONT['PDF']['FORM_MEDIUM']);
      $this->fpdf->Text(( $cero_x + 0),( $cero_y + 12 ), $agency->agency_name); // agency name

      $this->fpdf->SetFont('Arial','',$__FONT['PDF']['FORM_SMALL3']);
      $this->fpdf->Text(( $cero_x + 0),( $cero_y + 22 ),"Licensed and Certified Home Health Agency");
      
      $this->fpdf->Rect(8,28, 577, 780);
      
      $this->fpdf->SetFont('Arial', 'B', $__FONT['PDF']['FORM_SMALL']);
      $this->fpdf->Text(( $cero_x + 250),( $cero_y + 36 ),"Addendum"); 
      $this->fpdf->Line(( $cero_x - 3 ) , ($cero_y + 40.5 ), ( $cero_x + 574 ), ($cero_y + 40.5 ));

      $this->fpdf->SetFont('Courier','B',$__FONT['PDF']['FORM_MEDIUM']);
      $this->fpdf->SetXY(11, 50);
      $this->fpdf->MultiCell(566, 10, $ptpn->addendum);
      
      $cero_y = 20;
      $this->fpdf->SetTextColor(0,0,0);    

      $this->fpdf->SetFont('Arial','',$__FONT['PDF']['FORM_SMALL']);
  		$this->fpdf->Text(511, 820, "      Page: 2 of 2");      
    }
    
		//$this->fpdf->Output('ptpn.pdf','D');
    
    $filename = FCPATH;
    $filename = str_replace("\\","/", $filename);
    $filename = $filename.'tmp/'.time().'_'.$visit_log_id.'_pq_ptpn.pdf';
    
    
    $this->fpdf->Output($filename,'F');
    return $filename;		
		
	}	

	function otev_pdf ( $visit_log_id ) {
    $this->load->model('otevmdl'); 
    $visit_log = $this->visitlogmdl->getById($visit_log_id);
    
    
    // printing pdf
		$otev 	 	    = $this->otevmdl->get($visit_log_id);    
		$patient    	= $this->patientmdl->getById($visit_log->patient_id);    
		$assigned_to    = $this->usagymdl->getByUsAgyId($visit_log->visit_user_id);
		$approver    	= $this->usagymdl->getByUsAgyId($visit_log->user_approver);
		$agency	    	= $this->agencymdl->getByAgencyId($patient->agency_id);
		$episde_icd		= $this->episodeicdmdl->get($visit_log->cms485_id);
		$phys_user_id  	= $this->usagymdl->getByUsAgyId($visit_log->phys_user_id);
    
    //print_r($patient);exit;
    
    $tab_47			= $this->parametermdl->getByType(47);
		$tab_47[NULL]   = NULL;
    $tab_20			= $this->parametermdl->getByType(20);
		$tab_20[NULL]   = NULL;
    $tab_52			= $this->parametermdl->getByType(52);
		$tab_52[NULL]   = NULL;
    $tab_32			= $this->parametermdl->getByType(32);
		$tab_32[NULL]   = NULL;
    
    $path_ticket = realpath("style/images/icon_enable_negro.gif");
    /*
    $__FONT['PDF']['SIZE'] = 9;
    $__FONT['PDF']['FORM_MEDIUM'] = 10;
    $__FONT['PDF']['FORM_SMALL'] = 9;
    $__FONT['PDF']['FORM_SMALL2'] = 9;
    $__FONT['PDF']['FORM_SMALL3'] = 6.5;
    $__FONT['PDF']['FORM_SMALL4'] = 9.5;
    $__FONT['PDF']['FORM_arial8'] = 9.5;
    */

		$this->load->library('fpdf');
    if(!defined('FPDF_FONTPATH'))
		define('FPDF_FONTPATH',$this->config->item('fonts_path'));

    $this->fpdf = new fpdf;

    $total_page = 2;

    if(@$otev->addendum != null){
      $total_page = 3;
    }
    
    $this->fpdf->Open();
		
		$pdf = $this->fpdf;
    
    $pdf->AddPage();
    
    $con = 2.8346456692913384;

    //Check Boxes
    //Basic
    $pdf->Rect(130*$con,18.6*$con,3*$con,3*$con);//Medicare NA
    $pdf->Rect(168*$con,23.4*$con,3*$con,3*$con);//Certification

    //Rehab Potential
    $pdf->Rect(12*$con,44.5*$con,3*$con,3*$con);//Excellent
    $pdf->Rect(41*$con,44.5*$con,3*$con,3*$con);//Good
    $pdf->Rect(61*$con,44.5*$con,3*$con,3*$con);//Fair
    $pdf->Rect(81*$con,44.5*$con,3*$con,3*$con);//Poor

    //Mental status
    $pdf->Rect(107*$con,44.5*$con,3*$con,3*$con);//Alert
    $pdf->Rect(127*$con,44.5*$con,3*$con,3*$con);//Oriented
    $pdf->Rect(152*$con,44.5*$con,3*$con,3*$con);//Disoriented
    $pdf->Rect(181*$con,44.5*$con,3*$con,3*$con);//Forgetful
    $pdf->Rect(107*$con,48.5*$con,3*$con,3*$con);//Agitated
    $pdf->Rect(127*$con,48.5*$con,3*$con,3*$con);//Depressed

    //Pain assessment
    $pdf->Rect(12*$con,59.5*$con,3*$con,3*$con);//No pain
    $pdf->Rect(32*$con,59.5*$con,3*$con,3*$con);//1
    $pdf->Rect(42*$con,59.5*$con,3*$con,3*$con);//2
    $pdf->Rect(52*$con,59.5*$con,3*$con,3*$con);//3
    $pdf->Rect(62*$con,59.5*$con,3*$con,3*$con);//4
    $pdf->Rect(12*$con,63.5*$con,3*$con,3*$con);//5
    $pdf->Rect(22*$con,63.5*$con,3*$con,3*$con);//6
    $pdf->Rect(32*$con,63.5*$con,3*$con,3*$con);//7
    $pdf->Rect(42*$con,63.5*$con,3*$con,3*$con);//8
    $pdf->Rect(52*$con,63.5*$con,3*$con,3*$con);//9
    $pdf->Rect(62*$con,63.5*$con,3*$con,3*$con);//10

    //System Assessment
    $pdf->Rect(94*$con,59.5*$con,3*$con,3*$con);//R
    $pdf->Rect(114*$con,59.5*$con,3*$con,3*$con);//L
    $pdf->Rect(75*$con,63.5*$con,3*$con,3*$con);//Sitting
    $pdf->Rect(94*$con,63.5*$con,3*$con,3*$con);//Lying
    $pdf->Rect(114*$con,63.5*$con,3*$con,3*$con);//Standing

    //Functional impairment
    $pdf->Rect(139*$con,59.5*$con,3*$con,3*$con);//Dyspnea on exertion
    $pdf->Rect(139*$con,63.5*$con,3*$con,3*$con);//Difficulty walking
    $pdf->Rect(139*$con,67.5*$con,3*$con,3*$con);//Difficulty transfer
    $pdf->Rect(139*$con,71.5*$con,3*$con,3*$con);//Difficulty dressing/ undressing
    $pdf->Rect(139*$con,75.5*$con,3*$con,3*$con);//Other

    //Home Evaluation
    $pdf->Rect(122*$con,171.5*$con,3*$con,3*$con);//Alone 
    $pdf->Rect(147*$con,171.5*$con,3*$con,3*$con);//Lives w/Spouse:                                 
    $pdf->Rect(122*$con,176.5*$con,3*$con,3*$con);//Other:
    $pdf->Rect(122*$con,185.5*$con,3*$con,3*$con);//Home
    $pdf->Rect(137*$con,185.5*$con,3*$con,3*$con);//Apt  
    $pdf->Rect(150*$con,185.5*$con,3*$con,3*$con);//Mobile Home              
    $pdf->Rect(175*$con,185.5*$con,3*$con,3*$con);//Senior Complex
    $pdf->Rect(122*$con,189.5*$con,3*$con,3*$con);//Single Level                      
    $pdf->Rect(147*$con,189.5*$con,3*$con,3*$con);//Multi Level 
    $pdf->Rect(122*$con,194.5*$con,3*$con,3*$con);//Stairs
    $pdf->Rect(135*$con,194.5*$con,3*$con,3*$con);//Elevator
    $pdf->Rect(152*$con,194.5*$con,3*$con,3*$con);//Spacious 
    $pdf->Rect(169*$con,194.5*$con,3*$con,3*$con);//Clean 
    $pdf->Rect(184*$con,194.5*$con,3*$con,3*$con);//Crowded
    $pdf->Rect(122*$con,199.5*$con,3*$con,3*$con);//Cluttered
    $pdf->Rect(142*$con,199.5*$con,3*$con,3*$con);//Dirty

    $pdf->Rect(122*$con,221.5*$con,3*$con,3*$con);//Clear Pathways
    $pdf->Rect(150*$con,221.5*$con,3*$con,3*$con);//Adequate Lighting                   
    $pdf->Rect(180*$con,221.5*$con,3*$con,3*$con);//Siderails                     
    $pdf->Rect(122*$con,226*$con,3*$con,3*$con);//Emergency Management  
    $pdf->Rect(162*$con,226*$con,3*$con,3*$con);//Isolation Precautions                
    $pdf->Rect(122*$con,230.5*$con,3*$con,3*$con);//24 Hr Supervision
    $pdf->Rect(122*$con,235*$con,3*$con,3*$con);//Ortho Precaution
    $pdf->Rect(157*$con,239*$con,3*$con,3*$con);//Ortho Precaution
    $pdf->Rect(172*$con,239*$con,3*$con,3*$con);//Ortho Precaution
    $pdf->Rect(122*$con,244.5*$con,3*$con,3*$con);//Other:


    //////////////////////////////////////////////////////
    $cero_x = 11;
    $cero_y = 2;
    $pdf->SetFont('Arial','B',8);
    $pdf->Text(( $cero_x + 18),( $cero_y + 12+10 ), $agency->agency_name); // agency name
    
    $pdf->SetFont('Arial','',7);
    $pdf->Text(( $cero_x + 18),( $cero_y + 22+10 ),"Licensed and Certified Home Health Agency");
        
    $pdf->SetFont('Arial','B',8);
    $pdf->Ln(10);
    //Basic Info
    $pdf->Cell(130*$con,4.5*$con,'OCCUPATIONAL THERAPY ASSESSMENT','TBL',0,'R');
    $pdf->Cell(10*$con,4.5*$con,'','TB',0,'C');
    $pdf->Cell(50*$con,4.5*$con,'VISIT DATE: '.standard_date(mysql_to_unix($visit_log->visit_date_time)),'TBR',1,'L');
    $pdf->SetFont('Arial','',10);
    
    $pdf->Cell(25*$con,4.5*$con,'Patient Name: ','TBL',0,'L');    
    $y = $pdf->GetY(); $x = $pdf->GetX(); 
    $pdf->SetFont('Arial','B', 8);
    $pdf->Text($x,$y+9, $patient->first_name . " " . $patient->last_name);    
    $pdf->SetFont('Arial','',10);  
    
    //$pdf->Cell(55*$con,4.5*$con,'','TB',0,'C');
    $pdf->Cell(46*$con,4.5*$con,'','TB',0,'C');
    //$pdf->Cell(20*$con,4.5*$con,'Medicare #: ','TB',0,'L');
    $pdf->Cell(29*$con,4.5*$con,'Medicare #: ','TB',0,'L');
    $y = $pdf->GetY(); $x = $pdf->GetX(); 
    $pdf->SetFont('Arial','B', 8);
    $pdf->Text($x,$y+9, $patient->medicare_id);    
    $pdf->SetFont('Arial','',10);  
    
    $pdf->Cell(20*$con,4.5*$con,'','TB',0,'C');
    if(is_null($patient->medicare_id)){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x+2,$y+3,6,6);
    }        
    $pdf->Cell(10*$con,4.5*$con,'NA','TB',0,'R');
    
    
    $pdf->Cell(30*$con,4.5*$con,'Med Rec #:','TB',0,'C');
    $y = $pdf->GetY(); $x = $pdf->GetX(); 
    $pdf->SetFont('Arial','B', 8);
    $pdf->Text($x,$y+9, $patient->medical_rec_nbr);    
    $pdf->SetFont('Arial','',10);  
    
    $pdf->Cell(30*$con,4.5*$con,'','TBR',1,'C');

    $pdf->Cell(25*$con,4.5*$con,'Primary DX:','TBL',0,'L');
    $y = $pdf->GetY(); $x = $pdf->GetX(); 
    $pdf->SetXY($x-2, $y);
    $pdf->SetFont('Arial','', 8);
    $pdf->MultiCell(150, 12, substr(@$otev->primary_diag, 0, 30));
    $pdf->SetXY($x, $y);  
    $pdf->SetFont('Arial','',10);  
    
    //$pdf->Cell(55*$con,4.5*$con,'','TB',0,'C');
    $pdf->Cell(46*$con,4.5*$con,'','TB',0,'C');
    //$pdf->Cell(20*$con,4.5*$con,'Date:','TB',0,'L');
    $pdf->Cell(29*$con,4.5*$con,'Date:','TB',0,'L');
    $y = $pdf->GetY(); $x = $pdf->GetX(); 
    $pdf->SetFont('Arial','B', 8);
    $pdf->Text($x,$y+9, (!is_null(@$otev->primary_diag_date) ? standard_date(mysql_to_unix(@$otev->primary_diag_date)) : ""));    
    $pdf->SetFont('Arial','',10);  
    
    $pdf->Cell(20*$con,4.5*$con,'','TB',0,'C');
    $pdf->Cell(10*$con,4.5*$con,'SOC:','TB',0,'L');
    $y = $pdf->GetY(); $x = $pdf->GetX(); 
    $pdf->SetFont('Arial','B', 8);
    $pdf->Text($x+5,$y+9, standard_date(mysql_to_unix($visit_log->estimated_soc_date)));    
    $pdf->SetFont('Arial','',10);  
    
    $pdf->Cell(25*$con,4.5*$con,'','TB',0,'C');  
    $y = $pdf->GetY(); $x = $pdf->GetX(); 
    $pdf->Image( $path_ticket, $x+10,$y+4,6,6);
              
    $pdf->Cell(35*$con,4.5*$con,'Certification','TBR',1,'C');

    $pdf->Cell(25*$con,4.5*$con,'Secondary DX:','TBL',0,'L');
    $y = $pdf->GetY(); $x = $pdf->GetX(); 
    $pdf->SetXY($x-2, $y);
    $pdf->SetFont('Arial','',8);  
    $pdf->MultiCell(150, 12, substr(@$otev->secondary_diag, 0, 30));
    $pdf->SetXY($x, $y);  
    $pdf->SetFont('Arial','',10);  
    
    //$pdf->Cell(55*$con,4.5*$con,'','TB',0,'C');
    $pdf->Cell(46*$con,4.5*$con,'','TB',0,'C');
    //$pdf->Cell(20*$con,4.5*$con,'Date:','TB',0,'L');
    $pdf->Cell(29*$con,4.5*$con,'Date:','TB',0,'L');
    $y = $pdf->GetY(); $x = $pdf->GetX(); 
    $pdf->SetFont('Arial','B', 8);
    $pdf->Text($x,$y+9, (!is_null(@$otev->secondary_diag_date) ? standard_date(mysql_to_unix(@$otev->secondary_diag_date)) : "") );    
    $pdf->SetFont('Arial','',10);  
    
    $pdf->Cell(20*$con,4.5*$con,'','TB',0,'C');
    $pdf->Cell(10*$con,4.5*$con,'From:','TB',0,'L');
    $y = $pdf->GetY(); $x = $pdf->GetX(); 
    $pdf->SetFont('Arial','B', 8);
    $pdf->Text($x+5,$y+9, standard_date(mysql_to_unix($visit_log->episode_start_date)) );    
    $pdf->SetFont('Arial','',10);  
    
    $pdf->Cell(25*$con,4.5*$con,'','TB',0,'C');
    $pdf->Cell(15*$con,4.5*$con,'To:','TB',0,'L');
    $y = $pdf->GetY(); $x = $pdf->GetX(); 
    $pdf->SetFont('Arial','B', 8);
    $pdf->Text($x,$y+9, standard_date(mysql_to_unix($visit_log->episode_end_date)) );    
    $pdf->SetFont('Arial','',10);  
    
    $pdf->Cell(20*$con,4.5*$con,'','TBR',1,'C');

    $pdf->Cell(25*$con,4.5*$con,'Physician:','TBL',0,'L');
    $y = $pdf->GetY(); $x = $pdf->GetX(); 
    $pdf->SetFont('Arial','B', 8);
    $pdf->Text($x,$y+9, @$phys_user_id->complete_name );    
    $pdf->SetFont('Arial','',10);  
    
    //$pdf->Cell(55*$con,4.5*$con,'','TB',0,'C');
    $pdf->Cell(46*$con,4.5*$con,'','TB',0,'C');
    //$pdf->Cell(20*$con,4.5*$con,'Clinician:','TB',0,'L');
    $pdf->Cell(2*$con,4.5*$con,'Clinician:','TB',0,'L');
    $pdf->Cell(13*$con,4.5*$con, '','TB',0,'L');
    $pdf->Cell(34*$con,4.5*$con, $visit_log->first_name . " " .  $visit_log->last_name,'TB',0,'L');
    $pdf->Cell(10*$con,4.5*$con,'Time in:','TB',0,'L');
    $y = $pdf->GetY(); $x = $pdf->GetX(); 
    $pdf->SetFont('Arial','B', 8);
    $pdf->Text($x+15,$y+9, standard_date(mysql_to_unix($visit_log->visited_date . " " . $visit_log->visited_time_in), 'USA_TIME_C') );    
    $pdf->SetFont('Arial','',10);  
    
    $pdf->Cell(25*$con,4.5*$con,'','TB',0,'C');
    $pdf->Cell(15*$con,4.5*$con,'Time Out:','TB',0,'L');
    $y = $pdf->GetY(); $x = $pdf->GetX(); 
    $pdf->SetFont('Arial','B', 8);
    $pdf->Text($x+5,$y+9, standard_date(mysql_to_unix($visit_log->visited_date . " " . $visit_log->visited_time_out), 'USA_TIME_C') );    
    $pdf->SetFont('Arial','',10);  
    
    $pdf->Cell(20*$con,4.5*$con,'','TBR',1,'C');

    //Vital signs
    //$pdf->Cell(25*$con,4*$con,'VITAL SIGNS:','TBL',0,'L');
    $pdf->Cell(25*$con,4*$con,'','TBL',0,'L');
    //$pdf->Cell(6*$con,4*$con,'BP:','TB',0,'C');
    $pdf->Cell(6*$con,4*$con,'','TB',0,'C');
    /*$y = $pdf->GetY(); $x = $pdf->GetX(); 
    $pdf->SetFont('Arial','B', 8);
    $pdf->Text($x+10,$y+8, @$otev->p1_sa_bp );    */
    $pdf->SetFont('Arial','',10); 
    
    //$pdf->Cell(13*$con,4*$con,'______','TB',0,'L');
    $pdf->Cell(13*$con,4*$con,'','TB',0,'L');
    //$pdf->Cell(6*$con,4*$con,'T:','TB',0,'R');
    $pdf->Cell(6*$con,4*$con,'','TB',0,'R');
    //$pdf->Cell(13*$con,4*$con,'______','TB',0,'L');
    $pdf->Cell(13*$con,4*$con,'','TB',0,'L');
    //$pdf->Cell(6*$con,4*$con,'R:','TB',0,'R');
    $pdf->Cell(6*$con,4*$con,'','TB',0,'R');
    //$pdf->Cell(13*$con,4*$con,'______','TB',0,'L');
    $pdf->Cell(13*$con,4*$con,'','TB',0,'L');
    //$pdf->Cell(6*$con,4*$con,'P:','TB',0,'R');
    $y = $pdf->GetY(); $x = $pdf->GetX(); 
    $pdf->Rect($x-30,$y+1, 8.4, 8.4);
    if (!is_null(@$visit_log->billable_YN) AND @$visit_log->billable_YN == 1){      
      $pdf->Image( $path_ticket, $x-29,$y+2,6,6);
    }
    
    $pdf->Cell(6*$con,4*$con,'Billable','TB',0,'R');
    //$pdf->Cell(12*$con,4*$con,'______','TB',0,'L');
    $pdf->Cell(12*$con,4*$con,'','TB',0,'L');
    $pdf->Cell(20*$con,4*$con,'','TB',0,'C');
    $pdf->Cell(20*$con,4*$con,'Mileage:','TB',0,'L');
    $y = $pdf->GetY(); $x = $pdf->GetX(); 
    $pdf->SetFont('Arial','B', 8);
    $pdf->Text($x,$y+9, @$visit_log->mileage );    
    $pdf->SetFont('Arial','',8);  
    
    $pdf->Cell(50*$con,4*$con,'','TRB',1,'L');

    //REHAB POTENTIAL /MENTAL STATUS
    
    
    $pdf->Cell(95*$con,4*$con,'REHAB POTENTIAL','TRL',0,'L');
    $pdf->Cell(95*$con,4*$con,'MENTAL STATUS','TRL',1,'L');

    $pdf->Cell(5*$con,4*$con,'','L',0,'C');
    if(@$otev->tab_43_rehab_poten == 1){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x-7,$y+3,6,6);
    }
    $pdf->Cell(24*$con,4*$con,'Excellent',0,0,'L');
    $pdf->Cell(5*$con,4*$con,'',0,0,'C');
    if(@$otev->tab_43_rehab_poten == 2){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x-7,$y+3,6,6);
    }
    
    $pdf->Cell(15*$con,4*$con,'Good',0,0,'L');
    $pdf->Cell(5*$con,4*$con,'',0,0,'C');
    if(@$otev->tab_43_rehab_poten == 3){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x-7,$y+3,6,6);
    }
    $pdf->Cell(15*$con,4*$con,'Fair',0,0,'L');
    $pdf->Cell(5*$con,4*$con,'',0,0,'C');
    if(@$otev->tab_43_rehab_poten == 4){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x-7,$y+3,6,6);
    }    
    $pdf->Cell(10*$con,4*$con,'Poor',0,0,'L');
    
    $y = $pdf->GetY(); $x = $pdf->GetX(); 
    $pdf->SetFont('Arial','', 8);
    //$pdf->Text($x+3,$y+10,  "Assessment Type:    ".$tab_32[@$otev->tab_92_assess_type]);
    $pdf->Text($x-235,$y+25,  "ASSESSMENT TYPE:    ".$tab_32[@$otev->tab_92_assess_type]);
    $pdf->SetFont('Arial','',8);     
    //$pdf->Cell(90*$con,5*$con,'','TL',0,'L'); 
    $pdf->SetXY($x,$y);
    
    $pdf->Cell(11*$con,4*$con,'','R',0,'C');

    $pdf->Cell(5*$con,4*$con,'',0,0,'C');
    if(@$otev->mental_alert == 1){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x-7,$y+3,6,6);
    }
    $pdf->Cell(15*$con,4*$con,'Alert',0,0,'L');
    $pdf->Cell(5*$con,4*$con,'',0,0,'C');
    if(@$otev->mental_oriented == 1){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x-7,$y+3,6,6);
    }
    $pdf->Cell(20*$con,4*$con,'Oriented',0,0,'L');
    $pdf->Cell(5*$con,4*$con,'',0,0,'C');
    if(@$otev->mental_disoriented == 1){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x-7,$y+3,6,6);
    }
    $pdf->Cell(24*$con,4*$con,'Disoriented',0,0,'L');
    $pdf->Cell(5*$con,4*$con,'',0,0,'C');
    if(@$otev->mental_forgetful == 1){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x-7,$y+3,6,6);
    }
    $pdf->Cell(10*$con,4*$con,'Forgetful',0,0,'L');
    $pdf->Cell(6*$con,4*$con,'','R',1,'C');
    
    $pdf->Cell(95*$con,4*$con,'','LR',0,'C');
    $pdf->Cell(5*$con,4*$con,'',0,0,'C');
    if(@$otev->mental_agitated == 1){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x-7,$y+3,6,6);
    }
    $pdf->Cell(15*$con,4*$con,'Agitated',0,0,'L');
    $pdf->Cell(5*$con,4*$con,'',0,0,'C');
    if(@$otev->mental_depressed == 1){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x-7,$y+3,6,6);
    }
    $pdf->Cell(20*$con,4*$con,'Depressed',0,0,'L');
    $pdf->Cell(50*$con,4*$con,'','R',1,'C');

    $pdf->Cell(95*$con,3*$con,'','LBR',0,'C');
    $pdf->Cell(95*$con,3*$con,'','LBR',1,'C');

    //Pain Assessment / System Assessment / Functional Impairment
    $pdf->Cell(63*$con,4*$con,'PAIN ASSESSMENT','LR',0,'L');
    $pdf->Cell(64*$con,4*$con,'SYSTEM ASSESSMENT','R',0,'L');
    $pdf->Cell(63*$con,4*$con,'FUNCIONAL IMPAIRMENT','R',1,'L');

    $pdf->Cell(5*$con,4*$con,'','L',0,'L');
    if(@$otev->tab_75_pain_assessment == 1){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x-7,$y+3,6,6);
    }
    $pdf->Cell(15*$con,4*$con,'No Pain',0,0,'L'); //tab_75_pain_assessment
    $pdf->Cell(5*$con,4*$con,'',0,0,'L');
    if(@$otev->tab_75_pain_assessment == 2){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x-7,$y+3,6,6);
    }
    $pdf->Cell(5*$con,4*$con,'1',0,0,'L');
    $pdf->Cell(5*$con,4*$con,'',0,0,'L');
    if(@$otev->tab_75_pain_assessment == 3){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x-7,$y+3,6,6);
    }
    $pdf->Cell(5*$con,4*$con,'2',0,0,'L');
    $pdf->Cell(5*$con,4*$con,'',0,0,'L');
    if(@$otev->tab_75_pain_assessment == 4){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x-7,$y+3,6,6);
    }
    $pdf->Cell(5*$con,4*$con,'3',0,0,'L');
    $pdf->Cell(5*$con,4*$con,'',0,0,'L');
    if(@$otev->tab_75_pain_assessment == 5){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x-7,$y+3,6,6);
    }
    $pdf->Cell(5*$con,4*$con,'4',0,0,'L');
    $pdf->Cell(3*$con,4*$con,'','R',0,'L');

    $pdf->Cell(5*$con,4*$con,'BP:',0,0,'L');
    $y = $pdf->GetY(); $x = $pdf->GetX(); 
    $pdf->SetFont('Arial','B', 8);
    $pdf->Text($x+5,$y+8, @$otev->p1_sa_bp );    
    $pdf->SetFont('Arial','',8);  
    
    $pdf->Cell(14*$con,4*$con,'',0,0,'L');
    if(@$otev->tab_062_right_left == 1){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x+7,$y+3,6,6);
    }
    $pdf->Cell(5*$con,4*$con,'',0,0,'L');
    $pdf->Cell(15*$con,4*$con,'R',0,0,'L');
    if(@$otev->tab_062_right_left == 2){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x+7,$y+3,6,6);
    }
    $pdf->Cell(5*$con,4*$con,'',0,0,'L');
    $pdf->Cell(20*$con,4*$con,'L','R',0,'L');

    $pdf->Cell(5*$con,4*$con,'',0,0,'L');
    if(@$otev->funct_dyspnea == 1){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x-7,$y+3,6,6);
    }
    $pdf->Cell(58*$con,4*$con,'Dyspnea on exertion','R',1,'L');//funct_dyspnea

    ///////////////////////////////////////////////////////

    $pdf->Cell(5*$con,4*$con,'','L',0,'L');
    if(@$otev->tab_75_pain_assessment == 6){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x-7,$y+3,6,6);
    }
    $pdf->Cell(5*$con,4*$con,'5',0,0,'L');
    $pdf->Cell(5*$con,4*$con,'',0,0,'L');
    if(@$otev->tab_75_pain_assessment == 7){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x-7,$y+3,6,6);
    }
    $pdf->Cell(5*$con,4*$con,'6',0,0,'L');
    $pdf->Cell(5*$con,4*$con,'',0,0,'L');
    if(@$otev->tab_75_pain_assessment == 8){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x-7,$y+3,6,6);
    }
    $pdf->Cell(5*$con,4*$con,'7',0,0,'L');
    $pdf->Cell(5*$con,4*$con,'',0,0,'L');
    if(@$otev->tab_75_pain_assessment == 9){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x-7,$y+3,6,6);
    }
    $pdf->Cell(5*$con,4*$con,'8',0,0,'L');
    $pdf->Cell(5*$con,4*$con,'',0,0,'L');
    if(@$otev->tab_75_pain_assessment == 10){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x-7,$y+3,6,6);
    }
    $pdf->Cell(5*$con,4*$con,'9',0,0,'L');
    $pdf->Cell(5*$con,4*$con,'',0,0,'L');
    if(@$otev->tab_75_pain_assessment == 11){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x-7,$y+3,6,6);
    }
    $pdf->Cell(5*$con,4*$con,'10',0,0,'L');
    $pdf->Cell(3*$con,4*$con,'','R',0,'L');

    $pdf->Cell(5*$con,4*$con,'',0,0,'L');
    if(@$otev->p1_sa_sitt_lyi_stand == 1){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x-7,$y+3,6,6);
    }
    $pdf->Cell(14*$con,4*$con,'Sitting',0,0,'L');//p1_sa_sitt_lyi_stand
    $pdf->Cell(5*$con,4*$con,'',0,0,'L');
    if(@$otev->p1_sa_sitt_lyi_stand == 2){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x-7,$y+3,6,6);
    }
    $pdf->Cell(15*$con,4*$con,'Lying',0,0,'L');
    $pdf->Cell(5*$con,4*$con,'',0,0,'L');
    if(@$otev->p1_sa_sitt_lyi_stand == 3){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x-7,$y+3,6,6);
    }
    $pdf->Cell(20*$con,4*$con,'Standing','R',0,'L');

    $pdf->Cell(5*$con,4*$con,'',0,0,'L');
    if(@$otev->funct_diff_walking == 1){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x-7,$y+3,6,6);
    }
    $pdf->Cell(58*$con,4*$con,'Difficulty walking','R',1,'L'); //funct_diff_walking

    ///////////////////////////////////////////////////

    $pdf->Cell(13*$con,4*$con,'Location:','L',0,'L'); // pain_location
    $y = $pdf->GetY(); $x = $pdf->GetX(); 
    $pdf->SetFont('Arial','B', 8);
    $pdf->Text($x+5,$y+8, @$otev->pain_location );    
    $pdf->SetFont('Arial','',8);  
    $pdf->Cell(50*$con,4*$con,'______________________________','R',0,'L');

    $pdf->Cell(5*$con,4*$con,'HR',0,0,'L'); //p1_sa_hr
    $y = $pdf->GetY(); $x = $pdf->GetX(); 
    $pdf->SetFont('Arial','B', 8);
    $pdf->Text($x+5,$y+8, @$otev->p1_sa_hr );    
    $pdf->SetFont('Arial','',8);  
    $pdf->Cell(14*$con,4*$con,'',0,0,'L');
    $pdf->Cell(45*$con,4*$con,'02 Sat:','R',0,'L'); //p1_sa_o2_sat
    $y = $pdf->GetY(); $x = $pdf->GetX(); 
    $pdf->SetFont('Arial','B', 8);
    $pdf->Text($x-95,$y+8, @$otev->p1_sa_o2_sat );    
    $pdf->SetFont('Arial','',8);  
    
    $pdf->Cell(5*$con,4*$con,'',0,0,'L');
    if(@$otev->funct_diff_transfer == 1){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x-7,$y+3,6,6);
    }
    $pdf->Cell(58*$con,4*$con,'Difficulty transfer','R',1,'L'); //funct_diff_transfer

    /////////////////////////////////////////////////

    $pdf->Cell(28*$con,4*$con,'Current Pain Control:','L',0,'L'); //pain_control
    $y = $pdf->GetY(); $x = $pdf->GetX(); 
    $pdf->SetFont('Arial','B', 8);
    $pdf->Text($x+5,$y+8, @$otev->pain_control );    
    $pdf->SetFont('Arial','',8);      
    $pdf->Cell(35*$con,4*$con,'____________________','R',0,'L');

    $pdf->Cell(8*$con,4*$con,'Skin:',0,0,'L'); //p1_sa_skin
    $y = $pdf->GetY(); $x = $pdf->GetX(); 
    $pdf->SetFont('Arial','B', 8);
    $pdf->Text($x+5,$y+8, @$otev->p1_sa_skin );    
    $pdf->SetFont('Arial','',8);      
    $pdf->Cell(56*$con,4*$con,'____________________________','R',0,'L');

    $pdf->Cell(5*$con,4*$con,'',0,0,'L');
    if(@$otev->funct_diff_dressing == 1){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x-7,$y+3,6,6);
    }
    $pdf->Cell(58*$con,4*$con,'Difficulty dressing/ undressing','R',1,'L'); // funct_diff_dressing

    ////////////////////////////////////////////////////

    $pdf->Cell(63*$con,4*$con,'______________________________________','LR',0,'L');

    $pdf->Cell(64*$con,4*$con,'','R',0,'L');

    $pdf->Cell(5*$con,4*$con,'',0,0,'L');
    if(@$otev->funct_other == 1){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x-7,$y+3,6,6);
    }
    $pdf->Cell(13*$con,4*$con,'Others:',0,0,'L'); // funct_other
    $y = $pdf->GetY(); $x = $pdf->GetX(); 
    $pdf->SetFont('Arial','B', 8);
    $pdf->Text($x+5,$y+8, @$otev->funct_other_desc );    
    $pdf->SetFont('Arial','',8);  
    $pdf->Cell(45*$con,4*$con,'___________________','R',1,'L'); // funct_other_desc

    ///////////////////////////////////////////////////

    $pdf->Cell(63*$con,4*$con,'','LBR',0,'L');

    $pdf->Cell(64*$con,4*$con,'','RB',0,'L');

    $pdf->Cell(63*$con,4*$con,'','RB',1,'L');

    /////////////////////////////////////////////////
    //ASSESSMENT
    $pdf->Cell(190*$con,4*$con,'ASSESSMENT','TRL',1,'L');

    ////////////////////////////////////////////////

    $pdf->Cell(50*$con,4.5*$con,'','L',0,'L');
    $pdf->Cell(30*$con,4.5*$con,'STRENGTH',0,0,'C');
    $pdf->Cell(30*$con,4.5*$con,'ROM',0,0,'C');
    $pdf->Cell(80*$con,4.5*$con,'FUNCTIONAL STATUS','R',1,'C');

    ///////////////////////////////////////////////

    $pdf->Cell(50*$con,4.5*$con,'SHOULDER','TRL',0,'L');
    $pdf->Cell(15*$con,4.5*$con,'L','TRL',0,'C');
    $pdf->Cell(15*$con,4.5*$con,'R','TRL',0,'C');
    $pdf->Cell(15*$con,4.5*$con,'L','TRL',0,'C');
    $pdf->Cell(15*$con,4.5*$con,'R','TRL',0,'C');
    $pdf->Cell(80*$con,4.5*$con,'Dressing Upper Ext: '. $tab_47[@$otev->p1_fun_sts_tab047_dres_upp_ext],'TRL',1,'L');

    ///////////////////////////////////////////////

    $pdf->Cell(50*$con,4.5*$con,'Abd/Add','TRL',0,'L');
    $pdf->Cell(15*$con,4.5*$con,''.$tab_20[@$otev->tab_020_sho_abd_stre_left].'','TRL',0,'C');
    $pdf->Cell(15*$con,4.5*$con,''.$tab_20[@$otev->tab_020_sho_abd_stre_right].'','TRL',0,'C');
    $pdf->Cell(15*$con,4.5*$con,''.(@$otev->tab_020_sho_abd_rom_left ? $tab_52[@$otev->tab_020_sho_abd_rom_left] : @$otev->sho_abd_stre_degre).'','TRL',0,'C');    
    $pdf->Cell(15*$con,4.5*$con,''.(@$otev->tab_020_sho_abd_rom_right ? $tab_52[@$otev->tab_020_sho_abd_rom_right] : @$otev->sho_abd_rom_degre).'','TRL',0,'C');
    
    $pdf->Cell(80*$con,4.5*$con,'Dressing Lower Ext: '.$tab_47[@$otev->p1_fun_sts_tab047_dres_low_ext],'TRL',1,'L'); //p1_fun_sts_tab047_dres_upp_ext

    ///////////////////////////////////////////////

    $pdf->Cell(50*$con,4.5*$con,'Int/Ext Rotation','TRL',0,'L');
      $pdf->Cell(15*$con,4.5*$con,''.$tab_20[@$otev->tab_020_sho_int_stre_left],'TRL',0,'C');
    $pdf->Cell(15*$con,4.5*$con,''.$tab_20[@$otev->tab_020_sho_int_stre_right],'TRL',0,'C');
    $pdf->Cell(15*$con,4.5*$con,''.(@$otev->tab_020_sho_int_rom_left ? $tab_52[@$otev->tab_020_sho_int_rom_left] : @$otev->sho_int_stre_degre),'TRL',0,'C');    
    $pdf->Cell(15*$con,4.5*$con,''.(@$otev->tab_020_sho_int_rom_right ? $tab_52[@$otev->tab_020_sho_int_rom_right] : @$otev->sho_int_rom_degre),'TRL',0,'C');
    
    $pdf->Cell(80*$con,4.5*$con,'Feeding: '.$tab_47[@$otev->p1_fun_sts_tab047_feed],'TRL',1,'L');

    ///////////////////////////////////////////////

    $pdf->Cell(50*$con,4.5*$con,'Flex/Ext','TRL',0,'L');
    $pdf->Cell(15*$con,4.5*$con,''.$tab_20[@$otev->tab_020_sho_flex_stre_left],'TRL',0,'C');
    $pdf->Cell(15*$con,4.5*$con,''.$tab_20[@$otev->tab_020_sho_flex_stre_right],'TRL',0,'C');
    $pdf->Cell(15*$con,4.5*$con,''.(@$otev->tab_020_sho_flex_rom_left ? $tab_52[@$otev->tab_020_sho_flex_rom_left] : @$otev->sho_flex_stre_degre),'TRL',0,'C');    
    $pdf->Cell(15*$con,4.5*$con,''.(@$otev->tab_020_sho_flex_rom_right ? $tab_52[@$otev->tab_020_sho_flex_rom_right] : @$otev->sho_flex_rom_degre),'TRL',0,'C');    
    $pdf->Cell(80*$con,4.5*$con,'Adaptive Dev-Utensil: '.$tab_47[@$otev->p1_fun_sts_tab047_adap_dev_uten],'TRL',1,'L');
    ///////////////////////////////////////////////

    $pdf->Cell(50*$con,4.5*$con,'ELBOW','TRL',0,'L');
    $pdf->Cell(15*$con,4.5*$con,'','TRL',0,'C');
    $pdf->Cell(15*$con,4.5*$con,'','TRL',0,'C');
    $pdf->Cell(15*$con,4.5*$con,'','TRL',0,'C');
    $pdf->Cell(15*$con,4.5*$con,'','TRL',0,'C');
    $pdf->Cell(80*$con,4.5*$con,'Grooming- Hair: '.$tab_47[@$otev->p1_fun_sts_tab047_groo_hair],'TRL',1,'L');
    ///////////////////////////////////////////////

    $pdf->Cell(50*$con,4.5*$con,'Flex/Ext','TRL',0,'L');
    $pdf->Cell(15*$con,4.5*$con,''.$tab_20[@$otev->tab_020_elb_flex_stre_left],'TRL',0,'C');
    $pdf->Cell(15*$con,4.5*$con,''.$tab_20[@$otev->tab_020_elb_flex_stre_right],'TRL',0,'C');
    $pdf->Cell(15*$con,4.5*$con,''.(@$otev->tab_020_elb_flex_rom_left ? $tab_52[@$otev->tab_020_elb_flex_rom_left] : @$otev->sho_elb_flex_stre_degre),'TRL',0,'C');    
    $pdf->Cell(15*$con,4.5*$con,''.(@$otev->tab_020_elb_flex_rom_right ? $tab_52[@$otev->tab_020_elb_flex_rom_right] : @$otev->sho_elb_flex_rom_degre),'TRL',0,'C');    
    $pdf->Cell(80*$con,4.5*$con,'Grooming- Nails: '.$tab_47[@$otev->p1_fun_sts_tab047_groo_nail],'TRL',1,'L');

    ///////////////////////////////////////////////

    $pdf->Cell(50*$con,4.5*$con,'Sup/Pron','TRL',0,'L');
    $pdf->Cell(15*$con,4.5*$con,''.$tab_20[@$otev->tab_020_elb_sup_stre_left],'TRL',0,'C');
    $pdf->Cell(15*$con,4.5*$con,''.$tab_20[@$otev->tab_020_elb_sup_stre_right],'TRL',0,'C');
    $pdf->Cell(15*$con,4.5*$con,''.(@$otev->tab_020_elb_sup_rom_left ? $tab_52[@$otev->tab_020_elb_sup_rom_left] : @$otev->sho_elb_sup_stre_degre),'TRL',0,'C');    
    $pdf->Cell(15*$con,4.5*$con,''.(@$otev->tab_020_elb_sup_rom_right ? $tab_52[@$otev->tab_020_elb_sup_rom_right] : @$otev->sho_elb_sup_rom_degre),'TRL',0,'C');    
    $pdf->Cell(80*$con,4.5*$con,'Grooming � Shaving: '.$tab_47[@$otev->p1_fun_sts_tab047_groo_Shav],'TRL',1,'L');

    ///////////////////////////////////////////////

    $pdf->Cell(50*$con,4.5*$con,'WRIST','TRL',0,'L');
    $pdf->Cell(15*$con,4.5*$con,'','TRL',0,'C');
    $pdf->Cell(15*$con,4.5*$con,'','TRL',0,'C');
    $pdf->Cell(15*$con,4.5*$con,'','TRL',0,'C');
    $pdf->Cell(15*$con,4.5*$con,'','TRL',0,'C');
    $pdf->Cell(80*$con,4.5*$con,'Urinal- Toilet: '.$tab_47[@$otev->p1_fun_sts_tab047_urin_toil],'TRL',1,'L');

    ///////////////////////////////////////////////

    $pdf->Cell(50*$con,4.5*$con,'Flex/Ext','TRL',0,'L');
    $pdf->Cell(15*$con,4.5*$con,''.$tab_20[@$otev->tab_020_wri_flex_stre_left],'TRL',0,'C');
    $pdf->Cell(15*$con,4.5*$con,''.$tab_20[@$otev->tab_020_wri_flex_stre_right],'TRL',0,'C');
    $pdf->Cell(15*$con,4.5*$con,''.(@$otev->tab_020_wri_flex_rom_left ? $tab_52[@$otev->tab_020_wri_flex_rom_left] : @$otev->sho_wri_flex_stre_degre),'TRL',0,'C');    
    $pdf->Cell(15*$con,4.5*$con,''.(@$otev->tab_020_wri_flex_rom_right ? $tab_52[@$otev->tab_020_wri_flex_rom_right] : @$otev->sho_wri_flex_rom_degre),'TRL',0,'C');    
    $pdf->Cell(80*$con,4.5*$con,'Bathing- Bed: '.$tab_47[@$otev->p1_fun_sts_tab047_bath_bed],'TRL',1,'L');

    ///////////////////////////////////////////////

    $pdf->Cell(50*$con,4.5*$con,'Abd/Add','TRL',0,'L');
    $pdf->Cell(15*$con,4.5*$con,''.$tab_20[@$otev->tab_020_wri_abd_stre_left],'TRL',0,'C');
    $pdf->Cell(15*$con,4.5*$con,''.$tab_20[@$otev->tab_020_wri_abd_stre_right],'TRL',0,'C');
    $pdf->Cell(15*$con,4.5*$con,''.(@$otev->tab_020_wri_abd_rom_left ? $tab_52[@$otev->tab_020_wri_abd_rom_left] : @$otev->sho_wri_abd_stre_degre),'TRL',0,'C');    
    $pdf->Cell(15*$con,4.5*$con,''.(@$otev->tab_020_wri_abd_rom_right ? $tab_52[@$otev->tab_020_wri_abd_rom_right] : @$otev->sho_wri_abd_rom_degre),'TRL',0,'C');    
    $pdf->Cell(80*$con,4.5*$con,'Homemaking � Kit/ Laund: '.$tab_47[@$otev->p1_fun_sts_tab047_hom_mak_kit_laud],'TRL',1,'L');

    ///////////////////////////////////////////////

    $pdf->Cell(50*$con,4.5*$con,'FINGERS','TRL',0,'L');
    $pdf->Cell(15*$con,4.5*$con,'','TRL',0,'C');
    $pdf->Cell(15*$con,4.5*$con,'','TRL',0,'C');
    $pdf->Cell(15*$con,4.5*$con,'','TRL',0,'C');
    $pdf->Cell(15*$con,4.5*$con,'','TRL',0,'C');
    $pdf->Cell(80*$con,4.5*$con,'Homemaking � Meal Prep: '.$tab_47[@$otev->p1_fun_sts_tab047_hom_mak_meal_prep],'TRL',1,'L');

    ///////////////////////////////////////////////

    $pdf->Cell(50*$con,4.5*$con,'Flex/Ext','TRL',0,'L');
    $pdf->Cell(15*$con,4.5*$con,''.$tab_20[@$otev->tab_020_fin_flex_stre_left],'TRL',0,'C');
    $pdf->Cell(15*$con,4.5*$con,''.$tab_20[@$otev->tab_020_fin_flex_stre_right],'TRL',0,'C');
    $pdf->Cell(15*$con,4.5*$con,''.(@$otev->tab_020_fin_flex_rom_left ? $tab_52[@$otev->tab_020_fin_flex_rom_left] : @$otev->sho_fin_flex_stre_degre),'TRL',0,'C');    
    $pdf->Cell(15*$con,4.5*$con,''.(@$otev->tab_020_fin_flex_rom_right ? $tab_52[@$otev->tab_020_fin_flex_rom_right] : @$otev->sho_fin_flex_rom_degre),'TRL',0,'C');    
    $pdf->Cell(80*$con,4.5*$con,'','TRL',1,'L');

    ///////////////////////////////////////////////

    $pdf->Cell(50*$con,4.5*$con,'Abd/Add','TRL',0,'L');
    $pdf->Cell(15*$con,4.5*$con,''.$tab_20[@$otev->tab_020_fin_abd_stre_left],'TRL',0,'C');
    $pdf->Cell(15*$con,4.5*$con,''.$tab_20[@$otev->tab_020_fin_abd_stre_right],'TRL',0,'C');
    $pdf->Cell(15*$con,4.5*$con,''.(@$otev->tab_020_fin_abd_rom_left ? $tab_52[@$otev->tab_020_fin_abd_rom_left] : @$otev->sho_fin_abd_stre_degre),'TRL',0,'C');    
    $pdf->Cell(15*$con,4.5*$con,''.(@$otev->tab_020_fin_abd_rom_right ? $tab_52[@$otev->tab_020_fin_abd_rom_right] : @$otev->sho_fin_abd_rom_degre),'TRL',0,'C');    
    $pdf->Cell(80*$con,4.5*$con,'','RL',1,'L');

    ///////////////////////////////////////////////

    $pdf->Cell(50*$con,4.5*$con,'THUMB','TRL',0,'L');
    $pdf->Cell(15*$con,4.5*$con,'','TRL',0,'C');
    $pdf->Cell(15*$con,4.5*$con,'','TRL',0,'C');
    $pdf->Cell(15*$con,4.5*$con,'','TRL',0,'C');
    $pdf->Cell(15*$con,4.5*$con,'','TRL',0,'C');
    $pdf->Cell(80*$con,4.5*$con,'','RL',1,'L');

    ///////////////////////////////////////////////

    $pdf->Cell(50*$con,4.5*$con,'Flex/Ext','TRL',0,'L');
    $pdf->Cell(15*$con,4.5*$con,''.$tab_20[@$otev->tab_020_thu_flex_stre_left],'TRL',0,'C');
    $pdf->Cell(15*$con,4.5*$con,''.$tab_20[@$otev->tab_020_thu_flex_stre_right],'TRL',0,'C');
    $pdf->Cell(15*$con,4.5*$con,''.(@$otev->tab_020_thu_flex_rom_left ? $tab_52[@$otev->tab_020_thu_flex_rom_left] : @$otev->sho_thu_flex_stre_degre),'TRL',0,'C'); 
    $pdf->Cell(15*$con,4.5*$con,''.(@$otev->tab_020_thu_flex_rom_right ? $tab_52[@$otev->tab_020_thu_flex_rom_right] : @$otev->sho_thu_flex_rom_degre),'TRL',0,'C');    
    $pdf->Cell(80*$con,4.5*$con,'','RL',1,'L');

    ///////////////////////////////////////////////

    $pdf->Cell(50*$con,4.5*$con,'Abd/Ext','TRBL',0,'L');
    $pdf->Cell(15*$con,4.5*$con,''.$tab_20[@$otev->tab_020_thu_abd_stre_left],'TRL',0,'C');
    $pdf->Cell(15*$con,4.5*$con,''.$tab_20[@$otev->tab_020_thu_abd_stre_right],'TRL',0,'C');
    $pdf->Cell(15*$con,4.5*$con,''.(@$otev->tab_020_thu_abd_rom_left ? $tab_52[@$otev->tab_020_thu_abd_rom_left] : @$otev->sho_thu_abd_stre_degre),'TRL',0,'C');    
    $pdf->Cell(15*$con,4.5*$con,''.(@$otev->tab_020_thu_abd_rom_right ? $tab_52[@$otev->tab_020_thu_abd_rom_right] : @$otev->sho_thu_abd_rom_degre),'TRL',0,'C');    
    $pdf->Cell(80*$con,4.5*$con,'','TRBL',1,'L');

    //////////////////////////////////////////////
    //ADITIONAL ADL FUNCIONAL ABILITY & HOME EVALUATION

    $pdf->Cell(110*$con,4*$con,'','TRL',0,'L');
    $pdf->Cell(80*$con,4*$con,'HOME EVALUATION','TRL',1,'L');

    ///////////////////////////////////////////////

    $pdf->Cell(110*$con,4*$con,'ADDITIONAL ADL FUNCIONAL ABILITY','RL',0,'L');
    $pdf->Cell(80*$con,4*$con,'','RL',1,'L');

    ///////////////////////////////////////////////

    $pdf->Cell(40*$con,4.5*$con,'SENSATION','TRL',0,'C');
    $pdf->Cell(35*$con,4.5*$con,'WNL','TRL',0,'C');
    $pdf->Cell(35*$con,4.5*$con,'IMPAIRED','TRL',0,'C');
    
    //HOME EVALUATION
    $pdf->Cell(5*$con,4.5*$con,'',0,0,'L');
    if(@$otev->p1_he_alone == 1){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x-7,$y+2,6,6);
    }
    $pdf->Cell(20*$con,4.5*$con,'Alone',0,0,'L');
    $pdf->Cell(5*$con,4.5*$con,'',0,0,'L');
    if(@$otev->p1_he_wit_spouse == 1){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x-7,$y+2,6,6);
    }
    $pdf->Cell(50*$con,4.5*$con,'Lives w/Spouse:','R',1,'L');

    //////////////////////////////////////////////

    $pdf->Cell(40*$con,4.5*$con,'Propioception','TRL',0,'L');
    $pdf->Cell(35*$con,4.5*$con,'','TRL',0,'L');
    if(@$otev->p1_adit_adl_func_sens_propio == 'W'){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x-55,$y+3,6,6);
    }
    $pdf->Cell(35*$con,4.5*$con,'','TRL',0,'L');
    if(@$otev->p1_adit_adl_func_sens_propio == 'I'){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x-55,$y+3,6,6);
    }
    $pdf->Cell(5*$con,4.5*$con,'',0,0,'L');
    if(@$otev->p1_he_other_desc != null){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x-7,$y+2,6,6);
    }
    $pdf->Cell(20*$con,4.5*$con,'Other:',0,0,'L');
    $y = $pdf->GetY(); $x = $pdf->GetX(); 
    //$pdf->SetFont('Arial','B', 8);
    $pdf->Text($x,$y+9, @$otev->p1_he_other_desc );    
    //$pdf->SetFont('Arial','',8);  
    
    $pdf->Cell(5*$con,4.5*$con,'',0,0,'L');
    $pdf->Cell(50*$con,4.5*$con,'','R',1,'L');

    //////////////////////////////////////////////

    $pdf->Cell(40*$con,4.5*$con,'Light Touch','TRL',0,'L');
    $pdf->Cell(35*$con,4.5*$con,'','TRL',0,'L');
    if(@$otev->p1_adit_adl_func_sens_light == 'W'){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x-55,$y+3,6,6);
    }
    $pdf->Cell(35*$con,4.5*$con,'','TRL',0,'L');
    if(@$otev->p1_adit_adl_func_sens_light == 'I'){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x-55,$y+3,6,6);
    }
    $pdf->Cell(5*$con,4.5*$con,'',0,0,'L');
    $pdf->Cell(20*$con,4.5*$con,'',0,0,'L');
    $pdf->Cell(5*$con,4.5*$con,'',0,0,'L');
    $pdf->Cell(50*$con,4.5*$con,'','R',1,'L');

    //////////////////////////////////////////////

    $pdf->Cell(40*$con,4.5*$con,'Deep Touch','TRL',0,'L');
    $pdf->Cell(35*$con,4.5*$con,'','TRL',0,'L');
    if(@$otev->p1_adit_adl_func_sens_deep == 'W'){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x-55,$y+3,6,6);
    }
    $pdf->Cell(35*$con,4.5*$con,'','TRL',0,'L');
    if(@$otev->p1_adit_adl_func_sens_deep == 'I'){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x-55,$y+3,6,6);
    }
    $pdf->Cell(5*$con,4.5*$con,'',0,0,'L');
    if(@$otev->p1_he_home != null){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x-7,$y+2,6,6);
    }
    $pdf->Cell(10*$con,4.5*$con,'Home',0,0,'L');
    $pdf->Cell(5*$con,4.5*$con,'',0,0,'L');
    if(@$otev->p1_he_apt != null){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x-7,$y+2,6,6);
    }
    $pdf->Cell(8*$con,4.5*$con,'Apt',0,0,'L');
    $pdf->Cell(5*$con,4.5*$con,'',0,0,'L');
    if(@$otev->p1_he_mobile != null){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x-7,$y+2,6,6);
    }
    $pdf->Cell(20*$con,4.5*$con,'Mobile Home',0,0,'L');
    $pdf->Cell(5*$con,4.5*$con,'',0,0,'L');
    if(@$otev->p1_he_senior != null){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x-7,$y+2,6,6);
    }
    $pdf->Cell(22*$con,4.5*$con,'Senior Complex','R',1,'L');

    //////////////////////////////////////////////

    $pdf->Cell(40*$con,4.5*$con,'Sharp/Dull','TRL',0,'L');
    $pdf->Cell(35*$con,4.5*$con,'','TRL',0,'L');
    if(@$otev->p1_adit_adl_func_sharp == 'W'){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x-55,$y+3,6,6);
    }
    $pdf->Cell(35*$con,4.5*$con,'','TRL',0,'L');
    if(@$otev->p1_adit_adl_func_sharp == 'I'){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x-55,$y+3,6,6);
    }
    $pdf->Cell(5*$con,4.5*$con,'',0,0,'L');
    if(@$otev->p1_he_sin_level != null){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x-7,$y+2,6,6);
    }
    $pdf->Cell(20*$con,4.5*$con,'Single Level',0,0,'L');
    $pdf->Cell(5*$con,4.5*$con,'',0,0,'L');
    if(@$otev->p1_he_mult_level != null){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x-7,$y+2,6,6);
    }
    $pdf->Cell(50*$con,4.5*$con,'Multi Level','R',1,'L');

    //////////////////////////////////////////////

    $pdf->Cell(40*$con,4.5*$con,'Hot/Cold','TRL',0,'L');
    $pdf->Cell(35*$con,4.5*$con,'','TRL',0,'L');
    if(@$otev->p1_adit_adl_func_sens_hot == 'W'){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x-55,$y+3,6,6);
    }
    $pdf->Cell(35*$con,4.5*$con,'','TRL',0,'L');
    if(@$otev->p1_adit_adl_func_sens_hot == 'I'){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x-55,$y+3,6,6);
    }
    $pdf->Cell(5*$con,4.5*$con,'',0,0,'L');
    if(@$otev->p1_he_stairs != null){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x-7,$y+2,6,6);
    }
    $pdf->Cell(8*$con,4.5*$con,'Stairs',0,0,'L');
    $pdf->Cell(5*$con,4.5*$con,'',0,0,'L');
    if(@$otev->p1_he_elevator != null){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x-7,$y+2,6,6);
    }
    $pdf->Cell(12*$con,4.5*$con,'Elevator',0,0,'L');
    $pdf->Cell(5*$con,4.5*$con,'',0,0,'L');
    if(@$otev->p1_he_spacious != null){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x-7,$y+2,6,6);
    }
    $pdf->Cell(12*$con,4.5*$con,'Spacious ',0,0,'L');
    $pdf->Cell(5*$con,4.5*$con,'',0,0,'L');
    if(@$otev->p1_he_clean != null){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x-7,$y+2,6,6);
    }
    $pdf->Cell(10*$con,4.5*$con,'Clean',0,0,'L');
    $pdf->Cell(5*$con,4.5*$con,'',0,0,'L');
    if(@$otev->p1_he_crowded != null){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x-7,$y+2,6,6);
    }
    $pdf->Cell(13*$con,4.5*$con,'Crowded','R',1,'L');

    //////////////////////////////////////////////

    $pdf->Cell(40*$con,4.5*$con,'PERCEPTUAL MOTOR','TRL',0,'L');
    $pdf->Cell(35*$con,4.5*$con,'','TRL',0,'L');
    $pdf->Cell(35*$con,4.5*$con,'','TRL',0,'L');
    $pdf->Cell(5*$con,4.5*$con,'',0,0,'L');
    if(@$otev->p1_he_clutter != null){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x-7,$y+4,6,6);
    }
    $pdf->Cell(15*$con,4.5*$con,'Cluttered ',0,0,'L');
    $pdf->Cell(5*$con,4.5*$con,'',0,0,'L');
    if(@$otev->p1_he_dirty != null){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x-7,$y+4,6,6);
    }
    $pdf->Cell(55*$con,4.5*$con,'Dirty','R',1,'L');

    //////////////////////////////////////////////

    $pdf->Cell(40*$con,4.5*$con,'Vision','TRL',0,'L');
    $pdf->Cell(35*$con,4.5*$con,'','TRL',0,'L');
    if(@$otev->p1_adit_adl_func_percep_vision == 'W'){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x-55,$y+3,6,6);
    }
    $pdf->Cell(35*$con,4.5*$con,'','TRL',0,'L');
    if(@$otev->p1_adit_adl_func_percep_vision == 'I'){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x-55,$y+3,6,6);
    }
    $pdf->Cell(5*$con,4.5*$con,'',0,0,'L');
    $pdf->Cell(20*$con,4.5*$con,'',0,0,'L');
    $pdf->Cell(5*$con,4.5*$con,'',0,0,'L');
    $pdf->Cell(50*$con,4.5*$con,'','R',1,'L');

    //////////////////////////////////////////////

    $pdf->Cell(40*$con,4.5*$con,'Position in Space','TRL',0,'L');
    $pdf->Cell(35*$con,4.5*$con,'','TRL',0,'L');
    if(@$otev->p1_adit_adl_func_percep_position == 'W'){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x-55,$y+3,6,6);
    }
    $pdf->Cell(35*$con,4.5*$con,'','TRL',0,'L');
    if(@$otev->p1_adit_adl_func_percep_position == 'I'){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x-55,$y+3,6,6);
    }
    $pdf->Cell(5*$con,4.5*$con,'','LTB',0,'L');
    $pdf->Cell(20*$con,4.5*$con,'','TB',0,'L');
    $pdf->Cell(5*$con,4.5*$con,'','TB',0,'L');
    $pdf->Cell(50*$con,4.5*$con,'','TBR',1,'L');

    //////////////////////////////////////////////

    $pdf->Cell(40*$con,4.5*$con,'L/R Discrimination','TRL',0,'L');
    $pdf->Cell(35*$con,4.5*$con,'','TRL',0,'L');
    if(@$otev->p1_adit_adl_func_percep_discrimin == 'W'){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x-55,$y+3,6,6);
    }
    $pdf->Cell(35*$con,4.5*$con,'','TRL',0,'L');
    if(@$otev->p1_adit_adl_func_percep_discrimin == 'I'){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x-55,$y+3,6,6);
    }
    $pdf->Cell(25*$con,4.5*$con,'SAFETY MEASURE',0,0,'L');
    $pdf->Cell(5*$con,4.5*$con,'',0,0,'L');
    $pdf->Cell(50*$con,4.5*$con,'','R',1,'L');

    //////////////////////////////////////////////

    $pdf->Cell(40*$con,4.5*$con,'Depth Perception','TRL',0,'L');
    $pdf->Cell(35*$con,4.5*$con,'','TRL',0,'L');
    if(@$otev->p1_adit_adl_func_percep_depth == 'W'){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x-55,$y+3,6,6);
    }
    $pdf->Cell(35*$con,4.5*$con,'','TRL',0,'L');
    if(@$otev->p1_adit_adl_func_percep_depth == 'I'){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x-55,$y+3,6,6);
    }
    $pdf->Cell(5*$con,4.5*$con,'',0,0,'L');
    $pdf->Cell(20*$con,4.5*$con,'',0,0,'L');
    $pdf->Cell(5*$con,4.5*$con,'',0,0,'L');
    $pdf->Cell(50*$con,4.5*$con,'','R',1,'L');

    //////////////////////////////////////////////

    $pdf->Cell(40*$con,4.5*$con,'Awareness','TRL',0,'L');
    $pdf->Cell(35*$con,4.5*$con,'','TRL',0,'L');
    if(@$otev->p1_adit_adl_func_percep_aware == 'W'){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x-55,$y+3,6,6);
    }
    $pdf->Cell(35*$con,4.5*$con,'','TRL',0,'L');
    if(@$otev->p1_adit_adl_func_percep_aware == 'I'){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x-55,$y+3,6,6);
    }
    $pdf->Cell(5*$con,4.5*$con,'',0,0,'L');
    if(@$otev->p1_saf_clear_path != null){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x-7,$y+2,6,6);
    }
    $pdf->Cell(23*$con,4.5*$con,'Clear Pathways',0,0,'L');
    $pdf->Cell(5*$con,4.5*$con,'',0,0,'L');
    if(@$otev->p1_saf_adeq_lighting != null){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x-7,$y+2,6,6);
    }
    $pdf->Cell(25*$con,4.5*$con,'Adequate Lighting',0,0,'L');
    $pdf->Cell(5*$con,4.5*$con,'',0,0,'L');
    if(@$otev->p1_saf_siderails != null){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x-7,$y+2,6,6);
    }
    $pdf->Cell(17*$con,4.5*$con,'Siderails','R',1,'L');

    //////////////////////////////////////////////

    $pdf->Cell(40*$con,4.5*$con,'COGNITION','TRL',0,'L');
    $pdf->Cell(35*$con,4.5*$con,'','TRL',0,'L');
    $pdf->Cell(35*$con,4.5*$con,'','TRL',0,'L');
    $pdf->Cell(5*$con,4.5*$con,'',0,0,'L');
    if(@$otev->p1_saf_emerg_manag != null){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x-7,$y+2,6,6);
    }
    $pdf->Cell(35*$con,4.5*$con,'Emergency Management',0,0,'L');
    $pdf->Cell(5*$con,4.5*$con,'',0,0,'L');
    if(@$otev->p1_saf_isola_precau != null){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x-7,$y+2,6,6);
    }
    $pdf->Cell(35*$con,4.5*$con,'Isolation Precautions','R',1,'L');

    //////////////////////////////////////////////

    $pdf->Cell(40*$con,4.5*$con,'Orientation','TRL',0,'L');
    $pdf->Cell(35*$con,4.5*$con,'','TRL',0,'L');
    if(@$otev->p1_adit_adl_func_cogni_orienta == 'W'){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x-55,$y+3,6,6);
    }
    $pdf->Cell(35*$con,4.5*$con,'','TRL',0,'L');
    if(@$otev->p1_adit_adl_func_cogni_orienta == 'I'){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x-55,$y+3,6,6);
    }
    $pdf->Cell(5*$con,4.5*$con,'',0,0,'L');
    if(@$otev->p1_saf_24_hour_sup != null){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x-7,$y+2,6,6);
    }
    $pdf->Cell(20*$con,4.5*$con,'24 Hr Supervision',0,0,'L');
    $pdf->Cell(5*$con,4.5*$con,'',0,0,'L');
    $pdf->Cell(50*$con,4.5*$con,'','R',1,'L');

    //////////////////////////////////////////////

    $pdf->Cell(40*$con,4.5*$con,'Safety/ judgment','TRL',0,'L');
    $pdf->Cell(35*$con,4.5*$con,'','TRL',0,'L');
    if(@$otev->p1_adit_adl_func_cogni_safe_judg == 'W'){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x-55,$y+3,6,6);
    }
    $pdf->Cell(35*$con,4.5*$con,'','TRL',0,'L');
    if(@$otev->p1_adit_adl_func_cogni_safe_judg == 'I'){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x-55,$y+3,6,6);
    }
    $pdf->Cell(5*$con,4.5*$con,'',0,0,'L');
    if(@$otev->p1_saf_ortho_prec_restri_archi != null){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x-7,$y+2,6,6);
    }
    $pdf->Cell(75*$con,4.5*$con,'Ortho Precaution/ Restriction Architectural Barriers','R',1,'L');

    //////////////////////////////////////////////

    $pdf->Cell(40*$con,4.5*$con,'Attention Span','TRL',0,'L');
    $pdf->Cell(35*$con,4.5*$con,'','TRL',0,'L');
    if(@$otev->p1_adit_adl_func_cogni_atten_span == 'W'){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x-55,$y+3,6,6);
    }
    $pdf->Cell(35*$con,4.5*$con,'','TRL',0,'L');
    if(@$otev->p1_adit_adl_func_cogni_atten_span == 'I'){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x-55,$y+3,6,6);
    }
    $pdf->Cell(5*$con,4.5*$con,'',0,0,'L');
    $pdf->Cell(30*$con,4.5*$con,'interfering W/ Mobility:',0,0,'L');
    $pdf->Cell(5*$con,4.5*$con,'',0,0,'L');
    if(@$otev->p1_saf_steps != null){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x-7,$y+2,6,6);
    }
    $pdf->Cell(10*$con,4.5*$con,'Steps',0,0,'L');
    $pdf->Cell(5*$con,4.5*$con,'',0,0,'L');
    if(@$otev->p1_saf_doorways != null){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x-7,$y+2,6,6);
    }
    $pdf->Cell(25*$con,4.5*$con,'Doorways','R',1,'L');

    //////////////////////////////////////////////

    $pdf->Cell(40*$con,4.5*$con,'Memory Retention','TRL',0,'L');
    $pdf->Cell(35*$con,4.5*$con,'','TRL',0,'L');
    if(@$otev->p1_adit_adl_func_cogni_mem_reten == 'W'){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x-55,$y+3,6,6);
    }
    $pdf->Cell(35*$con,4.5*$con,'','TRL',0,'L');
    if(@$otev->p1_adit_adl_func_cogni_mem_reten == 'I'){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x-55,$y+3,6,6);
    }
    $pdf->Cell(5*$con,4.5*$con,'',0,0,'L');
    if(@$otev->p1_saf_other != null){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x-7,$y+4,6,6);
    }
    $y = $pdf->GetY(); $x = $pdf->GetX(); 
    //$pdf->SetFont('Arial','B', 8);
    $pdf->Text($x+35,$y+8, @$otev->p1_saf_other_desc );    
    //$pdf->SetFont('Arial','',8);  
    
    $pdf->Cell(20*$con,4.5*$con,'Other:  ___________________________________',0,0,'L');
    $pdf->Cell(5*$con,4.5*$con,'',0,0,'L');
    $pdf->Cell(50*$con,4.5*$con,'','R',1,'L');

    //////////////////////////////////////////////

    $pdf->Cell(40*$con,4.5*$con,'CORDINATION','TRL',0,'L');
    $pdf->Cell(35*$con,4.5*$con,'','TRL',0,'L');
    $pdf->Cell(35*$con,4.5*$con,'','TRL',0,'L');
    $pdf->Cell(5*$con,4.5*$con,'',0,0,'L');
    $pdf->Cell(20*$con,4.5*$con,'',0,0,'L');
    $pdf->Cell(5*$con,4.5*$con,'',0,0,'L');
    $pdf->Cell(50*$con,4.5*$con,'','R',1,'L');

    //////////////////////////////////////////////

    $pdf->Cell(40*$con,4.5*$con,'Gross Motor','TRL',0,'L');
    $pdf->Cell(35*$con,4.5*$con,'','TRL',0,'L');
    if(@$otev->p1_adit_adl_func_cordina_gross_motor == 'W'){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x-55,$y+3,6,6);
    }
    $pdf->Cell(35*$con,4.5*$con,'','TRL',0,'L');
    if(@$otev->p1_adit_adl_func_cordina_gross_motor == 'I'){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x-55,$y+3,6,6);
    }
    $pdf->Cell(5*$con,4.5*$con,'',0,0,'L');
    $pdf->Cell(20*$con,4.5*$con,'',0,0,'L');
    $pdf->Cell(5*$con,4.5*$con,'',0,0,'L');
    $pdf->Cell(50*$con,4.5*$con,'','R',1,'L');

    //////////////////////////////////////////////

    $pdf->Cell(40*$con,4.5*$con,'Fine Motor','TRL',0,'L');
    $pdf->Cell(35*$con,4.5*$con,'','TRL',0,'L');
    if(@$otev->p1_adit_adl_func_cordina_fine_motor == 'W'){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x-55,$y+3,6,6);
    }
    $pdf->Cell(35*$con,4.5*$con,'','TRL',0,'L');
    if(@$otev->p1_adit_adl_func_cordina_fine_motor == 'I'){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x-55,$y+3,6,6);
    }
    $pdf->Cell(5*$con,4.5*$con,'',0,0,'L');
    $pdf->Cell(20*$con,4.5*$con,'',0,0,'L');
    $pdf->Cell(5*$con,4.5*$con,'',0,0,'L');
    $pdf->Cell(50*$con,4.5*$con,'','R',1,'L');

    //////////////////////////////////////////////

    $pdf->Cell(40*$con,4.5*$con,'BALANCE','TRL',0,'L');
    $pdf->Cell(35*$con,4.5*$con,'','TRL',0,'L');
    $pdf->Cell(35*$con,4.5*$con,'','TRL',0,'L');
    $pdf->Cell(5*$con,4.5*$con,'',0,0,'L');
    $pdf->Cell(20*$con,4.5*$con,'',0,0,'L');
    $pdf->Cell(5*$con,4.5*$con,'',0,0,'L');
    $pdf->Cell(50*$con,4.5*$con,'','R',1,'L');

    //////////////////////////////////////////////

    $pdf->Cell(40*$con,4.5*$con,'Static','TRL',0,'L');
    $pdf->Cell(35*$con,4.5*$con,'','TRL',0,'L');
    if(@$otev->p1_adit_adl_func_balan_static == 'W'){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x-55,$y+3,6,6);
    }
    $pdf->Cell(35*$con,4.5*$con,'','TRL',0,'L');
    if(@$otev->p1_adit_adl_func_balan_static == 'I'){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x-55,$y+3,6,6);
    }
    $pdf->Cell(5*$con,4.5*$con,'',0,0,'L');
    $pdf->Cell(20*$con,4.5*$con,'',0,0,'L');
    $pdf->Cell(5*$con,4.5*$con,'',0,0,'L');
    $pdf->Cell(50*$con,4.5*$con,'','R',1,'L');

    //////////////////////////////////////////////

    $pdf->Cell(40*$con,4.5*$con,'Dynamic','TRBL',0,'L');
    $pdf->Cell(35*$con,4.5*$con,'','TRBL',0,'L');
    if(@$otev->p1_adit_adl_func_balan_dynamic == 'W'){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x-55,$y+3,6,6);
    }
    $pdf->Cell(35*$con,4.5*$con,'','TRBL',0,'L');
    if(@$otev->p1_adit_adl_func_balan_dynamic == 'I'){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x-55,$y+3,6,6);
    }
    $pdf->Cell(5*$con,4.5*$con,'','B',0,'L');
    $pdf->Cell(20*$con,4.5*$con,'','B',0,'L');
    $pdf->Cell(5*$con,4.5*$con,'','B',0,'L');
    $pdf->Cell(50*$con,4.5*$con,'','BR',1,'L');

    $pdf->Text(511, 820, "      Page: 1 of ".$total_page);
    $pdf->Text(230, 820, "HomeHealthSoft Inc.   2006 � ".date("Y")." (c)");
    
    //////////////////////////////////////////////
    ////////////////PAGE - 2 start///////////////

    $pdf->AddPage();

    $pdf->SetFont('Arial','B',8);
    $pdf->Ln(10);

    //Checkboxes

    $pdf->Rect(130*$con,18.6*$con,3*$con,3*$con);//Medicare NA
    $pdf->Rect(168*$con,23.4*$con,3*$con,3*$con);//Certification

    //Treatment
    $pdf->Rect(12*$con,41.5*$con,3*$con,3*$con);//Evaluation
    $pdf->Rect(12*$con,46.5*$con,3*$con,3*$con);//ADL Training
    $pdf->Rect(12*$con,51.5*$con,3*$con,3*$con);//Transfer Training
    $pdf->Rect(12*$con,56.5*$con,3*$con,3*$con);//Musles Re-Edu
    $pdf->Rect(12*$con,61.5*$con,3*$con,3*$con);//Establish - upgrade
    $pdf->Rect(12*$con,66.5*$con,3*$con,3*$con);//Perceptual motor tarining
    $pdf->Rect(12*$con,71.5*$con,3*$con,3*$con);//Other

    $pdf->Rect(87*$con,41.2*$con,3*$con,3*$con);//Fine Motor Training
    $pdf->Rect(87*$con,46.2*$con,3*$con,3*$con);//Neuro Development Treatment
    $pdf->Rect(87*$con,51.2*$con,3*$con,3*$con);//Sensory Treatment
    $pdf->Rect(87*$con,56.2*$con,3*$con,3*$con);//Orthodontics/ Splinting
    $pdf->Rect(87*$con,61.2*$con,3*$con,3*$con);//Adaptive Equipment
    $pdf->Rect(87*$con,66.2*$con,3*$con,3*$con);//Other

    $pdf->Rect(12*$con,79.5*$con,3*$con,3*$con);//H & S
    $pdf->Rect(27*$con,79.5*$con,3*$con,3*$con);//Update
    $pdf->Rect(42*$con,79.5*$con,3*$con,3*$con);//Discharge Summary:

    $pdf->Rect(12*$con,126.5*$con,3*$con,3*$con);//Treatement Provided
    $pdf->Rect(47*$con,126.5*$con,3*$con,3*$con);//Plan of care

    $pdf->Rect(12*$con,173.5*$con,3*$con,3*$con);//Plan of care

    //Home bound status
    $pdf->Rect(12*$con,225.5*$con,3*$con,3*$con);//Considerable & taxing 
    $pdf->Rect(12*$con,230.5*$con,3*$con,3*$con);//Residual weakness 
    $pdf->Rect(12*$con,235.5*$con,3*$con,3*$con);//Confusion
    $pdf->Rect(117*$con,225.5*$con,3*$con,3*$con);//Requires assistance  
    $pdf->Rect(117*$con,230.5*$con,3*$con,3*$con);//Dependent upon adaptive  
    $pdf->Rect(117*$con,235.5*$con,3*$con,3*$con);//Other

    $cero_x = 11;
    $cero_y = 2;
    $pdf->SetFont('Arial','B',8);
    $pdf->Text(( $cero_x + 18),( $cero_y + 12+10 ), $agency->agency_name); // agency name
    
    $pdf->SetFont('Arial','',7);
    $pdf->Text(( $cero_x + 18),( $cero_y + 22+10 ),"Licensed and Certified Home Health Agency");
    
    //Basic Info
    $pdf->SetFont('Arial','B',8);
    $pdf->Cell(130*$con,4.5*$con,'OCCUPATIONAL THERAPY ASSESSMENT','TBL',0,'R');
    $pdf->Cell(10*$con,4.5*$con,'','TB',0,'C');
    $pdf->Cell(50*$con,4.5*$con,'VISIT DATE: '.standard_date(mysql_to_unix($visit_log->visit_date_time)),'TBR',1,'L');
    $pdf->SetFont('Arial','',10);
    $pdf->Cell(25*$con,4.5*$con,'Patient Name:','TBL',0,'L');
    $y = $pdf->GetY(); $x = $pdf->GetX(); 
    $pdf->SetFont('Arial','B', 8);
    $pdf->Text($x,$y+9, $patient->first_name . " " . $patient->last_name);    
    $pdf->SetFont('Arial','',10);  
    
    //$pdf->Cell(55*$con,4.5*$con,'','TB',0,'C');
    $pdf->Cell(46*$con,4.5*$con,'','TB',0,'C');
    //$pdf->Cell(20*$con,4.5*$con,'Medicare #: ','TB',0,'L');
    $pdf->Cell(29*$con,4.5*$con,'Medicare #: ','TB',0,'L');
    $y = $pdf->GetY(); $x = $pdf->GetX(); 
    $pdf->SetFont('Arial','B', 8);
    $pdf->Text($x,$y+9, $patient->medicare_id);    
    $pdf->SetFont('Arial','',10);  
    
    $pdf->Cell(20*$con,4.5*$con,'','TB',0,'C');
    if(is_null($patient->medicare_id)){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x+2,$y+3,6,6);
    }        
    $pdf->Cell(10*$con,4.5*$con,'NA','TB',0,'R'); 
    
    $pdf->Cell(30*$con,4.5*$con,'Med Rec #:','TB',0,'C');
    $y = $pdf->GetY(); $x = $pdf->GetX(); 
    $pdf->SetFont('Arial','B', 8);
    $pdf->Text($x,$y+9, $patient->medical_rec_nbr);    
    $pdf->SetFont('Arial','',10);  
    
    $pdf->Cell(30*$con,4.5*$con,'','TBR',1,'C');

    $pdf->Cell(25*$con,4.5*$con,'Primary DX:','TBL',0,'L');
    $y = $pdf->GetY(); $x = $pdf->GetX(); 
    $pdf->SetXY($x-10, $y);
    $pdf->SetFont('Arial','',8);  
    $pdf->MultiCell(150, 12, substr(@$otev->primary_diag, 0, 30));
    $pdf->SetXY($x, $y);  
    $pdf->SetFont('Arial','',10);  
    
    //$pdf->Cell(55*$con,4.5*$con,'','TB',0,'C');
    $pdf->Cell(46*$con,4.5*$con,'','TB',0,'C');
    //$pdf->Cell(20*$con,4.5*$con,'Date:','TB',0,'L');
    $pdf->Cell(29*$con,4.5*$con,'Date:','TB',0,'L');
    $y = $pdf->GetY(); $x = $pdf->GetX(); 
    $pdf->SetFont('Arial','B', 8);
    $pdf->Text($x,$y+9, (!is_null(@$otev->primary_diag_date) ? standard_date(mysql_to_unix(@$otev->primary_diag_date)) : ""));    
    $pdf->SetFont('Arial','',10);  
    
    $pdf->Cell(20*$con,4.5*$con,'','TB',0,'C');
    $pdf->Cell(10*$con,4.5*$con,'SOC:','TB',0,'L');
    $y = $pdf->GetY(); $x = $pdf->GetX(); 
    $pdf->SetFont('Arial','B', 8);
    $pdf->Text($x,$y+9, standard_date(mysql_to_unix($visit_log->estimated_soc_date)));    
    $pdf->SetFont('Arial','',10);  
    
    $pdf->Cell(25*$con,4.5*$con,'','TB',0,'C');
    $pdf->Cell(35*$con,4.5*$con,'Certification','TBR',1,'C');

    $pdf->Cell(25*$con,4.5*$con,'Secondary DX:','TBL',0,'L');
    $y = $pdf->GetY(); $x = $pdf->GetX(); 
    $pdf->SetXY($x-4, $y);
    $pdf->SetFont('Arial','',8);  
    $pdf->MultiCell(150, 12, substr(@$otev->secondary_diag, 0, 30));
    $pdf->SetXY($x, $y);  
    $pdf->SetFont('Arial','',10);  
    
    //$pdf->Cell(55*$con,4.5*$con,'','TB',0,'C');
    $pdf->Cell(46*$con,4.5*$con,'','TB',0,'C');
    //$pdf->Cell(20*$con,4.5*$con,'Date:','TB',0,'L');
    $pdf->Cell(29*$con,4.5*$con,'Date:','TB',0,'L');
    $y = $pdf->GetY(); $x = $pdf->GetX(); 
    $pdf->SetFont('Arial','B', 8);
    $pdf->Text($x,$y+9, (!is_null(@$otev->secondary_diag_date) ? standard_date(mysql_to_unix(@$otev->secondary_diag_date)) : "") );        
    $pdf->SetFont('Arial','',8);  
    
    $pdf->Cell(20*$con,4.5*$con,'','TB',0,'C');
    $pdf->Cell(10*$con,4.5*$con,'From:','TB',0,'L');
    $y = $pdf->GetY(); $x = $pdf->GetX(); 
    $pdf->SetFont('Arial','B', 8);
    $pdf->Text($x,$y+9, standard_date(mysql_to_unix($visit_log->episode_start_date)) );    
    $pdf->SetFont('Arial','',10);  
    
    $pdf->Cell(25*$con,4.5*$con,'','TB',0,'C');
    $pdf->Cell(15*$con,4.5*$con,'To:','TB',0,'L');
    $y = $pdf->GetY(); $x = $pdf->GetX(); 
    $pdf->SetFont('Arial','B', 8);
    $pdf->Text($x,$y+9, standard_date(mysql_to_unix($visit_log->episode_end_date)) );    
    $pdf->SetFont('Arial','',10);  
    
    $pdf->Cell(20*$con,4.5*$con,'','TBR',1,'C');

    $pdf->Cell(25*$con,4.5*$con,'Physician:','TBL',0,'L');
    $y = $pdf->GetY(); $x = $pdf->GetX(); 
    $pdf->SetFont('Arial','B', 8);
    $pdf->Text($x,$y+9, @$phys_user_id->complete_name );    
    $pdf->SetFont('Arial','',10);  
    
    //$pdf->Cell(55*$con,4.5*$con,'','TB',0,'C');
    $pdf->Cell(46*$con,4.5*$con,'','TB',0,'C');
    //$pdf->Cell(20*$con,4.5*$con,'Clinician:','TB',0,'L');
    $pdf->Cell(2*$con,4.5*$con,'Clinician:','TB',0,'L');
    $pdf->Cell(13*$con,4.5*$con, '','TB',0,'L');
    $pdf->Cell(34*$con,4.5*$con, $visit_log->first_name . " " .  $visit_log->last_name,'TB',0,'L');
    $pdf->Cell(10*$con,4.5*$con,'Time in:','TB',0,'L');
    $y = $pdf->GetY(); $x = $pdf->GetX(); 
    $pdf->SetFont('Arial','B', 8);
    $pdf->Text($x+15,$y+9, standard_date(mysql_to_unix($visit_log->visited_date . " " . $visit_log->visited_time_in), 'USA_TIME_C') );    
    $pdf->SetFont('Arial','',10);  
    
    $pdf->Cell(25*$con,4.5*$con,'','TB',0,'C');
    $pdf->Cell(15*$con,4.5*$con,'Time Out:','TB',0,'L');
    $y = $pdf->GetY(); $x = $pdf->GetX(); 
    $pdf->SetFont('Arial','B', 8);
    $pdf->Text($x+5,$y+9, standard_date(mysql_to_unix($visit_log->visited_date . " " . $visit_log->visited_time_out), 'USA_TIME_C') );    
    $pdf->SetFont('Arial','',8);  
    
    $pdf->Cell(20*$con,4.5*$con,'','TBR',1,'C');

    //TREATMENT

    $pdf->Cell(190*$con,5*$con,'TREATMENT','TRL',1,'L');

    $pdf->Cell(5*$con,5*$con,'','L',0,'C');
    if(@$otev->p2_treat_evaluation == 1){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x-7,$y+3,6,6);
    }
    $pdf->Cell(30*$con,5*$con,'Evaluation',0,0,'L');
    
    $pdf->Cell(40*$con,5*$con,'',0,0,'C');
    $pdf->Cell(5*$con,5*$con,'',0,0,'C');
    if(@$otev->p2_treat_fine_mot_trai == 1){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x-7,$y+2,6,6);
    }
    $pdf->Cell(30*$con,5*$con,'Fine Motor Training',0,0,'L');
    $pdf->Cell(80*$con,5*$con,'','R',1,'C');
    $pdf->Cell(5*$con,5*$con,'','L',0,'C');
    if(@$otev->p2_treat_adl_train == 1){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x-7,$y+3,6,6);
    }
    $pdf->Cell(30*$con,5*$con,'ADL Training',0,0,'L');
    $pdf->Cell(40*$con,5*$con,'',0,0,'C');
    $pdf->Cell(5*$con,5*$con,'',0,0,'C');
    if(@$otev->p2_treat_neu_devel_treat == 1){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x-7,$y+2,6,6);
    }
    $pdf->Cell(30*$con,5*$con,'Neuro Development Treatment',0,0,'L');
    $pdf->Cell(80*$con,5*$con,'','R',1,'C');

    $pdf->Cell(5*$con,5*$con,'','L',0,'C');
    if(@$otev->p2_treat_trans_trai == 1){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x-7,$y+3,6,6);
    }
    $pdf->Cell(30*$con,5*$con,'Transfer Training',0,0,'L');
    $pdf->Cell(40*$con,5*$con,'',0,0,'C');
    $pdf->Cell(5*$con,5*$con,'',0,0,'C');
    if(@$otev->p2_treat_sens_treat == 1){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x-7,$y+2,6,6);
    }
    $pdf->Cell(30*$con,5*$con,'Sensory Treatment',0,0,'L');
    $pdf->Cell(80*$con,5*$con,'','R',1,'C');

    $pdf->Cell(5*$con,5*$con,'','L',0,'C');
    if(@$otev->p2_treat_muscle_reeduc == 1){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x-7,$y+3,6,6);
    }
    $pdf->Cell(30*$con,5*$con,'Muscle Re-Education',0,0,'L');
    $pdf->Cell(40*$con,5*$con,'',0,0,'C');
    $pdf->Cell(5*$con,5*$con,'',0,0,'C');
    if(@$otev->p2_treat_orth_splin == 1){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x-7,$y+2,6,6);
    }
    $pdf->Cell(30*$con,5*$con,'Orthodontics/ Splinting',0,0,'L');
    $pdf->Cell(80*$con,5*$con,'','R',1,'C');

    $pdf->Cell(5*$con,5*$con,'','L',0,'C');
    if(@$otev->p2_treat_esta_hep == 1){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x-7,$y+3,6,6);
    }
    $pdf->Cell(30*$con,5*$con,'Establish HEP',0,0,'L');
    $pdf->Cell(40*$con,5*$con,'',0,0,'C');
    $pdf->Cell(5*$con,5*$con,'',0,0,'C');
    //if(@$otev->p2_treat_hom_prog_adap_equi == 1){
    if(@$otev->p2_treat_upgrade_hep == 1){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x-7,$y+2,6,6);
    }
    //$pdf->Cell(30*$con,5*$con,'Adaptive Equipment',0,0,'L');
    $pdf->Cell(30*$con,5*$con,'Upgrade HEP',0,0,'L');
    $pdf->Cell(80*$con,5*$con,'','R',1,'C');

    $pdf->Cell(5*$con,5*$con,'','L',0,'C');
    //if(@$otev->p2_treat_percep_mot_trai == 1){
    if(@$otev->p2_treat_hom_prog_adap_equi == 1){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x-7,$y+3,6,6);
    }
    //$pdf->Cell(30*$con,5*$con,'Perceptual Motor Training',0,0,'L');
    $pdf->Cell(30*$con,5*$con,'Adaptive Equipment',0,0,'L');
    $pdf->Cell(40*$con,5*$con,'',0,0,'C');
    
    $pdf->Cell(5*$con,5*$con,'',0,0,'C');    
    if(@$otev->p2_treat_percep_mot_trai == 1){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x-7,$y+2,6,6);
    }    
    $pdf->Cell(30*$con,5*$con,'Perceptual Motor Training',0,0,'L');
    $pdf->Cell(80*$con,5*$con,'','R',1,'C');
    
    
    $pdf->Cell(5*$con,5*$con,'','L',0,'C');
    if(@$otev->p2_treat_other == 1){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x-7,$y+3,6,6);
    }
    $pdf->Cell(10*$con,5*$con,'Other:',0,0,'L');
    
    $y = $pdf->GetY(); $x = $pdf->GetX(); 
    //$pdf->SetFont('Arial','B', 8);
    $pdf->Text($x+5,$y+8, @$otev->p2_treat_other_desc );    
    //$pdf->SetFont('Arial','',8);  
    $pdf->Cell(175*$con,5*$con,'_______________________________________________','R',1,'L');

    $pdf->Cell(190*$con,3*$con,'','LBR',1,'C');

    $pdf->Cell(5*$con,5*$con,'','L',0,'L'); 
    if(@$otev->p2_h_s == 1){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x-7,$y+3,6,6);
    }
    $pdf->Cell(10*$con,5*$con,'H & S',0,0,'L');
    $pdf->Cell(5*$con,5*$con,'',0,0,'L');
    if(@$otev->p2_update > 0){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x-7,$y+3,6,6);
    }
    $pdf->Cell(10*$con,5*$con,'Update',0,0,'L');
    $pdf->Cell(5*$con,5*$con,'',0,0,'L');
    if(@$otev->p2_discharge_summary == 1){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x-7,$y+3,6,6);
    }
    $pdf->Cell(155*$con,5*$con,'Discharge Summary:','R',1,'L');
    ////////////////////////////////////////////////
    if(strlen(@$otev->p2_h_s_udt_dc_summ_desc) > 1100)
    {
      @$otev->p2_h_s_udt_dc_summ_desc = substr(@$otev->p2_h_s_udt_dc_summ_desc, 0, 1100);
    }
    $texts[] = @$otev->p2_h_s_udt_dc_summ_desc;
    if(strlen(@$otev->p2_h_s_udt_dc_summ_desc) > 145){
      $texts = array();
      $newtext = wordwrap(@$otev->p2_h_s_udt_dc_summ_desc, 145, "\n", true);
      $texts = explode("\n",$newtext);
    }
      
    $y = $pdf->GetY(); $x = $pdf->GetX();     
    $pdf->Text($x+10,$y+8, @$texts[0] );        
    
    $pdf->Cell(190*$con,6*$con,'_____________________________________________________________________________________________________________________','LR',1,'C');
    $y = $pdf->GetY(); $x = $pdf->GetX();     
    $pdf->Text($x+10,$y+8, @$texts[1] );        
    $pdf->Cell(190*$con,6*$con,'_____________________________________________________________________________________________________________________','LR',1,'C');
    $y = $pdf->GetY(); $x = $pdf->GetX();     
    $pdf->Text($x+10,$y+8, @$texts[2] );        
    $pdf->Cell(190*$con,6*$con,'_____________________________________________________________________________________________________________________','LR',1,'C');
    $y = $pdf->GetY(); $x = $pdf->GetX();     
    $pdf->Text($x+10,$y+8, @$texts[3] );        
    $pdf->Cell(190*$con,6*$con,'_____________________________________________________________________________________________________________________','LR',1,'C');
    $y = $pdf->GetY(); $x = $pdf->GetX();     
    $pdf->Text($x+10,$y+8, @$texts[4] );        
    $pdf->Cell(190*$con,6*$con,'_____________________________________________________________________________________________________________________','LR',1,'C');
    $y = $pdf->GetY(); $x = $pdf->GetX();     
    $pdf->Text($x+10,$y+8, @$texts[5] );        
    $pdf->Cell(190*$con,6*$con,'_____________________________________________________________________________________________________________________','LR',1,'C');
    $pdf->Cell(190*$con,6*$con,'','LBR',1,'C');

    /////////////////////////////////////////////////////    
    $pdf->Cell(5*$con,5*$con,'','L',0,'L');
    if(@$otev->p2_treat_plan == 1){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x-7,$y+3,6,6);
    }
    $pdf->Cell(30*$con,5*$con,'Treatment Provided',0,0,'L');
    $pdf->Cell(5*$con,5*$con,'',0,0,'L');
    if(@$otev->p2_plan_of_care == 1){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x-7,$y+3,6,6);
    }
    $pdf->Cell(150*$con,5*$con,'Plan of Care:','R',1,'L');

    /////////////////////////////////////////////////////
    $texts = array();
    if(strlen(@$otev->p2_trat_plan_plan_of_care_desc) > 1100)
    {
      @$otev->p2_trat_plan_plan_of_care_desc = substr(@$otev->p2_trat_plan_plan_of_care_desc, 0, 1100);
    }
    $texts[] = @$otev->p2_trat_plan_plan_of_care_desc;
    if(strlen(@$otev->p2_trat_plan_plan_of_care_desc) > 175){
      $texts = array();
      $newtext = wordwrap(@$otev->p2_trat_plan_plan_of_care_desc, 175, "\n", true);
      $texts = explode("\n",$newtext);
    }
    
    $y = $pdf->GetY(); $x = $pdf->GetX();     
    $pdf->Text($x+10,$y+8, @$texts[0] );            
    $pdf->Cell(190*$con,6*$con,'_____________________________________________________________________________________________________________________','LR',1,'C');
    $y = $pdf->GetY(); $x = $pdf->GetX();     
    $pdf->Text($x+10,$y+8, @$texts[1] );            
    $pdf->Cell(190*$con,6*$con,'_____________________________________________________________________________________________________________________','LR',1,'C');
    $y = $pdf->GetY(); $x = $pdf->GetX();     
    $pdf->Text($x+10,$y+8, @$texts[2] );            
    $pdf->Cell(190*$con,6*$con,'_____________________________________________________________________________________________________________________','LR',1,'C');
    $y = $pdf->GetY(); $x = $pdf->GetX();     
    $pdf->Text($x+10,$y+8, @$texts[3] );            
    $pdf->Cell(190*$con,6*$con,'_____________________________________________________________________________________________________________________','LR',1,'C');
    $y = $pdf->GetY(); $x = $pdf->GetX();     
    $pdf->Text($x+10,$y+8, @$texts[4] );            
    $pdf->Cell(190*$con,6*$con,'_____________________________________________________________________________________________________________________','LR',1,'C');
    $y = $pdf->GetY(); $x = $pdf->GetX();     
    $pdf->Text($x+10,$y+8, @$texts[5] );            
    $pdf->Cell(190*$con,6*$con,'_____________________________________________________________________________________________________________________','LR',1,'C');


    $pdf->Cell(190*$con,6*$con,'','LBR',1,'C');

    /////////////////////////////////////////////////////

    $pdf->Cell(5*$con,5*$con,'','L',0,'L');
    if(@$otev->p2_goal == 1){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x-7,$y+3,6,6);
    }
    $pdf->Cell(185*$con,5*$con,'Goals:','R',1,'L');

    /////////////////////////////////////////////////////

    $texts = array();
    if(strlen(@$otev->p2_goals_desc) > 1100)
    {
      @$otev->p2_goals_desc = substr(@$otev->p2_goals_desc, 0, 1100);
    }
    $texts[] = @$otev->p2_goals_desc;
    if(strlen(@$otev->p2_goals_desc) > 170){
      $texts = array();
      $newtext = wordwrap(@$otev->p2_goals_desc, 170, "\n", true);
      $texts = explode("\n",$newtext);
    }
    
    $y = $pdf->GetY(); $x = $pdf->GetX();     
    $pdf->Text($x+10,$y+8, @$texts[0] );            
    $pdf->Cell(190*$con,6*$con,'_____________________________________________________________________________________________________________________','LR',1,'C');
    $y = $pdf->GetY(); $x = $pdf->GetX();     
    $pdf->Text($x+10,$y+8, @$texts[1] );            
    $pdf->Cell(190*$con,6*$con,'_____________________________________________________________________________________________________________________','LR',1,'C');
    $y = $pdf->GetY(); $x = $pdf->GetX();     
    $pdf->Text($x+10,$y+8, @$texts[2] );            
    $pdf->Cell(190*$con,6*$con,'_____________________________________________________________________________________________________________________','LR',1,'C');
    $y = $pdf->GetY(); $x = $pdf->GetX();     
    $pdf->Text($x+10,$y+8, @$texts[3] );            
    $pdf->Cell(190*$con,6*$con,'_____________________________________________________________________________________________________________________','LR',1,'C');
    $y = $pdf->GetY(); $x = $pdf->GetX();     
    $pdf->Text($x+10,$y+8, @$texts[4] );            
    $pdf->Cell(190*$con,6*$con,'_____________________________________________________________________________________________________________________','LR',1,'C');
    $y = $pdf->GetY(); $x = $pdf->GetX();     
    $pdf->Text($x+10,$y+8, @$texts[5] );            
    $pdf->Cell(190*$con,6*$con,'_____________________________________________________________________________________________________________________','LR',1,'C');

    $pdf->Cell(190*$con,6*$con,'','LBR',1,'C');

    /////////////////////////////////////////////////////

    ////////////////////////////////////////////////////

    $pdf->Cell(190*$con,5*$con,'HOME BOUND STATUS','LR',1,'L');

    /////////////////////////////////////////////////////

    $pdf->Cell(5*$con,5*$con,'','L',0,'C');
    if(@$otev->p2_home_consider == 1){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x-7,$y+3,6,6);
    }
    $pdf->Cell(100*$con,5*$con,'Considerable & taxing effort to leave home',0,0,'L');
    $pdf->Cell(5*$con,5*$con,'',0,0,'C');
    if(@$otev->p2_home_req_assis == 1){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x-7,$y+3,6,6);
    }
    $pdf->Cell(80*$con,5*$con,'Requires assistance to ambulate','R',1,'L');

    /////////////////////////////////////////////////////

    $pdf->Cell(5*$con,5*$con,'','L',0,'C');
    if(@$otev->p2_home_resid == 1){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x-7,$y+3,6,6);
    }
    $pdf->Cell(100*$con,5*$con,'Residual weakness',0,0,'L');
    $pdf->Cell(5*$con,5*$con,'',0,0,'C');
    if(@$otev->p2_home_depen == 1){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x-7,$y+3,6,6);
    }
    $pdf->Cell(80*$con,5*$con,'Dependent upon adaptive / assistance device','R',1,'L');

    /////////////////////////////////////////////////////

    $pdf->Cell(5*$con,5*$con,'','L',0,'C');
    if(@$otev->p2_home_confu == 1){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x-7,$y+3,6,6);
    }
    $pdf->Cell(100*$con,5*$con,'Confusion, unable to go out alone',0,0,'L');
    $pdf->Cell(5*$con,5*$con,'',0,0,'C');
    if(@$otev->p2_home_other == 1){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x-7,$y+3,6,6);
    }
    $y = $pdf->GetY(); $x = $pdf->GetX();     
    $pdf->Text($x+30,$y+8, @$otev->p2_home_other_desc );        
    $pdf->Cell(80*$con,5*$con,'Other:  _________________________________________','R',1,'L');

    /////////////////////////////////////////////////////

    $pdf->Cell(190*$con,4*$con,'','LBR',1,'C');

    ////////////////////////////////////////////////////

    $pdf->Cell(190*$con,4*$con,'','LR',1,'C');
    $y = $pdf->GetY(); $x = $pdf->GetX();     
    $pdf->Text($x+120,$y+8-8, @$otev->freq_duration );        
    $pdf->Cell(190*$con,(4*$con)-15,'FREQUENCY/DURATION:  __________________________________________________________________________________________','LR',1,'C');
    $pdf->Cell(190*$con,(4*$con)+15,'','LR',1,'C');
    //////////////////////////////////////////////////

    if($total_page == 2){
      $pdf->Cell(5*$con,.2*$con,'','L',0,'C');
      $pdf->Cell(180*$con,.2*$con,'',1,0,'C');
      $pdf->Cell(5*$con,.2*$con,'','R',1,'C');

      /////////////////////////////////////////////////      
      if ($visit_log->sent_to_approve_date) {                              
        $pdf->Text(45, 710+10, "ELECTRONICALLY SIGNED BY " . $assigned_to -> first_name." ".$assigned_to -> last_name);
        $pdf->Text(265, 710+10, standard_date(mysql_to_unix($visit_log->visit_date_time)));
      }
      
      $pdf->Cell(5*$con,6*$con,'','LB',0,'C');
      $pdf->Cell(20*$con,6*$con,'Therapist:','B',0,'L');      
      $pdf->Cell(60*$con,6*$con,'','B',0,'L');
      $pdf->Cell(10*$con,6*$con,'Date','B',0,'L');      
      $pdf->Cell(15*$con,6*$con,'','B',0,'L');
      $pdf->Cell(20*$con,6*$con,'Physician:','B',0,'L');      
      $pdf->Cell(45*$con,6*$con,'','B',0,'L');
      $pdf->Cell(10*$con,6*$con,'Date','B',0,'L');      
      $pdf->Cell(5*$con,6*$con,'','BR',1,'L');
    }else{
      $pdf->Cell(5*$con,6*$con,'','LB',0,'C');
      $pdf->Cell(20*$con,6*$con,'','B',0,'L');
      $pdf->Cell(35*$con,6*$con,'','B',0,'L');
      $pdf->Cell(10*$con,6*$con,'','B',0,'L');
      $pdf->Cell(30*$con,6*$con,'','B',0,'L');
      $pdf->Cell(20*$con,6*$con,'','B',0,'L');
      $pdf->Cell(35*$con,6*$con,'','B',0,'L');
      $pdf->Cell(10*$con,6*$con,'','B',0,'L');
      $pdf->Cell(25*$con,6*$con,'','BR',1,'L');
    }
    
    $pdf->Text(511, 820, "      Page: 2 of ".$total_page);
    $pdf->Text(230, 820, "HomeHealthSoft Inc.   2006 � ".date("Y")." (c)");
    
    if($total_page == 3){
      ##########
  		# Page 3 #
  		##########
  		
  		$cero_y = 2;
  		$cero_x = 11;
  		$pdf->AddPage();
       
      $pdf->Rect(8+20,28+10, 577-38, 770);
      
      $pdf->SetFont('Arial','B',8);
      $pdf->Ln(10);

      //Checkboxes

      $pdf->Rect(130*$con,18.6*$con,3*$con,3*$con);//Medicare NA
      $pdf->Rect(168*$con,23.4*$con,3*$con,3*$con);//Certification
      
      
      $pdf->SetFont('Arial','B',8);
      $pdf->Text(( $cero_x + 18),( $cero_y + 12+10 ), $agency->agency_name); // agency name
      
      $pdf->SetFont('Arial','',7);
      $pdf->Text(( $cero_x + 18),( $cero_y + 22+10 ),"Licensed and Certified Home Health Agency");
      
      //Basic Info
      $pdf->SetFont('Arial','B',8);
      $pdf->Cell(130*$con,4.5*$con,'OCCUPATIONAL THERAPY ASSESSMENT','TBL',0,'R');
      $pdf->Cell(10*$con,4.5*$con,'','TB',0,'C');
      $pdf->Cell(50*$con,4.5*$con,'VISIT DATE: '.standard_date(mysql_to_unix($visit_log->visit_date_time)),'TBR',1,'L');
      $pdf->SetFont('Arial','',8);
      $pdf->Cell(25*$con,4.5*$con,'Patient Name:','TBL',0,'L');
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->SetFont('Arial','B', 8);
      $pdf->Text($x,$y+9, $patient->first_name . " " . $patient->last_name);    
      $pdf->SetFont('Arial','',8);  
      
      //$pdf->Cell(55*$con,4.5*$con,'','TB',0,'C');
      $pdf->Cell(46*$con,4.5*$con,'','TB',0,'C');
      //$pdf->Cell(20*$con,4.5*$con,'Medicare #: ','TB',0,'L');
      $pdf->Cell(29*$con,4.5*$con,'Medicare #: ','TB',0,'L');
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->SetFont('Arial','B', 8);
      $pdf->Text($x,$y+9, $patient->medicare_id);    
      $pdf->SetFont('Arial','',8);  
      
      $pdf->Cell(20*$con,4.5*$con,'','TB',0,'C');
      if(is_null($patient->medicare_id)){
        $y = $pdf->GetY(); $x = $pdf->GetX(); 
        $pdf->Image( $path_ticket, $x+2,$y+3,6,6);
      }        
      $pdf->Cell(10*$con,4.5*$con,'NA','TB',0,'R'); 
      
      $pdf->Cell(30*$con,4.5*$con,'Med Rec #:','TB',0,'C');
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->SetFont('Arial','B', 8);
      $pdf->Text($x,$y+9, $patient->medical_rec_nbr);    
      $pdf->SetFont('Arial','',8);  
      
      $pdf->Cell(30*$con,4.5*$con,'','TBR',1,'C');

      $pdf->Cell(25*$con,4.5*$con,'Primary DX:','TBL',0,'L');
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->SetXY($x-2, $y);
      $pdf->MultiCell(140, 12, substr(@$otev->primary_diag, 0, 30));
      $pdf->SetXY($x, $y);  
      
      //$pdf->Cell(55*$con,4.5*$con,'','TB',0,'C');
      $pdf->Cell(46*$con,4.5*$con,'','TB',0,'C');
      //$pdf->Cell(20*$con,4.5*$con,'Date:','TB',0,'L');
      $pdf->Cell(29*$con,4.5*$con,'Date:','TB',0,'L');
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->SetFont('Arial','B', 8);
      $pdf->Text($x,$y+9, (!is_null(@$otev->primary_diag_date) ? standard_date(mysql_to_unix(@$otev->primary_diag_date)) : ""));    
      $pdf->SetFont('Arial','',8);  
      
      $pdf->Cell(20*$con,4.5*$con,'','TB',0,'C');
      $pdf->Cell(10*$con,4.5*$con,'SOC:','TB',0,'L');
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->SetFont('Arial','B', 8);
      $pdf->Text($x,$y+9, standard_date(mysql_to_unix($visit_log->estimated_soc_date)));    
      $pdf->SetFont('Arial','',8);  
      
      $pdf->Cell(25*$con,4.5*$con,'','TB',0,'C');
      $pdf->Cell(35*$con,4.5*$con,'Certification','TBR',1,'C');

      $pdf->Cell(25*$con,4.5*$con,'Secondary DX:','TBL',0,'L');
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->SetXY($x-2, $y);
      $pdf->MultiCell(140, 12, substr(@$otev->secondary_diag, 0, 30));
      $pdf->SetXY($x, $y);  
      
      //$pdf->Cell(55*$con,4.5*$con,'','TB',0,'C');
      $pdf->Cell(46*$con,4.5*$con,'','TB',0,'C');
      //$pdf->Cell(20*$con,4.5*$con,'Date:','TB',0,'L');
      $pdf->Cell(29*$con,4.5*$con,'Date:','TB',0,'L');
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->SetFont('Arial','B', 8);
      $pdf->Text($x,$y+9, (!is_null(@$otev->secondary_diag_date) ? standard_date(mysql_to_unix(@$otev->secondary_diag_date)) : "") );          
      $pdf->SetFont('Arial','',8);  
      
      $pdf->Cell(20*$con,4.5*$con,'','TB',0,'C');
      $pdf->Cell(10*$con,4.5*$con,'From:','TB',0,'L');
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->SetFont('Arial','B', 8);
      $pdf->Text($x,$y+9, standard_date(mysql_to_unix($visit_log->episode_start_date)) );    
      $pdf->SetFont('Arial','',8);  
      
      $pdf->Cell(25*$con,4.5*$con,'','TB',0,'C');
      $pdf->Cell(15*$con,4.5*$con,'To:','TB',0,'L');
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->SetFont('Arial','B', 8);
      $pdf->Text($x,$y+9, standard_date(mysql_to_unix($visit_log->episode_end_date)) );    
      $pdf->SetFont('Arial','',8);  
      
      $pdf->Cell(20*$con,4.5*$con,'','TBR',1,'C');

      $pdf->Cell(25*$con,4.5*$con,'Physician:','TBL',0,'L');
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->SetFont('Arial','B', 8);
      $pdf->Text($x,$y+9, @$phys_user_id->complete_name );    
      $pdf->SetFont('Arial','',8);  
      
      //$pdf->Cell(55*$con,4.5*$con,'','TB',0,'C');
      $pdf->Cell(46*$con,4.5*$con,'','TB',0,'C');
      //$pdf->Cell(20*$con,4.5*$con,'Clinician:','TB',0,'L');
      $pdf->Cell(2*$con,4.5*$con,'Clinician:','TB',0,'L');
      $pdf->Cell(13*$con,4.5*$con, '','TB',0,'L');
    $pdf->Cell(34*$con,4.5*$con, $visit_log->first_name . " " .  $visit_log->last_name,'TB',0,'L');
      $pdf->Cell(10*$con,4.5*$con,'Time in:','TB',0,'L');
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->SetFont('Arial','B', 8);
      $pdf->Text($x+5,$y+9, standard_date(mysql_to_unix($visit_log->visited_date . " " . $visit_log->visited_time_in), 'USA_TIME_C') );    
      $pdf->SetFont('Arial','',8);  
      
      $pdf->Cell(25*$con,4.5*$con,'','TB',0,'C');
      $pdf->Cell(15*$con,4.5*$con,'Time Out:','TB',0,'L');
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->SetFont('Arial','B', 8);
      $pdf->Text($x,$y+9, standard_date(mysql_to_unix($visit_log->visited_date . " " . $visit_log->visited_time_out), 'USA_TIME_C') );    
      $pdf->SetFont('Arial','',8);  
      
      $pdf->Cell(20*$con,4.5*$con,'','TBR',1,'C');
      
      /*********************** End of Banner *************************/
      $cero_y = 20;
      $cero_x += 20;
      $cero_y =$cero_y+5;
      //$pdf->SetLineWidth( 0.9 );
      //$pdf->Line(8+20, 95+$cero_y, 584-17, 95+$cero_y);
      
      /************************ page content goes now ***********************/
      /************************ page footer content goes now ***********************/
      
      $__FONT['PDF']['SIZE'] = 9;
      $__FONT['PDF']['FORM_MEDIUM'] = 10;
      $__FONT['PDF']['FORM_SMALL'] = 9;
      $__FONT['PDF']['FORM_SMALL2'] = 9;
      $__FONT['PDF']['FORM_SMALL3'] = 6.5;
      $__FONT['PDF']['FORM_SMALL4'] = 9.5;
      $__FONT['PDF']['FORM_arial8'] = 9.5;
      
      $pdf->SetFont('Arial','',$__FONT['PDF']['FORM_SMALL']);
      
      $pdf->Line(8+20, 745, 584-17, 745);
      
  		$pdf->Text(13+20, 770, "Therapist: ____________________________________________________");
  		$pdf->Text(400, 770, "Date: ___________________");
  		
  		$pdf->Text(13+20, 790, "Physician: ____________________________________________________");
  		$pdf->Text(400, 790, "Date: ___________________");

  	
  		$pdf->SetFont('Courier','B',$__FONT['PDF']['FORM_MEDIUM']);
  		
  		if ($visit_log->sent_to_approve_date) {
  			$pdf->Text(60+20, 770, "ELECTRONICALLY SIGNED BY " . $assigned_to -> first_name." ".$assigned_to -> last_name);
  			$pdf->Text(430, 770, standard_date(mysql_to_unix($visit_log->visit_date_time)));
  		}
      
    
    
    $cero_y += 16;
    $cero_y += 26;
    $line_need = 0;
      if(@$otev->ther_na ==1 ){
        $cero_y += 16;
        // do not need to print anything
      }else if(@$otev->ther_name != null || @$otev->ther_implem_plan != null  || @$otev->ther_follow_plan != null || @$otev->ther_raport_pat_fam != null || @$otev->ther_eval_plan != null || @$otev->ther_notes != null)
      {
          $therapy_supervisory = 1;  // position will be less 434
          $pdf->SetLineWidth( 0.9 );
          //$pdf->Line(( $cero_x - 3) , ($cero_y + 46), ( $cero_x + 573 ), ($cero_y + 46));
          
          $cero_y += 10;
          
          $pdf->SetFont('Arial','',9);
          $pdf->Text(( $cero_x ),( $cero_y + 46 ),"THERAPY SUPERVISORY COMMUNICATION REPORT"); 
          
          $pdf->SetLineWidth( 0.5 );
          $pdf->Rect(( $cero_x + 290), ($cero_y  + 39 ), 8.4, 8.4);
          $pdf->Text(( $cero_x + 302),( $cero_y + 46 ), "N/A");
          if (@$otev->ther_na == 1) {
              $pdf->Image( $path_ticket, ( $cero_x + 291),($cero_y + 40), 6);
          }
          
          $pdf->Text(( $cero_x ),( $cero_y + 56 ),"Name of Therapist being Evaluated:");
          
          $pdf->SetFont('Arial','',9);
          @$ther_name   	= $this->usagymdl->getByUsAgyId($otev->ther_name);
          $pdf->Text(( $cero_x + 150 ),( $cero_y + 56 ), @$ther_name->complete_name);
          $pdf->Line(( $cero_x + 149),($cero_y + 57), ( $cero_x + 260 ), ($cero_y + 57));
          
          $pdf->SetFont('Arial','',9);
          $pdf->Text(( $cero_x ),( $cero_y + 66 ),"Asses the Following Areas of Care:");
          

          $pdf->Text(( $cero_x + 250),( $cero_y + 66 ),"Followed Plan of Care?");
          
          $pdf->Rect(( $cero_x + 447),($cero_y  + 59 ), 8.4, 8.4);
          if (@$otev->ther_follow_plan == 1) {
              $pdf->Image( $path_ticket, ( $cero_x + 448),($cero_y + 60), 6);
          }
          $pdf->Text(( $cero_x + 457),( $cero_y + 66 ),"Yes");

          
          $pdf->Rect(( $cero_x + 490),($cero_y  + 59 ), 8.4, 8.4);
          /*if ((@$otev->ther_follow_plan == 0) and (@$otev->ther_na == 0)) {
              $pdf->Image( $path_ticket, ( $cero_x + 491),($cero_y + 60), 6);
          }*/
          $pdf->Text(( $cero_x + 500),( $cero_y + 66 ),"No");
          
          
          
          $pdf->Text(( $cero_x + 250),( $cero_y + 76 ),"Demonstrated good rapport with patient/family?");
          
          $pdf->Rect(( $cero_x + 447),($cero_y  + 69 ), 8.4, 8.4);
          if (@$otev->ther_raport_pat_fam == 1) {
              $pdf->Image( $path_ticket, ( $cero_x + 448),($cero_y + 70), 6);
          }
          $pdf->Text(( $cero_x + 457),( $cero_y + 76 ),"Yes");

          
          $pdf->Rect(( $cero_x + 490),($cero_y  + 69 ), 8.4, 8.4);
          /*if ((@$otev->ther_raport_fam == 0) and (@$otev->ther_na == 0)) {
              $pdf->Image( $path_ticket, ( $cero_x + 491),($cero_y + 70), 6);
          }*/
          $pdf->Text(( $cero_x + 500),( $cero_y + 76 ),"No");
          
          
          
          $pdf->Text(( $cero_x + 250),( $cero_y + 86 ),"Implemented Plan of Care?");
          
          $pdf->Rect(( $cero_x + 447),($cero_y  + 79 ), 8.4, 8.5);
          if (@$otev->ther_implem_plan == 1) {
              $pdf->Image( $path_ticket, ( $cero_x + 448),($cero_y + 80), 6);
          }
          $pdf->Text(( $cero_x + 457),( $cero_y + 86 ),"Yes"); 

          
          $pdf->Rect(( $cero_x + 490),($cero_y  + 79 ), 8.4, 8.5);
          /*if ((@$otev->ther_implem_plan == 0) and (@$otev->ther_na == 0)) {
              $pdf->Image( $path_ticket, ( $cero_x + 491),($cero_y + 80), 6);
          }*/
          $pdf->Text(( $cero_x + 500),( $cero_y + 86 ),"No");
          
          
          
          $pdf->Text(( $cero_x ),( $cero_y + 89 ),"Evaluation of Plan of Care:");
          
          $pdf->SetLineWidth( 0.5 );
          $pdf->Line(( $cero_x + 5 ) , ($cero_y + 102), ( $cero_x + 530 ), ($cero_y + 102));
          $pdf->Line(( $cero_x + 5 ) , ($cero_y + 112), ( $cero_x + 530 ), ($cero_y + 112));
          
          $pdf->SetFont('Arial','',9);
          $pdf->SetXY($cero_x + 2, $cero_y + 93 );
          $pdf->MultiCell(522, 10, substr(@$otev->ther_eval_plan,0, 270));
          $cero_y += 95;
          $line_need = 1;
    }
    
      if(strlen(@$otev->addendum) > 0){
        if($line_need)
        $pdf->Line(( $cero_x - 3 ) , ($cero_y + 25+8 ), ( $cero_x + 536 ), ($cero_y + 25 +8));
        
        $pdf->SetFont('Arial', 'B', $__FONT['PDF']['FORM_SMALL']);
        $pdf->Text(( $cero_x + 200),( $cero_y + 36+8 ),"Addendum / Additional Notes"); 
        $pdf->Line(( $cero_x - 3 ) , ($cero_y + 8+40.5 ), ( $cero_x + 536 ), ($cero_y + 8+40.5 ));

        $pdf->SetFont('Courier','',$__FONT['PDF']['FORM_MEDIUM']);
        $pdf->SetXY($cero_x+11, $cero_y+50);
        
        $pdf->MultiCell(516, 10, @$otev->addendum);
      }
      
      $cero_y = 20;
      $pdf->SetTextColor(0,0,0);    

      $pdf->SetFont('Arial','',$__FONT['PDF']['FORM_SMALL']);
  		$pdf->Text(500, 820, "      Page: 3 of ".$total_page);   
      $pdf->Text(230, 820, "HomeHealthSoft Inc.   2006 � ".date("Y")." (c)");
    }
    
    //$this->fpdf->Output('otev.pdf','D');
    
    $filename = FCPATH;
    $filename = str_replace("\\","/", $filename);
    $filename = $filename.'tmp/'.time().'_'.$visit_log_id.'_pq_otev.pdf';
    
    
    $this->fpdf->Output($filename,'F');
    return $filename;		

	}

	function otpn_pdf ( $visit_log_id ) {
    $this->load->model('otpnmdl'); 
    
    // saving before printing pdf
		$visit_log = $this->visitlogmdl->getById($visit_log_id);
		
		
		// printing pdf
		$otpn  	    	= $this->otpnmdl->get($visit_log_id);
    $assigned_to    = $this->usagymdl->getByUsAgyId($visit_log->visit_user_id);
		$approver    	= $this->usagymdl->getByUsAgyId($visit_log->user_approver);
		$agency	    	= $this->agencymdl->getByAgencyId($this->getAgencyId());
		$patient    	= $this->patientmdl->getById($visit_log->patient_id);
		$agency	    	= $this->agencymdl->getByAgencyId($patient->agency_id);
		$episde_icd		= $this->episodeicdmdl->get($visit_log->cms485_id);
		@$ther_name   	= $this->usagymdl->getByUsAgyId($otpn->ther_name);
		@$ther_super   	= $this->usagymdl->getByUsAgyId($otpn->ther_supervisor);
		$phys_user_id  	= $this->usagymdl->getByUsAgyId($visit_log->phys_user_id);

    
		$path_ticket = realpath("style/images/icon_enable_negro.gif");
    
    $this->load->library('fpdf');
		if(!defined('FPDF_FONTPATH'))
		define('FPDF_FONTPATH',$this->config->item('fonts_path'));

    $this->fpdf = new fpdf;
    
    $total_page = 1;

    if(@$otpn->addendum != null){
      $total_page = 2;
    }
    
    $this->fpdf->Open();
		
		$pdf = $this->fpdf;
    
    $pdf->AddPage();

    $con = 2.8346456692913384;

    //Check Boxes
    //Basic

    $pdf->Rect(132*$con,19.5*$con,3*$con,3*$con);//Medicare NA
    $pdf->Rect(168*$con,24.5*$con,3*$con,3*$con);//Certification

    //Treatment
    $pdf->Rect(12*$con,49.2*$con,3*$con,3*$con);//Evaluation
    $pdf->Rect(12*$con,54.2*$con,3*$con,3*$con);//ADL Training
    $pdf->Rect(12*$con,59.2*$con,3*$con,3*$con);//Transfer Training
    $pdf->Rect(12*$con,64.2*$con,3*$con,3*$con);//Musles Re-Edu
    $pdf->Rect(12*$con,69.2*$con,3*$con,3*$con);//Establish - HEP
    $pdf->Rect(12*$con,74.2*$con,3*$con,3*$con);//Perceptual motor tarining
    $pdf->Rect(12*$con,79.2*$con,3*$con,3*$con);//upgrade - HEP

    $pdf->Rect(87*$con,49.2*$con,3*$con,3*$con);//Fine Motor Training
    $pdf->Rect(87*$con,54.2*$con,3*$con,3*$con);//Neuro Development Treatment
    $pdf->Rect(87*$con,59.2*$con,3*$con,3*$con);//Sensory Treatment
    $pdf->Rect(87*$con,64.2*$con,3*$con,3*$con);//Orthodontics/ Splinting
    $pdf->Rect(87*$con,69.2*$con,3*$con,3*$con);//Home Program Adaptive Equipment
    $pdf->Rect(87*$con,74.2*$con,3*$con,3*$con);//Other

    //Pain assessment
    $pdf->Rect(12*$con,(87.5+5)*$con,3*$con,3*$con);//No pain
    $pdf->Rect(32*$con,(87.5+5)*$con,3*$con,3*$con);//1
    $pdf->Rect(42*$con,(87.5+5)*$con,3*$con,3*$con);//2
    $pdf->Rect(52*$con,(87.5+5)*$con,3*$con,3*$con);//3
    $pdf->Rect(62*$con,(87.5+5)*$con,3*$con,3*$con);//4
    $pdf->Rect(12*$con,(92.5+5)*$con,3*$con,3*$con);//5
    $pdf->Rect(22*$con,(92.5+5)*$con,3*$con,3*$con);//6
    $pdf->Rect(32*$con,(92.5+5)*$con,3*$con,3*$con);//7
    $pdf->Rect(42*$con,(92.5+5)*$con,3*$con,3*$con);//8
    $pdf->Rect(52*$con,(92.5+5)*$con,3*$con,3*$con);//9
    $pdf->Rect(62*$con,(92.5+5)*$con,3*$con,3*$con);//10

    //System Assessment
    $pdf->Rect(94*$con,(87.5+5)*$con,3*$con,3*$con);//R
    $pdf->Rect(114*$con,(87.5+5)*$con,3*$con,3*$con);//L
    $pdf->Rect(75*$con,(92.5+5)*$con,3*$con,3*$con);//Sitting
    $pdf->Rect(94*$con,(92.5+5)*$con,3*$con,3*$con);//Lying
    $pdf->Rect(114*$con,(92.5+5)*$con,3*$con,3*$con);//Standing

    //Functional impairment
    $pdf->Rect(139*$con,(87.5+5)*$con,3*$con,3*$con);//Dyspnea on exertion
    $pdf->Rect(139*$con,(92.5+5)*$con,3*$con,3*$con);//Difficulty walking
    $pdf->Rect(139*$con,(97.5+5)*$con,3*$con,3*$con);//Difficulty transfer
    $pdf->Rect(139*$con,(102.5+5)*$con,3*$con,3*$con);//Difficulty dressing/ undressing
    $pdf->Rect(139*$con,(107.5+5)*$con,3*$con,3*$con);//Other

    $pdf->Rect(12*$con,(116.5+5)*$con,3*$con,3*$con);//Objective
    $pdf->Rect(37*$con,(116.5+5)*$con,3*$con,3*$con);//Subjective Findings

    $pdf->Rect(12*$con,(149.5+5)*$con,3*$con,3*$con);//Treatement Provided
    $pdf->Rect(57*$con,(149.5+5)*$con,3*$con,3*$con);//Plan of care

    //Home bound status
    $pdf->Rect(12*$con,(200.5+5)*$con,3*$con,3*$con);//Considerable & taxing 
    $pdf->Rect(12*$con,(205.5+5)*$con,3*$con,3*$con);//Residual weakness 
    $pdf->Rect(12*$con,(210.5+5)*$con,3*$con,3*$con);//Confusion
    $pdf->Rect(117*$con,(200.5+5)*$con,3*$con,3*$con);//Requires assistance  
    $pdf->Rect(117*$con,(205.5+5)*$con,3*$con,3*$con);//Dependent upon adaptive  
    $pdf->Rect(117*$con,(210.5+5)*$con,3*$con,3*$con);//Other

    //Cordination of care
    $pdf->Rect(15*$con,(224.5+5)*$con,3*$con,3*$con);//MD
    $pdf->Rect(31*$con,(224.5+5)*$con,3*$con,3*$con);//RN 
    $pdf->Rect(44*$con,(224.5+5)*$con,3*$con,3*$con);//LVN 
    $pdf->Rect(60*$con,(224.5+5)*$con,3*$con,3*$con);//Aide 
    $pdf->Rect(76*$con,(224.5+5)*$con,3*$con,3*$con);//PT 
    $pdf->Rect(92*$con,(224.5+5)*$con,3*$con,3*$con);//OT 
    $pdf->Rect(108*$con,(224.5+5)*$con,3*$con,3*$con);//ST 
    $pdf->Rect(124*$con,(224.5+5)*$con,3*$con,3*$con);//MSW  
    $pdf->Rect(142*$con,(224.5+5)*$con,3*$con,3*$con);//Pt/CG

    //D/C PLANNING/PLAN
    $pdf->Rect(12*$con,(234.2+5)*$con,3*$con,3*$con);//Continue to progress 
    $pdf->Rect(12*$con,(239.2+5)*$con,3*$con,3*$con);//others 
    $pdf->Rect(87*$con,(234.2+5)*$con,3*$con,3*$con);//5-days notification 

    //////////////////////////////////////////////////////
    $cero_x = 11;
    $cero_y = 2;
    $pdf->SetFont('Arial','B',8);
    $pdf->Text(( $cero_x + 18),( $cero_y + 12+10 ), $agency->agency_name); // agency name
    
    $pdf->SetFont('Arial','',7);
    $pdf->Text(( $cero_x + 18),( $cero_y + 22+10 ),"Licensed and Certified Home Health Agency");

    $pdf->SetFont('Arial','B',10);
    $pdf->Ln(10);

    //Basic Info
    $pdf->Cell(130*$con,5*$con,'OCCUPATIONAL THERAPY PROGRESS NOTE','TBL',0,'R');
    $pdf->Cell(10*$con,5*$con,'','TB',0,'C');
    $pdf->Cell(50*$con,5*$con,'VISIT DATE: ' . standard_date(mysql_to_unix($visit_log->visited_date)),'TBR',1,'L');
    $pdf->SetFont('Arial','',10);
    $pdf->Cell(25*$con,5*$con,'Patient Name:','TBL',0,'L');
    $y = $pdf->GetY(); $x = $pdf->GetX(); 
    $pdf->SetFont('Arial','B', 8);
    $pdf->Text($x,$y+9, $patient->first_name . " " . $patient->last_name);    
    $pdf->SetFont('Arial','',10);  
    
    $pdf->Cell(55*$con,5*$con,'','TB',0,'C');
    $pdf->Cell(20*$con,5*$con,'Medicare #:','TB',0,'L');
    $y = $pdf->GetY(); $x = $pdf->GetX(); 
    $pdf->SetFont('Arial','B', 8);
    $pdf->Text($x,$y+9, $patient->medicare_id);    
    $pdf->SetFont('Arial','',10);  
    
    $pdf->Cell(22*$con,5*$con,'','TB',0,'C');
    if(is_null($patient->medicare_id)){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x+1,$y+4,6,6);
    }        
    $pdf->Cell(12*$con,5*$con,'NA','TB',0,'R'); 
    $pdf->Cell(26*$con,5*$con,'Med Rec #:','TB',0,'C');
    $y = $pdf->GetY(); $x = $pdf->GetX(); 
    $pdf->SetFont('Arial','B', 8);
    $pdf->Text($x,$y+9, $patient->medical_rec_nbr);    
    $pdf->SetFont('Arial','',10);  
    
    $pdf->Cell(30*$con,5*$con,'','TBR',1,'C');

    $pdf->Cell(25*$con,5*$con,'Primary DX:','TBL',0,'L');
    $y = $pdf->GetY(); $x = $pdf->GetX(); 
    $pdf->SetFont('Arial','', 8);
    $pdf->SetXY($x-2, $y);
    $pdf->MultiCell(150, 12, substr(@$otpn->primary_diag, 0, 30));
    $pdf->SetXY($x, $y);  
    
    $pdf->SetFont('Arial','',10);  
    $pdf->Cell(55*$con,5*$con,'','TB',0,'C');
    $pdf->Cell(20*$con,5*$con,'Date:','TB',0,'L');
    $y = $pdf->GetY(); $x = $pdf->GetX(); 
    $pdf->SetFont('Arial','B', 8);
    $pdf->Text($x,$y+9, (!is_null(@$otpn->primary_diag_date) ? standard_date(mysql_to_unix(@$otpn->primary_diag_date)) : ""));    
    $pdf->SetFont('Arial','',10);  
    
    $pdf->Cell(20*$con,5*$con,'','TB',0,'C');
    $pdf->Cell(10*$con,5*$con,'SOC:','TB',0,'L');
    $y = $pdf->GetY(); $x = $pdf->GetX(); 
    $pdf->SetFont('Arial','B', 8);
    $pdf->Text($x+5,$y+9, standard_date(mysql_to_unix($visit_log->estimated_soc_date)));    
    $pdf->SetFont('Arial','',10);  
    
    $pdf->Cell(25*$con,5*$con,'','TB',0,'C');
    $pdf->Cell(35*$con,5*$con,'Certification','TBR',1,'C');

    $pdf->Cell(25*$con,5*$con,'Therapy Dx:','TBL',0,'L');
    $y = $pdf->GetY(); $x = $pdf->GetX(); 
    $pdf->SetXY($x-2, $y);
    $pdf->SetFont('Arial','', 8);
    $pdf->MultiCell(150, 12, substr(@$otpn->secondary_diag, 0, 30));
    $pdf->SetXY($x, $y);  
    
    $pdf->Cell(55*$con,5*$con,'','TB',0,'C');
    $pdf->Cell(20*$con,5*$con,'Date:','TB',0,'L');
    $y = $pdf->GetY(); $x = $pdf->GetX(); 
    $pdf->SetFont('Arial','B', 8);
    $pdf->Text($x,$y+9, (!is_null(@$otpn->secondary_diag_date) ? standard_date(mysql_to_unix(@$otpn->secondary_diag_date)) : "") );    
    $pdf->SetFont('Arial','',10);  
    
    $pdf->Cell(20*$con,5*$con,'','TB',0,'C');
    $pdf->Cell(10*$con,5*$con,'From:','TB',0,'L');
    $y = $pdf->GetY(); $x = $pdf->GetX(); 
    $pdf->SetFont('Arial','B', 8);
    $pdf->Text($x+5,$y+9, standard_date(mysql_to_unix($visit_log->episode_start_date)) );    
    $pdf->SetFont('Arial','',10);  
    
    $pdf->Cell(28*$con,5*$con,'','TB',0,'C');
    $pdf->Cell(12*$con,5*$con,'To:','TB',0,'L');
    $y = $pdf->GetY(); $x = $pdf->GetX(); 
    $pdf->SetFont('Arial','B', 8);
    $pdf->Text($x,$y+9, standard_date(mysql_to_unix($visit_log->episode_end_date)) );    
    $pdf->SetFont('Arial','',10);  
    
    $pdf->Cell(20*$con,5*$con,'','TBR',1,'C');

    $pdf->Cell(25*$con,5*$con,'Physician:','TBL',0,'L');
    $y = $pdf->GetY(); $x = $pdf->GetX(); 
    $pdf->SetFont('Arial','B', 8);
    $pdf->Text($x,$y+9, @$phys_user_id->complete_name );    
    $pdf->SetFont('Arial','',10);  
    
    $pdf->Cell(46*$con,5*$con,'','TB',0,'C');
    $pdf->Cell(15*$con,5*$con,'Clinician:','TB',0,'L');
    $pdf->Cell(44*$con,5*$con, $visit_log->first_name . " " .  $visit_log->last_name,'TB',0,'L');
    $pdf->Cell(10*$con,5*$con,'Time in:','TB',0,'L');
    $y = $pdf->GetY(); $x = $pdf->GetX(); 
    $pdf->SetFont('Arial','B', 8);
    $pdf->Text($x+15,$y+9, standard_date(mysql_to_unix($visit_log->visited_date . " " . $visit_log->visited_time_in), 'USA_TIME_C') );    
    $pdf->SetFont('Arial','',10);  
    
    $pdf->Cell(18*$con,5*$con,'','TB',0,'C');
    $pdf->Cell(22*$con,5*$con,'Time Out:','TB',0,'L');
    $y = $pdf->GetY(); $x = $pdf->GetX(); 
    $pdf->SetFont('Arial','B', 8);
    $pdf->Text($x-10,$y+9, standard_date(mysql_to_unix($visit_log->visited_date . " " . $visit_log->visited_time_out), 'USA_TIME_C') );    
    $pdf->SetFont('Arial','',10);  
    
    $pdf->Cell(10*$con,5*$con,'','TBR',1,'C');
    
    //Vital signs
    //$pdf->Cell(25*$con,5*$con,'VITAL SIGNS:','TBL',0,'L');
    $pdf->Cell(25*$con,5*$con,'','TBL',0,'L');
    //$pdf->Cell(6*$con,5*$con,'BP:','TB',0,'C');    
    $pdf->Cell(6*$con,5*$con,'','TB',0,'C');    
    /*$y = $pdf->GetY(); $x = $pdf->GetX(); 
    $pdf->SetXY($x+4, $y);
    $pdf->MultiCell(50, 12, @$otpn->blood_pressure);
    $pdf->SetXY($x, $y);  */
    //$pdf->Cell(13*$con,5*$con,'______','TB',0,'L');
    $pdf->Cell(13*$con,5*$con,'','TB',0,'L');
    
    //$pdf->Cell(6*$con,5*$con,'T:','TB',0,'R');
    $pdf->Cell(6*$con,5*$con,'','TB',0,'R');
    /*$y = $pdf->GetY(); $x = $pdf->GetX(); 
    $pdf->SetXY($x+4, $y);
    $pdf->MultiCell(50, 12, @$otpn->temperature);
    $pdf->SetXY($x, $y);  */
    //$pdf->Cell(13*$con,5*$con,'______','TB',0,'L');
    $pdf->Cell(13*$con,5*$con,'','TB',0,'L');
    //$pdf->Cell(6*$con,5*$con,'R:','TB',0,'R');
    $pdf->Cell(6*$con,5*$con,'','TB',0,'R');
    /*$y = $pdf->GetY(); $x = $pdf->GetX();
    $pdf->SetXY($x+4, $y);
    $pdf->MultiCell(50, 12, @$otpn->respiration);
    $pdf->SetXY($x, $y);  */
    //$pdf->Cell(13*$con,5*$con,'______','TB',0,'L');    
    $pdf->Cell(13*$con,5*$con,'','TB',0,'L');    
    //$pdf->Cell(6*$con,5*$con,'P:','TB',0,'R');
    
    $y = $pdf->GetY(); $x = $pdf->GetX(); 
    $pdf->Rect($x-30,$y+3, 8.4, 8.4);
    if (!is_null(@$visit_log->billable_YN) AND @$visit_log->billable_YN == 1){      
      $pdf->Image( $path_ticket, $x-29,$y+4,6,6);
    }
    $pdf->Cell(6*$con,5*$con,'Billable','TB',0,'R');    
    
    /*$y = $pdf->GetY(); $x = $pdf->GetX();
    $pdf->SetXY($x+4, $y);
    $pdf->MultiCell(50, 12, @$otpn->pulse);
    $pdf->SetXY($x, $y);  */
    //$pdf->Cell(12*$con,5*$con,'______','TB',0,'L');
    $pdf->Cell(12*$con,5*$con,'','TB',0,'L');
    $pdf->Cell(20*$con,5*$con,'','TB',0,'C');
    $pdf->Cell(20*$con,5*$con,'Mileage:','TB',0,'L');
    $y = $pdf->GetY(); $x = $pdf->GetX(); 
    $pdf->SetFont('Arial','B', 8);
    $pdf->Text($x,$y+9, @$visit_log->mileage );    
    $pdf->SetFont('Arial','',10);  

    $pdf->Cell(50*$con,5*$con,'','TBR',1,'L');

    //TREATMENT

    $pdf->Cell(190*$con,5*$con,'TREATMENT','TRL',1,'L');

    $pdf->Cell(5*$con,5*$con,'','L',0,'C');
    if(@$otpn->treat_evaluation == 1){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x-7,$y+3,6,6);
    }
    $pdf->Cell(30*$con,5*$con,'Evaluation',0,0,'L');
    $pdf->Cell(40*$con,5*$con,'',0,0,'C');
    $pdf->Cell(5*$con,5*$con,'',0,0,'C');
    if(@$otpn->treat_fine == 1){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x-7,$y+3,6,6);
    }
    $pdf->Cell(30*$con,5*$con,'Fine Motor Training',0,0,'L');
    $pdf->Cell(80*$con,5*$con,'','R',1,'C');
    $pdf->Cell(5*$con,5*$con,'','L',0,'C');
    if(@$otpn->treat_adl_training == 1){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x-7,$y+3,6,6);
    }
    $pdf->Cell(30*$con,5*$con,'ADL Training',0,0,'L');
    $pdf->Cell(40*$con,5*$con,'',0,0,'C');
    $pdf->Cell(5*$con,5*$con,'',0,0,'C');
    if(@$otpn->treat_neuro == 1){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x-7,$y+3,6,6);
    }
    $pdf->Cell(30*$con,5*$con,'Neuro Development Treatment',0,0,'L');
    $pdf->Cell(80*$con,5*$con,'','R',1,'C');

    $pdf->Cell(5*$con,5*$con,'','L',0,'C');
    if(@$otpn->treat_transfer == 1){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x-7,$y+3,6,6);
    }
    $pdf->Cell(30*$con,5*$con,'Transfer Training',0,0,'L');
    $pdf->Cell(40*$con,5*$con,'',0,0,'C');
    $pdf->Cell(5*$con,5*$con,'',0,0,'C');
    if(@$otpn->treat_sensory == 1){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x-7,$y+3,6,6);
    }
    $pdf->Cell(30*$con,5*$con,'Sensory Treatment',0,0,'L');
    $pdf->Cell(80*$con,5*$con,'','R',1,'C');

    $pdf->Cell(5*$con,5*$con,'','L',0,'C');
    if(@$otpn->treat_muscle == 1){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x-7,$y+3,6,6);
    }
    $pdf->Cell(30*$con,5*$con,'Muscle Re-Education',0,0,'L');
    $pdf->Cell(40*$con,5*$con,'',0,0,'C');
    $pdf->Cell(5*$con,5*$con,'',0,0,'C');
    if(@$otpn->treat_ortho == 1){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x-7,$y+3,6,6);
    }
    $pdf->Cell(30*$con,5*$con,'Orthodontics/ Splinting',0,0,'L');
    $pdf->Cell(80*$con,5*$con,'','R',1,'C');

    $pdf->Cell(5*$con,5*$con,'','L',0,'C');
    if(@$otpn->treat_establish_hep == 1){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x-7,$y+3,6,6);
    }
    $pdf->Cell(30*$con,5*$con,'Establish HEP',0,0,'L');
    $pdf->Cell(40*$con,5*$con,'',0,0,'C');
    $pdf->Cell(5*$con,5*$con,'',0,0,'C');
    if(@$otpn->treat_home == 1){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x-7,$y+3,6,6);
    }
    //$pdf->Cell(30*$con,5*$con,'Home Program Adaptive Equipment',0,0,'L');
    $pdf->Cell(30*$con,5*$con,'Upgrade HEP',0,0,'L');
    $pdf->Cell(80*$con,5*$con,'','R',1,'C');

    $pdf->Cell(5*$con,5*$con,'','L',0,'C');
    //if(@$otpn->treat_perceptual == 1){
    if(@$otpn->treat_upgrade_hep == 1){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x-7,$y+3,6,6);
    }
    //$pdf->Cell(30*$con,5*$con,'Perceptual Motor Training',0,0,'L');
    $pdf->Cell(30*$con,5*$con,'Home Program Adaptive Equipment',0,0,'L');
    $pdf->Cell(40*$con,5*$con,'',0,0,'C');
    $pdf->Cell(5*$con,5*$con,'',0,0,'C');
    if(@$otpn->treat_perceptual == 1){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x-7,$y+3,6,6);
    }    
    $pdf->Cell(30*$con,5*$con,'Perceptual Motor Training',0,0,'L');
    $pdf->Cell(80*$con,5*$con,'','R',1,'C');
    
    
    $pdf->Cell(5*$con,5*$con,'','L',0,'C');    
    //if(@$otpn->treat_other == 1){
    if(@$otpn->treat_perceptual == 1){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x-7,$y+3,6,6);
    }
    $pdf->Cell(10*$con,5*$con,'Other:',0,0,'L');
    $y = $pdf->GetY(); $x = $pdf->GetX();     
    $pdf->Text($x+10,$y+9, @$otpn->treat_other_desc );        
    $pdf->Cell(175*$con,5*$con,'_______________________________________________________________________________________','R',1,'L');

    $pdf->Cell(190*$con,3*$con,'','LBR',1,'C');

    //Pain Assessment / System Assessment / Functional Impairment
    $pdf->Cell(63*$con,5*$con,'PAIN ASSESSMENT','LR',0,'L');
    $pdf->Cell(64*$con,5*$con,'SYSTEM ASSESSMENT','R',0,'L');
    $pdf->Cell(63*$con,5*$con,'FUNCIONAL IMPAIRMENT','R',1,'L');

    $pdf->Cell(5*$con,5*$con,'','L',0,'L');
    if(@$otpn->tab_75_pain_assessment == 1){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x-7,$y+4,6,6);
    }
    $pdf->Cell(15*$con,5*$con,'No Pain',0,0,'L');
    
    $pdf->Cell(5*$con,5*$con,'',0,0,'L');
    if(@$otpn->tab_75_pain_assessment == 2){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x-7,$y+4,6,6);
    }
    $pdf->Cell(5*$con,5*$con,'1',0,0,'L');
    
    $pdf->Cell(5*$con,5*$con,'',0,0,'L');
    if(@$otpn->tab_75_pain_assessment == 3){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x-7,$y+4,6,6);
    }
    $pdf->Cell(5*$con,5*$con,'2',0,0,'L');
    
    $pdf->Cell(5*$con,5*$con,'',0,0,'L');
    if(@$otpn->tab_75_pain_assessment == 4){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x-7,$y+4,6,6);
    }
    $pdf->Cell(5*$con,5*$con,'3',0,0,'L');
    
    $pdf->Cell(5*$con,5*$con,'',0,0,'L');
    if(@$otpn->tab_75_pain_assessment == 5){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x-7,$y+4,6,6);
    }
    $pdf->Cell(5*$con,5*$con,'4',0,0,'L');
    $pdf->Cell(3*$con,5*$con,'','R',0,'L');

    $pdf->Cell(5*$con,5*$con,'BP:',0,0,'L');
    $y = $pdf->GetY(); $x = $pdf->GetX();     
    $pdf->Text($x,$y+9, @$otpn->bp );    
    
    $pdf->Cell(14*$con,5*$con,'',0,0,'L');
    $pdf->Cell(5*$con,5*$con,'',0,0,'L');
    if(@$otpn->system_BP_left_right == 'right'){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x-7,$y+4,6,6);
    }
    $pdf->Cell(15*$con,5*$con,'R',0,0,'L');
    $pdf->Cell(5*$con,5*$con,'',0,0,'L');
    if(@$otpn->system_BP_left_right == 'left'){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x-7,$y+4,6,6);
    }
    $pdf->Cell(20*$con,5*$con,'L','R',0,'L');

    $pdf->Cell(5*$con,5*$con,'',0,0,'L');
    if(@$otpn->funct_dyspnea == 1){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x-7,$y+4,6,6);
    }
    $pdf->Cell(58*$con,5*$con,'Dyspnea on exertion','R',1,'L');

    ///////////////////////////////////////////////////////

    $pdf->Cell(5*$con,5*$con,'','L',0,'L');
    if(@$otpn->tab_75_pain_assessment == 6){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x-7,$y+4,6,6);
    }
    $pdf->Cell(5*$con,5*$con,'5',0,0,'L');
    
    $pdf->Cell(5*$con,5*$con,'',0,0,'L');
    if(@$otpn->tab_75_pain_assessment == 7){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x-7,$y+4,6,6);
    }
    $pdf->Cell(5*$con,5*$con,'6',0,0,'L');
    
    $pdf->Cell(5*$con,5*$con,'',0,0,'L');
    if(@$otpn->tab_75_pain_assessment == 8){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x-7,$y+4,6,6);
    }
    $pdf->Cell(5*$con,5*$con,'7',0,0,'L');
    
    $pdf->Cell(5*$con,5*$con,'',0,0,'L');
    if(@$otpn->tab_75_pain_assessment == 9){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x-7,$y+4,6,6);
    }
    $pdf->Cell(5*$con,5*$con,'8',0,0,'L');
    
    $pdf->Cell(5*$con,5*$con,'',0,0,'L');
    if(@$otpn->tab_75_pain_assessment == 10){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x-7,$y+4,6,6);
    }
    $pdf->Cell(5*$con,5*$con,'9',0,0,'L');
    
    $pdf->Cell(5*$con,5*$con,'',0,0,'L');
    if(@$otpn->tab_75_pain_assessment == 11){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x-7,$y+4,6,6);
    }
    $pdf->Cell(5*$con,5*$con,'10',0,0,'L');
    $pdf->Cell(3*$con,5*$con,'','R',0,'L');

    $pdf->Cell(5*$con,5*$con,'',0,0,'L');
    if(@$otpn->system_sitt_lyin_stand == 1){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x-7,$y+4,6,6);
    }
    $pdf->Cell(14*$con,5*$con,'Sitting',0,0,'L');
    $pdf->Cell(5*$con,5*$con,'',0,0,'L');
    if(@$otpn->system_sitt_lyin_stand == 2){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x-7,$y+4,6,6);
    }
    $pdf->Cell(15*$con,5*$con,'Lying',0,0,'L');
    $pdf->Cell(5*$con,5*$con,'',0,0,'L');
    if(@$otpn->system_sitt_lyin_stand == 3){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x-7,$y+4,6,6);
    }
    $pdf->Cell(20*$con,5*$con,'Standing','R',0,'L');

    $pdf->Cell(5*$con,5*$con,'',0,0,'L');
    if(@$otpn->funct_diff_walking == 1){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x-7,$y+4,6,6);
    }
    $pdf->Cell(58*$con,5*$con,'Difficulty walking','R',1,'L');

    ///////////////////////////////////////////////////

    $pdf->Cell(16*$con,5*$con,'Location:','L',0,'L');
    $y = $pdf->GetY(); $x = $pdf->GetX();     
    $pdf->Text($x+10,$y+9, @$otpn->pain_location);        
    $pdf->Cell(47*$con,5*$con,'______________________','R',0,'L');

    $pdf->Cell(5*$con,5*$con,'HR',0,0,'L');
    $y = $pdf->GetY(); $x = $pdf->GetX();     
    $pdf->Text($x+5,$y+9, @$otpn->system_hr);        
    $pdf->Cell(14*$con,5*$con,'',0,0,'L');
    $y = $pdf->GetY(); $x = $pdf->GetX();     
    $pdf->Text($x+35,$y+9, @$otpn->system_o2_sat);            
    $pdf->Cell(45*$con,5*$con,'02 Sat:','R',0,'L');    
    $pdf->Cell(5*$con,5*$con,'',0,0,'L');
    if(@$otpn->funct_diff_transfer == 1){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x-7,$y+4,6,6);
    }
    $pdf->Cell(58*$con,5*$con,'Difficulty transfer','R',1,'L');

    /////////////////////////////////////////////////

    $pdf->Cell(35*$con,5*$con,'Current Pain Control:','L',0,'L');
    $y = $pdf->GetY(); $x = $pdf->GetX(); 
    $pdf->SetXY($x-100, $y);
    $pdf->MultiCell(140, 12, '                                    '.substr(@$otpn->pain_control, 0, 50));
    $pdf->SetXY($x, $y);  
    
    $pdf->Cell(28*$con,5*$con,'____________','R',0,'L');

    $pdf->Cell(10*$con,5*$con,'Skin:',0,0,'L');
    $y = $pdf->GetY(); $x = $pdf->GetX();     
    $pdf->Text($x+5,$y+9, @$otpn->system_skin);        
    $pdf->Cell(54*$con,5*$con,'_____________________','R',0,'L');

    $pdf->Cell(5*$con,5*$con,'',0,0,'L');
    if(@$otpn->funct_diff_dressing == 1){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x-7,$y+4,6,6);
    }
    $pdf->Cell(58*$con,5*$con,'Difficulty dressing/ undressing','R',1,'L');

    ////////////////////////////////////////////////////

    $pdf->Cell(63*$con,5*$con,'______________________________','LR',0,'L');

    $pdf->Cell(64*$con,5*$con,'','R',0,'L');

    $pdf->Cell(5*$con,5*$con,'',0,0,'L');
    if(@$otpn->funct_other == 1){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x-7,$y+4,6,6);
    }
    $pdf->Cell(13*$con,5*$con,'Others:',0,0,'L');
    $y = $pdf->GetY(); $x = $pdf->GetX();     
    $pdf->Text($x+5,$y+9, @$otpn->funct_other_desc);        
    $pdf->Cell(45*$con,5*$con,'___________________','R',1,'L');

    ///////////////////////////////////////////////////

    $pdf->Cell(63*$con,4*$con,'','LBR',0,'L');

    $pdf->Cell(64*$con,4*$con,'','RB',0,'L');

    $pdf->Cell(63*$con,4*$con,'','RB',1,'L');

    /////////////////////////////////////////////////

    $pdf->Cell(5*$con,5*$con,'','L',0,'L');
    if(@$otpn->objective_findings != ""){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x-7,$y+4,6,6);
    }
    $pdf->Cell(20*$con,5*$con,'Objective',0,0,'L');
    $pdf->Cell(5*$con,5*$con,'',0,0,'L');    
    if(@$otpn->subjective_findings != ""){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x-7,$y+4,6,6);
    }
    $pdf->Cell(160*$con,5*$con,'Subjective Findings:','R',1,'L');

    ////////////////////////////////////////////////
    $texts = array();
    /*if(@$otpn->subjective_findings != ""){
      if(strlen(@$otpn->subjective_findings) > 900)
      {
        @$otpn->subjective_findings = substr(@$otpn->subjective_findings, 0, 900);
      }
      $texts[] = @$otpn->subjective_findings;
      if(strlen(@$otpn->subjective_findings) > 150){
        $texts = array();
        $newtext = wordwrap(@$otpn->subjective_findings, 150, "\n", true);
        $texts = explode("\n",$newtext);
      }
    }else if(@$otpn->objective_findings != ""){
      if(strlen(@$otpn->objective_findings) > 900)
      {
        @$otpn->objective_findings = substr(@$otpn->objective_findings, 0, 900);
      }
      $texts[] = @$otpn->objective_findings;
      if(strlen(@$otpn->objective_findings) > 150){
        $texts = array();
        $newtext = wordwrap(@$otpn->objective_findings, 150, "\n", true);
        $texts = explode("\n",$newtext);
      }
    }
    */
    
    $y = $pdf->GetY(); $x = $pdf->GetX(); 
    $pdf->SetXY($x+10, $y-2);
    $pdf->MultiCell(520, 12, str_replace("\n"," ",substr(@$otpn->subjective_findings, 0, 900)));
    $pdf->SetXY($x, $y);  
    
    $y = $pdf->GetY(); $x = $pdf->GetX();     
    //$pdf->Text($x+10,$y+8, @$texts[0] );        
    $pdf->Cell(190*$con,4*$con,'______________________________________________________________________________________________','LR',1,'C');
    
    $y = $pdf->GetY(); $x = $pdf->GetX();     
    //$pdf->Text($x+10,$y+8, @$texts[1] );        
    $pdf->Cell(190*$con,4*$con,'______________________________________________________________________________________________','LR',1,'C');
    
    $y = $pdf->GetY(); $x = $pdf->GetX();     
    //$pdf->Text($x+10,$y+8, @$texts[2] );        
    $pdf->Cell(190*$con,4*$con,'______________________________________________________________________________________________','LR',1,'C');
    
    $y = $pdf->GetY(); $x = $pdf->GetX();     
    //$pdf->Text($x+10,$y+8, @$texts[3] );        
    $pdf->Cell(190*$con,4*$con,'______________________________________________________________________________________________','LR',1,'C');
    
    $y = $pdf->GetY(); $x = $pdf->GetX();     
    //$pdf->Text($x+10,$y+8, @$texts[4] );        
    $pdf->Cell(190*$con,4*$con,'______________________________________________________________________________________________','LR',1,'C');
    
    $y = $pdf->GetY(); $x = $pdf->GetX();     
    //$pdf->Text($x+10,$y+8, @$texts[5] );        
    $pdf->Cell(190*$con,4*$con,'______________________________________________________________________________________________','LR',1,'C');
    
    
    $pdf->Cell(190*$con,4*$con,'','LBR',1,'C');

    /////////////////////////////////////////////////////

    $pdf->Cell(5*$con,5*$con,'','L',0,'L');
    if(@$otpn->treatment != ""){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x-7,$y+4,6,6);
    }
    $pdf->Cell(40*$con,5*$con,'Treatment Provided',0,0,'L');
    $pdf->Cell(5*$con,5*$con,'',0,0,'L');
    if(@$otpn->plan_of_care != ""){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x-7,$y+4,6,6);
    }
    $pdf->Cell(140*$con,5*$con,'Plan of Care:','R',1,'L');

    /////////////////////////////////////////////////////
    $texts = array();
    /*
    if(@$otpn->plan != ""){
      if(strlen(@$otpn->plan) > 900)
      {
        @$otpn->plan = substr(@$otpn->plan_of_care, 0, 900);
      }
      $texts[] = @$otpn->plan;
      if(strlen(@$otpn->plan) > 150){
        $texts = array();
        $newtext = wordwrap(@$otpn->plan, 150, "\n", true);
        $texts = explode("\n",$newtext);
      }
    }
    */
    $y = $pdf->GetY(); $x = $pdf->GetX(); 
    $pdf->SetXY($x+10, $y-2);
    $pdf->MultiCell(520, 12, str_replace("\n"," ",substr(@$otpn->plan, 0, 1020)));
    $pdf->SetXY($x, $y);  
    
    $y = $pdf->GetY(); $x = $pdf->GetX();     
    //$pdf->Text($x+10,$y+8, @$texts[0] );            
    $pdf->Cell(190*$con,4*$con,'______________________________________________________________________________________________','LR',1,'C');
    
    $y = $pdf->GetY(); $x = $pdf->GetX();     
    //$pdf->Text($x+10,$y+8, @$texts[1] );        
    $pdf->Cell(190*$con,4*$con,'______________________________________________________________________________________________','LR',1,'C');
    
    $y = $pdf->GetY(); $x = $pdf->GetX();     
    //$pdf->Text($x+10,$y+8, @$texts[2] );        
    $pdf->Cell(190*$con,4*$con,'______________________________________________________________________________________________','LR',1,'C');
    
    $y = $pdf->GetY(); $x = $pdf->GetX();     
    //$pdf->Text($x+10,$y+8, @$texts[3] );        
    $pdf->Cell(190*$con,4*$con,'______________________________________________________________________________________________','LR',1,'C');
    
    $y = $pdf->GetY(); $x = $pdf->GetX();     
    //$pdf->Text($x+10,$y+8, @$texts[4] );        
    $pdf->Cell(190*$con,4*$con,'______________________________________________________________________________________________','LR',1,'C');
    
    $y = $pdf->GetY(); $x = $pdf->GetX();     
    //$pdf->Text($x+10,$y+8, @$texts[5] );        
    $pdf->Cell(190*$con,4*$con,'______________________________________________________________________________________________','LR',1,'C');
    

    $pdf->Cell(190*$con,4*$con,'','LBR',1,'C');

    /////////////////////////////////////////////////////
/*
    $pdf->Cell(2*$con,5*$con,'','L',0,'L');
    $pdf->Cell(8*$con,5*$con,'Plan:',0,0,'L');
    $y = $pdf->GetY(); $x = $pdf->GetX(); 
    $pdf->SetXY($x+30, $y);
    $pdf->MultiCell(400, 12, str_replace("\n"," ",substr(@$otpn->plan, 0, 300)));
    $pdf->SetXY($x, $y);  
    */
    $pdf->Cell(190*$con,5*$con,'_________________________________________________________________________________________','LR',1,'C');
    $y = $pdf->GetY(); $x = $pdf->GetX();     
    //$pdf->Text($x+10,$y+8, @$texts[1] );        
    $pdf->Cell(190*$con,4*$con,'______________________________________________________________________________________________','LR',1,'C');

    $pdf->Cell(190*$con,4*$con,'','LBR',1,'C');

    ////////////////////////////////////////////////////

    $pdf->Cell(190*$con,5*$con,'HOME BOUND STATUS','LR',1,'L');

    /////////////////////////////////////////////////////

    $pdf->Cell(5*$con,5*$con,'','L',0,'C');
    if(@$otpn->hobo_consid_taxing == 1){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x-7,$y+4,6,6);
    }
    $pdf->Cell(100*$con,5*$con,'Considerable & taxing effort to leave home',0,0,'L');
    $pdf->Cell(5*$con,5*$con,'',0,0,'C');
    if(@$otpn->hobo_requires == 1){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x-7,$y+4,6,6);
    }
    $pdf->Cell(80*$con,5*$con,'Requires assistance to ambulate','R',1,'L');

    /////////////////////////////////////////////////////

    $pdf->Cell(5*$con,5*$con,'','L',0,'C');
    if(@$otpn->hobo_residual == 1){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x-7,$y+4,6,6);
    }
    $pdf->Cell(100*$con,5*$con,'Residual weakness',0,0,'L');
    $pdf->Cell(5*$con,5*$con,'',0,0,'C');
    if(@$otpn->hobo_dependent == 1){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x-7,$y+4,6,6);
    }
    $pdf->Cell(80*$con,5*$con,'Dependent upon adaptive / assistance device','R',1,'L');

    /////////////////////////////////////////////////////

    $pdf->Cell(5*$con,5*$con,'','L',0,'C');
    if(@$otpn->hobo_confusion == 1){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x-7,$y+4,6,6);
    }
    $pdf->Cell(100*$con,5*$con,'Confusion, unable to go out alone',0,0,'L');
    $pdf->Cell(5*$con,5*$con,'',0,0,'C');
    if(@$otpn->hobo_other == 1){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x-7,$y+4,6,6);
    }
    
    $y = $pdf->GetY(); $x = $pdf->GetX();     
    $pdf->Text($x+30,$y+9, @$otpn->hobo_other_desc);        
    $pdf->Cell(80*$con,5*$con,'Other:  ________________________________','R',1,'L');

    /////////////////////////////////////////////////////

    $pdf->Cell(190*$con,4*$con,'','LBR',1,'C');

    ////////////////////////////////////////////////////

    $pdf->Cell(190*$con,5*$con,'COORDINATION OF CARE','LR',1,'L');

    /////////////////////////////////////////////////////

    $pdf->Cell(8*$con,5*$con,'','L',0,'L');
    if(@$otpn->coord_md == 1){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x-7,$y+4,6,6);
    }
    $pdf->Cell(8*$con,5*$con,'MD',0,0,'L');
    $pdf->Cell(8*$con,5*$con,'',0,0,'L');
    if(@$otpn->coord_rn == 1){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x-7,$y+4,6,6);
    }
    $pdf->Cell(5*$con,5*$con,'RN',0,0,'L');
    $pdf->Cell(8*$con,5*$con,'',0,0,'L');
    if(@$otpn->coord_lvn == 1){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x-7,$y+4,6,6);
    }
    $pdf->Cell(8*$con,5*$con,'LVN',0,0,'L');
    $pdf->Cell(8*$con,5*$con,'',0,0,'L');
    if(@$otpn->coord_aide == 1){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x-7,$y+4,6,6);
    }
    $pdf->Cell(8*$con,5*$con,'Aide',0,0,'L');
    $pdf->Cell(8*$con,5*$con,'',0,0,'L');
    if(@$otpn->coord_pt == 1){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x-7,$y+4,6,6);
    }
    $pdf->Cell(8*$con,5*$con,'PT',0,0,'L');
    $pdf->Cell(8*$con,5*$con,'',0,0,'L');
    if(@$otpn->coord_ot == 1){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x-7,$y+4,6,6);
    }
    $pdf->Cell(8*$con,5*$con,'OT',0,0,'L');
    $pdf->Cell(8*$con,5*$con,'',0,0,'L');
    if(@$otpn->coord_st == 1){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x-7,$y+4,6,6);
    }
    $pdf->Cell(8*$con,5*$con,'ST',0,0,'L');
    $pdf->Cell(8*$con,5*$con,'',0,0,'L');
    if(@$otpn->coord_msw == 1){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x-7,$y+4,6,6);
    }
    $pdf->Cell(10*$con,5*$con,'MSW',0,0,'L');
    $pdf->Cell(8*$con,5*$con,'',0,0,'L');
    if(@$otpn->coord_ptCG == 1){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x-7,$y+4,6,6);
    }
    $pdf->Cell(12*$con,5*$con,'Pt/CG',0,0,'L');
    $pdf->Cell(43*$con,5*$con,'','R',1,'L');

    ////////////////////////////////////////////////////

    $pdf->Cell(190*$con,5*$con,'D/C PLANNING/PLAN','LTR',1,'L');

    ////////////////////////////////////////////////////

    $pdf->Cell(5*$con,5*$con,'','L',0,'C');
    if(@$otpn->dc_plan_continue == 1){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x-7,$y+3,6,6);
    }
    $pdf->Cell(70*$con,5*$con,'Continue to progress towards goals',0,0,'L');
    $pdf->Cell(5*$con,5*$con,'',0,0,'C');
    if(@$otpn->dc_plan_five_days_notif == 1){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x-7,$y+3,6,6);
    }
    $pdf->Cell(110*$con,5*$con,'5-days notification of discharge given','R',1,'L');

    ///////////////////////////////////////////////////

    $pdf->Cell(5*$con,5*$con,'','L',0,'C');
    if(@$otpn->dc_plan_other == 1){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x-7,$y+3,6,6);
    }
    $y = $pdf->GetY(); $x = $pdf->GetX();     
    $pdf->Text($x+30,$y+9, @$otpn->dc_plan_desc);        
    $pdf->Cell(185*$con,5*$con,'Other:  ______________________________________________________________________________','R',1,'L');

    ///////////////////////////////////////////////////

    $pdf->Cell(190*$con,4*$con,'','LBR',1,'C');

    //////////////////////////////////////////////////

    $pdf->Cell(190*$con,10*$con,'','LR',1,'C');

    //////////////////////////////////////////////////

    
    if($total_page == 1){
      $pdf->Cell(5*$con,.25*$con,'','L',0,'C');
      $pdf->Cell(180*$con,.25*$con,'',1,0,'C');
      $pdf->Cell(5*$con,.25*$con,'','R',1,'C');

      /////////////////////////////////////////////////    
      if ($visit_log->sent_to_approve_date) {    
        $pdf->Text(45, 725, "ELECTRONICALLY SIGNED BY " . $assigned_to -> first_name." ".$assigned_to -> last_name);
        //$pdf->Text(215, 725, standard_date(mysql_to_unix($visit_log->visit_date_time)));
        $pdf->Text(465, 725, standard_date(mysql_to_unix($visit_log->visit_date_time)));
      }
        
      $pdf->Cell(5*$con,5*$con,'','LB',0,'C');
      $pdf->Cell(20*$con,5*$con,'Therapist:','B',0,'L');
      $pdf->Cell(35*$con,5*$con,'','B',0,'L');
      //$pdf->Cell(10*$con,5*$con,'Date','B',0,'L');
      $pdf->Cell(10*$con,5*$con,'','B',0,'L');
      $pdf->Cell(30*$con,5*$con,'','B',0,'L');
      //$pdf->Cell(20*$con,5*$con,'Physician:','B',0,'L');
      $pdf->Cell(20*$con,5*$con,'','B',0,'L');
      $pdf->Cell(35*$con,5*$con,'','B',0,'L');
      $pdf->Cell(10*$con,5*$con,'Date','B',0,'L');
      $pdf->Cell(25*$con,5*$con,'','BR',1,'L');
    
    }else{
      /////////////////////////////////////////////////    
        
      $pdf->Cell(5*$con,5*$con,'','LB',0,'C');
      $pdf->Cell(20*$con,5*$con,'','B',0,'L');
      $pdf->Cell(35*$con,5*$con,'','B',0,'L');
      //$pdf->Cell(10*$con,5*$con,'Date','B',0,'L');
      $pdf->Cell(10*$con,5*$con,'','B',0,'L');
      $pdf->Cell(30*$con,5*$con,'','B',0,'L');
      //$pdf->Cell(20*$con,5*$con,'Physician:','B',0,'L');
      $pdf->Cell(20*$con,5*$con,'','B',0,'L');
      $pdf->Cell(35*$con,5*$con,'','B',0,'L');
      $pdf->Cell(10*$con,5*$con,'','B',0,'L');
      $pdf->Cell(25*$con,5*$con,'','BR',0,'L');
    
    }

    $pdf->Text(511, 820, "      Page: 1 of ".$total_page);
    
    if($total_page == 2){
      ##########
  		# Page 3 #
  		##########
  		
  		$cero_y = 2;
  		$cero_x = 11;
  		$pdf->AddPage();
      
      $pdf->SetFont('Arial','B',8);
      $pdf->Text(( $cero_x + 18),( $cero_y + 12+10 ), $agency->agency_name); // agency name
      
      $pdf->SetFont('Arial','',7);
      $pdf->Text(( $cero_x + 18),( $cero_y + 22+10 ),"Licensed and Certified Home Health Agency");

    
      $pdf->Rect(8+20,28+10, 577-38, 770);
      
      $pdf->SetFont('Arial','B',8);
      $pdf->Ln(10);

      //Checkboxes

      $pdf->Rect(132*$con,(19.5*$con)+9,3*$con,3*$con);//Medicare NA
      $pdf->Rect(168*$con,(24.5*$con)+9,3*$con,3*$con);//Certification
      
      $pdf->SetFont('Arial','B',10);
      $pdf->Ln(10);
      //Basic Info
    $pdf->Cell(130*$con,5*$con,'OCCUPATIONAL THERAPY PROGRESS NOTE','TBL',0,'R');
    $pdf->Cell(10*$con,5*$con,'','TB',0,'C');
    $pdf->Cell(50*$con,5*$con,'VISIT DATE: ' . standard_date(mysql_to_unix($visit_log->visited_date)),'TBR',1,'L');
    $pdf->SetFont('Arial','',10);
    $pdf->Cell(25*$con,5*$con,'Patient Name:','TBL',0,'L');
    $y = $pdf->GetY(); $x = $pdf->GetX(); 
    $pdf->SetFont('Arial','B', 8);
    $pdf->Text($x,$y+9, $patient->first_name . " " . $patient->last_name);    
    $pdf->SetFont('Arial','',10);  
    
    $pdf->Cell(55*$con,5*$con,'','TB',0,'C');
    $pdf->Cell(20*$con,5*$con,'Medicare #:','TB',0,'L');
    $y = $pdf->GetY(); $x = $pdf->GetX(); 
    $pdf->SetFont('Arial','B', 8);
    $pdf->Text($x,$y+9, $patient->medicare_id);    
    $pdf->SetFont('Arial','',10);  
    
    $pdf->Cell(22*$con,5*$con,'','TB',0,'C');
    if(is_null($patient->medicare_id)){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x+1,$y+4,6,6);
    }        
    $pdf->Cell(12*$con,5*$con,'NA','TB',0,'R'); 
    $pdf->Cell(26*$con,5*$con,'Med Rec #:','TB',0,'C');
    $y = $pdf->GetY(); $x = $pdf->GetX(); 
    $pdf->SetFont('Arial','B', 8);
    $pdf->Text($x,$y+9, $patient->medical_rec_nbr);    
    $pdf->SetFont('Arial','',10);  
    
    $pdf->Cell(30*$con,5*$con,'','TBR',1,'C');

    $pdf->Cell(25*$con,5*$con,'Primary DX:','TBL',0,'L');
    $y = $pdf->GetY(); $x = $pdf->GetX(); 
    $pdf->SetFont('Arial','', 8);
    $pdf->SetXY($x-2, $y);
    $pdf->MultiCell(150, 12, substr(@$otpn->primary_diag, 0, 30));
    $pdf->SetXY($x, $y);  
    
    $pdf->SetFont('Arial','',10);  
    $pdf->Cell(55*$con,5*$con,'','TB',0,'C');
    $pdf->Cell(20*$con,5*$con,'Date:','TB',0,'L');
    $y = $pdf->GetY(); $x = $pdf->GetX(); 
    $pdf->SetFont('Arial','B', 8);
    $pdf->Text($x,$y+9, (!is_null(@$otpn->primary_diag_date) ? standard_date(mysql_to_unix(@$otpn->primary_diag_date)) : ""));    
    $pdf->SetFont('Arial','',10);  
    
    $pdf->Cell(20*$con,5*$con,'','TB',0,'C');
    $pdf->Cell(10*$con,5*$con,'SOC:','TB',0,'L');
    $y = $pdf->GetY(); $x = $pdf->GetX(); 
    $pdf->SetFont('Arial','B', 8);
    $pdf->Text($x+5,$y+9, standard_date(mysql_to_unix($visit_log->estimated_soc_date)));    
    $pdf->SetFont('Arial','',10);  
    
    $pdf->Cell(25*$con,5*$con,'','TB',0,'C');
    $pdf->Cell(35*$con,5*$con,'Certification','TBR',1,'C');

    $pdf->Cell(25*$con,5*$con,'Therapy Dx:','TBL',0,'L');
    $y = $pdf->GetY(); $x = $pdf->GetX(); 
    $pdf->SetXY($x-2, $y);
    $pdf->SetFont('Arial','', 8);
    $pdf->MultiCell(150, 12, substr(@$otpn->secondary_diag, 0, 30));
    $pdf->SetXY($x, $y);  
    
    $pdf->Cell(55*$con,5*$con,'','TB',0,'C');
    $pdf->Cell(20*$con,5*$con,'Date:','TB',0,'L');
    $y = $pdf->GetY(); $x = $pdf->GetX(); 
    $pdf->SetFont('Arial','B', 8);
    $pdf->Text($x,$y+9, (!is_null(@$otpn->secondary_diag_date) ? standard_date(mysql_to_unix(@$otpn->secondary_diag_date)) : "") );    
    $pdf->SetFont('Arial','',10);  
    
    $pdf->Cell(20*$con,5*$con,'','TB',0,'C');
    $pdf->Cell(10*$con,5*$con,'From:','TB',0,'L');
    $y = $pdf->GetY(); $x = $pdf->GetX(); 
    $pdf->SetFont('Arial','B', 8);
    $pdf->Text($x+5,$y+9, standard_date(mysql_to_unix($visit_log->episode_start_date)) );    
    $pdf->SetFont('Arial','',10);  
    
    $pdf->Cell(28*$con,5*$con,'','TB',0,'C');
    $pdf->Cell(12*$con,5*$con,'To:','TB',0,'L');
    $y = $pdf->GetY(); $x = $pdf->GetX(); 
    $pdf->SetFont('Arial','B', 8);
    $pdf->Text($x,$y+9, standard_date(mysql_to_unix($visit_log->episode_end_date)) );    
    $pdf->SetFont('Arial','',10);  
    
    $pdf->Cell(20*$con,5*$con,'','TBR',1,'C');

    $pdf->Cell(25*$con,5*$con,'Physician:','TBL',0,'L');
    $y = $pdf->GetY(); $x = $pdf->GetX(); 
    $pdf->SetFont('Arial','B', 8);
    $pdf->Text($x,$y+9, @$phys_user_id->complete_name );    
    $pdf->SetFont('Arial','',10);  
    
    $pdf->Cell(46*$con,5*$con,'','TB',0,'C');
    $pdf->Cell(15*$con,5*$con,'Clinician:','TB',0,'L');
    $pdf->Cell(44*$con,5*$con, $visit_log->first_name . " " .  $visit_log->last_name,'TB',0,'L');
    $pdf->Cell(10*$con,5*$con,'Time in:','TB',0,'L');
    $y = $pdf->GetY(); $x = $pdf->GetX(); 
    $pdf->SetFont('Arial','B', 8);
    $pdf->Text($x+15,$y+9, standard_date(mysql_to_unix($visit_log->visited_date . " " . $visit_log->visited_time_in), 'USA_TIME_C') );    
    $pdf->SetFont('Arial','',10);  
    
    $pdf->Cell(18*$con,5*$con,'','TB',0,'C');
    $pdf->Cell(22*$con,5*$con,'Time Out:','TB',0,'L');
    $y = $pdf->GetY(); $x = $pdf->GetX(); 
    $pdf->SetFont('Arial','B', 8);
    $pdf->Text($x-10,$y+9, standard_date(mysql_to_unix($visit_log->visited_date . " " . $visit_log->visited_time_out), 'USA_TIME_C') );    
    $pdf->SetFont('Arial','',10);  
    
    $pdf->Cell(10*$con,5*$con,'','TBR',1,'C');
      
      //Vital signs
      //$pdf->Cell(25*$con,5*$con,'VITAL SIGNS:','TBL',0,'L');
      $pdf->Cell(25*$con,5*$con,'','TBL',0,'L');
      //$pdf->Cell(6*$con,5*$con,'BP:','TB',0,'C');    
      $pdf->Cell(6*$con,5*$con,'','TB',0,'C');    
      /*$y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->SetXY($x+4, $y);
      $pdf->MultiCell(50, 12, @$otpn->blood_pressure);
      $pdf->SetXY($x, $y);  */
      //$pdf->Cell(13*$con,5*$con,'______','TB',0,'L');
      $pdf->Cell(13*$con,5*$con,'','TB',0,'L');
      
      //$pdf->Cell(6*$con,5*$con,'T:','TB',0,'R');
      $pdf->Cell(6*$con,5*$con,'','TB',0,'R');
      /*$y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->SetXY($x+4, $y);
      $pdf->MultiCell(50, 12, @$otpn->temperature);
      $pdf->SetXY($x, $y);  */
      //$pdf->Cell(13*$con,5*$con,'______','TB',0,'L');
      $pdf->Cell(13*$con,5*$con,'','TB',0,'L');
      //$pdf->Cell(6*$con,5*$con,'R:','TB',0,'R');
      $pdf->Cell(6*$con,5*$con,'','TB',0,'R');
      /*$y = $pdf->GetY(); $x = $pdf->GetX();
      $pdf->SetXY($x+4, $y);
      $pdf->MultiCell(50, 12, @$otpn->respiration);
      $pdf->SetXY($x, $y);  */
      //$pdf->Cell(13*$con,5*$con,'______','TB',0,'L');    
      $pdf->Cell(13*$con,5*$con,'','TB',0,'L');    
      //$pdf->Cell(6*$con,5*$con,'P:','TB',0,'R');
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Rect($x-30,$y+3, 8.4, 8.4);
      if (!is_null(@$visit_log->billable_YN) AND @$visit_log->billable_YN == 1){      
        $pdf->Image( $path_ticket, $x-29,$y+4,6,6);
      }
      $pdf->Cell(6*$con,5*$con,'Billable','TB',0,'R');    
      
      /*$y = $pdf->GetY(); $x = $pdf->GetX();
      $pdf->SetXY($x+4, $y);
      $pdf->MultiCell(50, 12, @$otpn->pulse);
      $pdf->SetXY($x, $y);  */
      //$pdf->Cell(12*$con,5*$con,'______','TB',0,'L');
      $pdf->Cell(12*$con,5*$con,'','TB',0,'L');
      $pdf->Cell(20*$con,5*$con,'','TB',0,'C');
      $pdf->Cell(20*$con,5*$con,'Mileage:','TB',0,'L');
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->SetFont('Arial','B', 8);
      $pdf->Text($x,$y+9, @$visit_log->mileage );    
      $pdf->SetFont('Arial','',10);  

      $pdf->Cell(50*$con,5*$con,'','TBR',1,'L');
      
      
      /*********************** End of Banner *************************/
      $cero_y = 20;
      $cero_x += 20;
      $cero_y =$cero_y+5;
      //$pdf->SetLineWidth( 0.9 );
      //$pdf->Line(8+20, 95+$cero_y, 584-17, 95+$cero_y);
      
      /************************ page content goes now ***********************/
      /************************ page footer content goes now ***********************/
      
      $__FONT['PDF']['SIZE'] = 9;
      $__FONT['PDF']['FORM_MEDIUM'] = 10;
      $__FONT['PDF']['FORM_SMALL'] = 9;
      $__FONT['PDF']['FORM_SMALL2'] = 9;
      $__FONT['PDF']['FORM_SMALL3'] = 6.5;
      $__FONT['PDF']['FORM_SMALL4'] = 9.5;
      $__FONT['PDF']['FORM_arial8'] = 9.5;
      
      $pdf->SetFont('Arial','',$__FONT['PDF']['FORM_SMALL']);
      
      $pdf->Line(8+20, 745, 584-17, 745);
      
  		$pdf->Text(13+20, 770, "Therapist: ____________________________________________________");
  		$pdf->Text(400, 770, "Date: ___________________");
  		
  		//$pdf->Text(13+20, 790, "Physician: ____________________________________________________");
  		//$pdf->Text(400, 790, "Date: ___________________");

  	
  		$pdf->SetFont('Courier','B',$__FONT['PDF']['FORM_MEDIUM']);
  		
  		if ($visit_log->sent_to_approve_date) {  		
  			$pdf->Text(60+20, 770, "ELECTRONICALLY SIGNED BY " . $assigned_to -> first_name." ".$assigned_to -> last_name);
  			$pdf->Text(430, 770, standard_date(mysql_to_unix($visit_log->visit_date_time)));
  		}
      
    
    
    $cero_y += 16;
    $cero_y += 26+35;
    $line_need = 0;
    
    if(strlen(@$otpn->addendum) > 0){
        if($line_need)
        $pdf->Line(( $cero_x - 3 ) , ($cero_y + 25+8 ), ( $cero_x + 536 ), ($cero_y + 25 +8));
        
        $pdf->SetFont('Arial', 'B', $__FONT['PDF']['FORM_SMALL']);
        $pdf->Text(( $cero_x + 200),( $cero_y + 36+8 ),"Addendum / Additional Notes"); 
        $pdf->Line(( $cero_x - 3 ) , ($cero_y + 8+40.5 ), ( $cero_x + 536 ), ($cero_y + 8+40.5 ));

        $pdf->SetFont('Courier','',$__FONT['PDF']['FORM_MEDIUM']);
        $pdf->SetXY($cero_x+11, $cero_y+50);
        
        $pdf->MultiCell(516, 10, @$otpn->addendum);
      }
      
      $cero_y = 20;
      $pdf->SetTextColor(0,0,0);    

      $pdf->SetFont('Arial','',$__FONT['PDF']['FORM_SMALL']);
  		$pdf->Text(500, 820, "      Page: 2 of ".$total_page);   
    }
    
    /////////////////////////////////////////////////////////    
    //$this->fpdf->Output('otpn.pdf','D');
    
    $filename = FCPATH;
    $filename = str_replace("\\","/", $filename);
    $filename = $filename.'tmp/'.time().'_'.$visit_log_id.'_pq_otpn.pdf';
    
    
    $this->fpdf->Output($filename,'F');
    return $filename;		
	}
  
	function stev_pdf ( $visit_log_id ) {
    $this->load->model('stevmdl'); 
    
		$visit_log = $this->visitlogmdl->getById($visit_log_id);
    
    
    // printing pdf
		$stev 	 	    = $this->stevmdl->get($visit_log_id);    
		$patient    	= $this->patientmdl->getById($visit_log->patient_id);    
		$assigned_to    = $this->usagymdl->getByUsAgyId($visit_log->visit_user_id);
		$approver    	= $this->usagymdl->getByUsAgyId($visit_log->user_approver);
		$agency	    	= $this->agencymdl->getByAgencyId($patient->agency_id);
		$episde_icd		= $this->episodeicdmdl->get($visit_log->cms485_id);
		$phys_user_id  	= $this->usagymdl->getByUsAgyId($visit_log->phys_user_id);
    
    //print_r($patient);exit;
    
    $tab_47			= $this->parametermdl->getByType(47);
		$tab_47[NULL]   = NULL;
    $tab_20			= $this->parametermdl->getByType(20);
		$tab_20[NULL]   = NULL;
    $tab_52			= $this->parametermdl->getByType(52);
		$tab_52[NULL]   = NULL;
    $tab_93			= $this->parametermdl->getByType(93);
		$tab_93[NULL]   = NULL;
    $tab_92			= $this->parametermdl->getByType(92);
		$tab_92[NULL]   = NULL;
    $tab_32			= $this->parametermdl->getByType(32);
		$tab_32[NULL]   = NULL;
    $tab_43			= $this->parametermdl->getByType(43);
		$tab_43[NULL]   = NULL;
    
    
    $path_ticket = realpath("style/images/icon_enable_negro.gif");		
    
    $this->load->library('fpdf');
    if(!defined('FPDF_FONTPATH'))
		define('FPDF_FONTPATH',$this->config->item('fonts_path'));

    $this->fpdf = new fpdf;

  
    $total_page = 2;
    
    if(@$stev->ther_na == '1'){
    
    }else if(@$stev->ther_name != null || @$stev->ther_implem_plan != null  || @$stev->ther_follow_plan != null || @$stev->ther_raport_pat_fam != null || @$stev->ther_eval_plan != null || @$stev->ther_notes != null){
      $total_page = 3;      
    }
    
    if(@$stev->addendum != null){
      $total_page = 3;
    }
    
    $prior_service_more = 0;
    if(strlen(@$stev->prior_service) > 95){
      $prior_service_more = 1;
      $total_page = 3;
    }
    
    $physical_limit_more = 0;
    if(strlen(@$stev->physical_limit) > 95){
      $physical_limit_more = 1;
      $total_page = 3;
    }
    
    $discharge_summary_desc_more = 0;
    if(strlen(@$stev->discharge_summary_desc) > 180){
      $discharge_summary_desc_more = 1;
      $total_page = 3;
    }
    
    $limitations_more = 0;
    if(strlen(@$stev->limitations) > 170){
      $limitations_more = 1;
      $total_page = 3;
    }
    
    $goals_more = 0;
    if(strlen(@$stev->goals) > 240){
      $goals_more = 1;
      $total_page = 3;
    }
    
    $this->fpdf->Open();
		
		$pdf = $this->fpdf;
    
    $pdf->AddPage();
    
    $con = 2.8346456692913384;
    
    //Check Boxes
    //Basic

    $pdf->Rect(130*$con,15.5*$con,3*$con,3*$con);//Medicare NA
    $pdf->Rect(168*$con,20.5*$con,3*$con,3*$con);

    //////////////////////////////////////////////////////

    

    //Basic Info
    $y = $pdf->GetY(); $x = $pdf->GetX(); 
    $pdf->SetFont('Arial','B', 9);
    $pdf->Text($x+3,$y+10,  "Therapy Visit #:  ".@$visit_log->visit_log_number);
    $pdf->SetFont('Arial','',9); 
    
    $pdf->SetFont('Arial','B',9);
    $pdf->Cell(130*$con,5*$con,'SPEECH THERAPY ASSESSMENT','TBL',0,'R');
    $pdf->Cell(10*$con,5*$con,'','TB',0,'C');
    $pdf->Cell(50*$con,5*$con,'VISIT DATE: '.standard_date(mysql_to_unix($visit_log->visit_date_time)),'TBR',1,'L');
    $pdf->SetFont('Arial','',9);

    $pdf->Cell(25*$con,5*$con,'Patient Name: ','L',0,'L');
    $y = $pdf->GetY(); $x = $pdf->GetX(); 
    $pdf->SetFont('Arial','B',9);
    $pdf->Text($x,$y+10, $patient->first_name . " " . $patient->last_name);    
    $pdf->SetFont('Arial','',9);
    $pdf->Cell(55*$con,5*$con,'','T',0,'C');
    
    $pdf->Cell(20*$con,5*$con,'Medicare #: ','',0,'L');    
    $y = $pdf->GetY(); $x = $pdf->GetX(); 
    $pdf->SetFont('Arial','B',9);
    $pdf->Text($x,$y+10, $patient->medicare_id);    
    $pdf->SetFont('Arial','',9);
    
    $pdf->Cell(20*$con,5*$con,'','',0,'C');
    if(is_null($patient->medicare_id)){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x+2,$y+3,6,6);
    }        
    $pdf->Cell(10*$con,5*$con,'NA','',0,'R'); 
    
    $pdf->Cell(30*$con,5*$con,'Med Rec #: ','',0,'C');
    $y = $pdf->GetY(); $x = $pdf->GetX(); 
    $pdf->SetFont('Arial','B',9);
    $pdf->Text($x,$y+10, $patient->medical_rec_nbr);    
    $pdf->SetFont('Arial','',9);
    $pdf->Cell(30*$con,5*$con,'','R',1,'C');

    $pdf->Cell(25*$con,5*$con,'Primary DX:','L',0,'L');
    $y = $pdf->GetY(); $x = $pdf->GetX(); 
    $pdf->SetXY($x-2, $y);
    $pdf->MultiCell(140, 12, substr(@$stev->primary_diag, 0, 30));
    $pdf->SetXY($x, $y);  
    $pdf->Cell(55*$con,5*$con, '','',0,'C');
    $pdf->Cell(20*$con,5*$con,'Date:','',0,'');
    
    $y = $pdf->GetY(); $x = $pdf->GetX(); 
    $pdf->SetFont('Arial','B',9);
    $pdf->Text($x,$y+10, (!is_null(@$stev->primary_diag_date) ? standard_date(mysql_to_unix(@$stev->primary_diag_date)) : ""));    
    $pdf->SetFont('Arial','',9);
    $pdf->Cell(20*$con,5*$con,'','',0,'C');
    
    $pdf->Cell(10*$con,5*$con,'SOC:','',0,'L');
    $y = $pdf->GetY(); $x = $pdf->GetX(); 
    $pdf->SetFont('Arial','B',9);
    $pdf->Text($x,$y+10, standard_date(mysql_to_unix($visit_log->estimated_soc_date)));    $pdf->SetFont('Arial','',9);
    
    $pdf->Cell(25*$con,5*$con,'','',0,'C');    
    $pdf->Cell(35*$con,5*$con,'Certification','R',1,'C');
    $pdf->Cell(25*$con,5*$con,'Secondary DX:','L',0,'L');
    $y = $pdf->GetY(); $x = $pdf->GetX(); 
    $pdf->SetXY($x-2, $y);
    $pdf->MultiCell(140, 12, substr(@$stev->secondary_diag, 0, 30));
    $pdf->SetXY($x, $y);  
    $pdf->Cell(55*$con,5*$con, '','',0,'C');
    $pdf->Cell(20*$con,5*$con,'Date:','',0,'L');
    $pdf->SetFont('Arial','B',9);
    $pdf->Cell(20*$con,5*$con, (!is_null(@$stev->secondary_diag_date) ? standard_date(mysql_to_unix(@$stev->secondary_diag_date)) : ""),'',0,'C');
    $pdf->SetFont('Arial','',9);
    
    $pdf->Cell(10*$con,5*$con,'From:','',0,'L');
    $y = $pdf->GetY(); $x = $pdf->GetX(); 
    $pdf->SetFont('Arial','B', 9);
    $pdf->Text($x,$y+10, standard_date(mysql_to_unix($visit_log->episode_start_date)) );    $pdf->SetFont('Arial','',9);      
    $pdf->Cell(25*$con,5*$con,'','',0,'C');
    
    $pdf->Cell(15*$con,5*$con,'To:','',0,'L');
    $y = $pdf->GetY(); $x = $pdf->GetX(); 
    $pdf->SetFont('Arial','B', 9);
    $pdf->Text($x,$y+10, standard_date(mysql_to_unix($visit_log->episode_end_date)) );    
    $pdf->SetFont('Arial','',9);  
    $pdf->Cell(20*$con,5*$con,'','R',1,'C');

    $pdf->Cell(25*$con,5*$con,'Physician:','L',0,'L');
    $y = $pdf->GetY(); $x = $pdf->GetX(); 
    $pdf->SetFont('Arial','B', 9);
    $pdf->Text($x,$y+10, @$phys_user_id->complete_name );    
    $pdf->SetFont('Arial','',9);  
    //$pdf->Cell(32*$con,5*$con,'','',0,'C');
    $pdf->Cell(55*$con,5*$con,'','',0,'C');
    
    $pdf->Cell(20*$con,5*$con,'Clinician:','',0,'L');
    $pdf->Cell(20*$con,5*$con, $visit_log->first_name . " " .  $visit_log->last_name,'',0,'C');
    
    $pdf->Cell(10*$con,5*$con,'Time in:','',0,'L');
    $y = $pdf->GetY(); $x = $pdf->GetX(); 
    $pdf->SetFont('Arial','B', 9);
    $pdf->Text($x+13,$y+10, standard_date(mysql_to_unix($visit_log->visited_date . " " . $visit_log->visited_time_in), 'USA_TIME_C') );    
    $pdf->SetFont('Arial','',9);  
    $pdf->Cell(20*$con,5*$con,'','',0,'C');
    
    $pdf->Cell(15*$con,5*$con,'Time Out:','',0,'L');
    $y = $pdf->GetY(); $x = $pdf->GetX(); 
    $pdf->SetFont('Arial','B', 9);
    $pdf->Text($x+3,$y+10, standard_date(mysql_to_unix($visit_log->visited_date . " " . $visit_log->visited_time_out), 'USA_TIME_C') );    
    $pdf->SetFont('Arial','',9);  
    //$pdf->Cell(15*$con,5*$con,'','',0,'C');
    /*
    $pdf->Cell(20*$con,5*$con,'Mileage:','',0,'L');
    $y = $pdf->GetY(); $x = $pdf->GetX(); 
    $pdf->SetFont('Arial','B', 9);
    $pdf->Text($x,$y+10,  @$visit_log->mileage);    
    $pdf->SetFont('Arial','',9); */
    //$pdf->Cell(13*$con,5*$con,'','R',1,'C');
    $pdf->Cell(25*$con,5*$con,'','R',1,'C');
    

    //******  Initial Eval/Eval Only *******

    //$pdf->Cell(8*$con,5*$con,'','TL',0,'L'); 
    
    $y = $pdf->GetY(); $x = $pdf->GetX(); 
    $pdf->SetFont('Arial','', 9);
    $pdf->Text($x+3,$y+10,  "Assessment Type:    ".$tab_32[@$stev->tab_32_assess_type]);    $pdf->SetFont('Arial','',9); 
    
    $y = $pdf->GetY(); $x = $pdf->GetX(); 
    $pdf->SetFont('Arial','', 9);
    $pdf->Text($x+250,$y+10,  "Therapy Type:    ".( (@$stev->therapytype == 'R') ? 'Restorative' : (@$stev->therapytype == 'M' ? 'Maintenance' : 'Restorative') ) );
    $pdf->SetFont('Arial','',9); 
    
    $pdf->Cell(180*$con,5*$con,'','TL',0,'L'); 
    
    /*
    // Rectangle 1 comes here ^^
    if(@$stev->tab_32_assess_type == 1){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x-10,$y+4,7,7);
    }
    $pdf->Rect(14*$con,36*$con,3*$con,3*$con);
    $pdf->Cell(28*$con,5*$con,'Initial Eval','T',0,'L');
    $pdf->Cell(4*$con,5*$con,'','T',0,'C');
    // Rectangle 2 comes here ^^
    if(@$stev->tab_32_assess_type == 2){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x-10,$y+4,7,7);
    }
    $pdf->Rect(46*$con,36*$con,3*$con,3*$con);
    $pdf->Cell(28*$con,5*$con,'Eval Only','T',0,'L');
    $pdf->Cell(4*$con,5*$con,'','T',0,'C');
    // Rectangle 3 comes here ^^
    if(@$stev->tab_32_assess_type == 3){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x-10,$y+4,7,7);
    }
    $pdf->Rect(78*$con,36*$con,3*$con,3*$con);
    $pdf->Cell(28*$con,5*$con,'Post Hospital','T',0,'L');
    $pdf->Cell(10*$con,5*$con,'','T',0,'C');
    // Rectangle 3 comes here ^^
    if(@$stev->tab_32_assess_type == 4){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x-10,$y+4,7,7);
    }
    $pdf->Rect(116*$con,36*$con,3*$con,3*$con);
    $pdf->Cell(28*$con,5*$con,'Recertification','T',0,'L');
    $pdf->Cell(10*$con,5*$con,'','T',0,'C');
    // Rectangle 4 comes here ^^
    if(@$stev->tab_32_assess_type == 5){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x-10,$y+4,7,7);
    }
    $pdf->Rect(154*$con,36*$con,3*$con,3*$con);
    $pdf->Cell(32*$con,5*$con,'Discharge','T',0,'L');
    */
    // Rectangle 4 comes here ^^
    $pdf->Cell(10*$con,5*$con,'','TR',1,'L');

    //***** ST Plan of Care/ Frequency discussed with: ******

    $pdf->Cell(190*$con,5*$con,'ST Plan of Care/ Frequency discussed with:','TRL',1,'L');

    $pdf->Cell(8*$con,5*$con,'','BL',0,'L'); 
    // Rectangle 1 comes here ^^
    if(@$stev->st_poc_discussed_dr == 1){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x-10,$y+4,7,7);
    }
    $pdf->Rect(14*$con,46*$con,3*$con,3*$con);
    //$pdf->Cell(28*$con,5*$con,'Dr','B',0,'L');
    $pdf->Cell(18*$con,5*$con,'Dr','B',0,'L');
    $pdf->Cell(4*$con,5*$con,'','B',0,'C');
    // Rectangle 2 comes here ^^
    if(@$stev->st_poc_discussed_pat == 1){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x-10,$y+4,7,7);
    }
    //$pdf->Rect(46*$con,46*$con,3*$con,3*$con);
    $pdf->Rect(36*$con,46*$con,3*$con,3*$con);
    //$pdf->Cell(28*$con,5*$con,'Patient/S.O.','B',0,'L');
    $pdf->Cell(18*$con,5*$con,'Patient/S.O.','B',0,'L');
    $pdf->Cell(4*$con,5*$con,'','B',0,'C');
    // Rectangle 3 comes here ^^
    if(@$stev->st_poc_discussed_agen == 1){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x-4,$y+4,7,7);
    }
    //$pdf->Rect(78*$con,46*$con,3*$con,3*$con);
    $pdf->Rect(60*$con,46*$con,3*$con,3*$con);
    //$pdf->Cell(28*$con,5*$con,'Agency Staff','B',0,'L');
    $pdf->Cell(18*$con,5*$con,'  Agency Staff','B',0,'L');
    $pdf->Cell(10*$con,5*$con,'','B',0,'C');
    // Rectangle 3 comes here ^^
    if(@$stev->st_poc_discussed_cg == 1){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x-10,$y+4,7,7);
    }
    //$pdf->Rect(116*$con,46*$con,3*$con,3*$con);
    $pdf->Rect(86*$con,46*$con,3*$con,3*$con);
    //$pdf->Cell(28*$con,5*$con,'CG','B',0,'L');
    $pdf->Cell(18*$con,5*$con,'CG','B',0,'L');
    $pdf->Cell(10*$con,5*$con,'','B',0,'C');
    // Rectangle 4 comes here ^^
    if(@$stev->st_poc_discussed_other == 1){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x-10,$y+4,7,7);
    }
    //$pdf->Rect(154*$con,46*$con,3*$con,3*$con);
    $pdf->Rect(114*$con,46*$con,3*$con,3*$con);
    //$pdf->Cell(32*$con,5*$con,'Other: ','B',0,'L');
    $pdf->Cell(72*$con,5*$con,'Other: ','B',0,'L');
    if(@$stev->st_poc_discussed_other_desc != ""){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->SetFont('Arial','', 10);
      if(strlen(@$stev->st_poc_discussed_other_desc) > 30)
      $pdf->Text($x-170,$y+10, substr(@$stev->st_poc_discussed_other_desc, 0, 30));    
      else
      $pdf->Text($x-170,$y+10, @$stev->st_poc_discussed_other_desc);          
      $pdf->SetFont('Arial','',9);  
    }
    // Rectangle 4 comes here ^^
    $pdf->Cell(10*$con,5*$con,'','BR',1,'L');
    ///////////////////END///////////////////////////

    /*********** Prior ST Services ************/

    
    $pdf->Cell(44*$con,5*$con,'Prior ST Services Received:','L',0,'L');
    
    $y = $pdf->GetY(); $x = $pdf->GetX(); 
    $pdf->SetXY($x-123, $y);
    if($prior_service_more)
    $pdf->MultiCell(260, 12, '                                            '.substr(@$stev->prior_service, 0, 95).' + ');
    else
    $pdf->MultiCell(260, 12, '                                            '.substr(@$stev->prior_service, 0, 95));
    $pdf->SetXY($x, $y);  
    
    $pdf->Cell(55*$con,5*$con,'___________________________','R',0,'L');
    $pdf->Cell(33*$con,5*$con,' Physical Limitations:','L',0,'L');
    
    $y = $pdf->GetY(); $x = $pdf->GetX(); 
    $pdf->SetXY($x-93, $y);
    if($physical_limit_more)
    $pdf->MultiCell(255, 12, '                                  '.substr(@$stev->physical_limit, 0, 95).' + ');
    else
    $pdf->MultiCell(255, 12, '                                  '.substr(@$stev->physical_limit, 0, 95));
    $pdf->SetXY($x, $y);  
    
    $pdf->Cell(58*$con,5*$con,'____________________________','R',1,'L');

    $pdf->Cell(99*$con,5*$con,'_________________________________________________','LBR',0,'L');
    
    
    $y = $pdf->GetY(); $x = $pdf->GetX();     
    
    $pdf->Cell(91*$con,5*$con,'_____________________________________________','LBR',1,'L');
    //////////////////END//////////////////////////


    /*******************Start***********************/
    //Pain Assessment / System Assessment / Functional Impairment
    $pdf->Cell(40*$con,5*$con,'REHAB POTENTIAL','LR',0,'C');
    $pdf->Cell(45*$con,5*$con,'MENTAL STATUS','R',0,'C');
    $pdf->Cell(50*$con,5*$con,'SYSTEM ASSESSMENT','R',0,'C');
    $pdf->Cell(55*$con,5*$con,'PAIN ASSESSMENT','R',1,'C');
    //rehab 1
    $pdf->Cell(3*$con,5*$con,'','L',0,'L');
    $pdf->Rect(12*$con,65.5*$con,3*$con,3*$con);
    if(@$stev->tab_43_rehab_poten == 1){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x-1,$y+3,6,6);
    }
    $pdf->Cell(2*$con,5*$con,'','',0,'L');
    $pdf->Cell(16*$con,5*$con,'Poor','',0,'L');
    
    
    $pdf->Cell(5*$con,5*$con,'','',0,'L');
    //$pdf->Rect(34*$con,65.5*$con,3*$con,3*$con);
    $pdf->Rect(32*$con,65.5*$con,3*$con,3*$con);
    if(@$stev->tab_43_rehab_poten == 2){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      //$pdf->Image( $path_ticket, $x-4,$y+3,6,6);
      $pdf->Image( $path_ticket, $x-10,$y+3,6,6);
    }
    $pdf->Cell(14*$con,5*$con,'Guarded','',0,'C');
    //Mental Status 1
    $pdf->Cell(3*$con,5*$con,'','L',0,'L');
    $pdf->Rect(52*$con,65.4*$con,3*$con,3*$con);
    
    $pdf->Cell(2*$con,5*$con,'','',0,'L');
    if(@$stev->mental_alert == 1){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x-7,$y+3,6,6);
    }
    $pdf->Cell(13*$con,5*$con,'Alert','',0,'L');
    
    $pdf->Cell(5*$con,5*$con,'','',0,'L');
    $pdf->Rect(72*$con,65.4*$con,3*$con,3*$con);
    if(@$stev->mental_oriented == 1){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x-2,$y+3,6,6);
    }
    $pdf->Cell(22*$con,5*$con,'Oriented','R',0,'C');
    //System Assesment 1
    $pdf->Cell(15*$con,5*$con,'BloodP:',0,0,'L');
    $y = $pdf->GetY(); $x = $pdf->GetX(); 
    $pdf->SetFont('Arial','B', 9);
    $pdf->Text($x-8,$y+10,  @$stev->p1_sa_bp);    
    $pdf->SetFont('Arial','',9); 
    
    //$pdf->Cell(5*$con,5*$con,'',0,0,'L');
    $pdf->Cell(10*$con,5*$con,'',0,0,'L');    
    //$pdf->Rect(117*$con,65.4*$con,3*$con,3*$con);
    $pdf->Rect(122*$con,65.4*$con,3*$con,3*$con);
    if(@$stev->system_bp_right_left == 'L'){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x+7,$y+3,6,6);
    }
    
    $pdf->Cell(15*$con,5*$con,'R','',0,'C');    
    //$pdf->Rect(129*$con,65.4*$con,3*$con,3*$con);
    $pdf->Rect(134*$con,65.4*$con,3*$con,3*$con);
    if(@$stev->system_bp_right_left == 'R'){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x-2,$y+3,6,6);
    }
    //$pdf->Cell(10*$con,5*$con,'L','',0,'C');
    $pdf->Cell(11*$con,5*$con,'L','',0,'C');
    //$pdf->Cell(5*$con,5*$con,'','R',0,'L');
    $pdf->Cell(-1*$con,5*$con,'','R',0,'L');
    //Pain Ases 1
    if(@$stev->tab_75_pain_assessment == 1){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x+5,$y+3,6,6);
    }
    $pdf->Cell(4*$con,5*$con,'',0,0,'L');    
    $pdf->Rect(146*$con,65.4*$con,3*$con,3*$con);
    $pdf->Cell(10*$con,5*$con,'No Pain','',0,'L');
    
    if(@$stev->tab_75_pain_assessment == 2){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x+15,$y+3,6,6);
    }
    $pdf->Cell(6*$con,5*$con,'',0,0,'L');
    $pdf->Rect(164*$con,65.4*$con,3*$con,3*$con);
    $pdf->Cell(6*$con,5*$con,'1',0,0,'R');
    
    if(@$stev->tab_75_pain_assessment == 3){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x+5,$y+3,6,6);
    }
    $pdf->Cell(3*$con,5*$con,'',0,0,'L');
    $pdf->Rect(172*$con,65.4*$con,3*$con,3*$con);
    $pdf->Cell(5*$con,5*$con,'2',0,0,'R');
    
    if(@$stev->tab_75_pain_assessment == 4){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x+7,$y+3,6,6);
    }
    $pdf->Cell(5*$con,5*$con,'',0,0,'L');
    $pdf->Rect(181*$con,65.4*$con,3*$con,3*$con);
    $pdf->Cell(5*$con,5*$con,'3',0,0,'L');
    
    if(@$stev->tab_75_pain_assessment == 5){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x+5,$y+3,6,6);
    }
    $pdf->Cell(5*$con,5*$con,'',0,0,'L');
    $pdf->Rect(190*$con,65.4*$con,3*$con,3*$con);
    $pdf->Cell(5*$con,5*$con,'4',0,0,'L');
    $pdf->Cell(1*$con,5*$con,'','R',1,'L');
    //Rehab 2
    $pdf->Cell(3*$con,5*$con,'','L',0,'L');
    if(@$stev->tab_43_rehab_poten == 3){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x-1,$y+2,6,6);
    }
    $pdf->Rect(12*$con,70*$con,3*$con,3*$con);
    $pdf->Cell(2*$con,5*$con,'','',0,'L');
    $pdf->Cell(12*$con,5*$con,'Fair','',0,'L');
    
    if(@$stev->tab_43_rehab_poten == 4){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      //$pdf->Image( $path_ticket, $x-1,$y+2,6,6);
      $pdf->Image( $path_ticket, $x+15,$y+2,6,6);
    }
    $pdf->Cell(5*$con,5*$con,'','',0,'L');
    //$pdf->Rect(30*$con,70*$con,3*$con,3*$con);
    $pdf->Rect(32*$con,70*$con,3*$con,3*$con);
    $pdf->Cell(18*$con,5*$con,'Good','',0,'C');
    //mental status 2
    $pdf->Cell(3*$con,5*$con,'','L',0,'L');
    
    if(@$stev->mental_agitated == 1){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x-1,$y+2,6,6);
    }
    $pdf->Rect(52*$con,70*$con,3*$con,3*$con);
    $pdf->Cell(2*$con,5*$con,'','',0,'L');
    $pdf->Cell(13*$con,5*$con,'Agitated','',0,'L');
    $pdf->Cell(5*$con,5*$con,'','',0,'L');
    if(@$stev->mental_comatose == 1){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x-1,$y+2,6,6);
    }
    $pdf->Rect(72*$con,70*$con,3*$con,3*$con);
    $pdf->Cell(22*$con,5*$con,'Comatose','R',0,'R');
    //system asses 2
    $pdf->Cell(4*$con,5*$con,'',0,0,'L');
    if(@$stev->system_sitt_lyi_stand == 1){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x-7,$y+3,6,6);
    }
    $pdf->Rect(96*$con,70.5*$con,3*$con,3*$con);
    $pdf->Cell(14*$con,5*$con,'Sitting',0,0,'L');
    $pdf->Cell(1.7*$con,5*$con,'',0,'TBLR','L');
    if(@$stev->system_sitt_lyi_stand == 2){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x-7,$y+3,6,6);
    }
    $pdf->Rect(112*$con,70.5*$con,3*$con,3*$con);
    $pdf->Cell(10*$con,5*$con,'Lying',0,0,'L');
    $pdf->Cell(3*$con,5*$con,'',0,0,'L');
    if(@$stev->system_sitt_lyi_stand == 3){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x-7,$y+3,6,6);
    }
    $pdf->Rect(126*$con,70.5*$con,3*$con,3*$con);
    $pdf->Cell(17.3*$con,5*$con,'Standing','R',0,'R');
    //pain Asses 2
    $pdf->Cell(4*$con,5*$con,'','L',0,'L');
    if(@$stev->tab_75_pain_assessment == 6){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x-1,$y+2,6,6);
    }
    $pdf->Rect(146*$con,70*$con,3*$con,3*$con);
    $pdf->Cell(4.5*$con,5*$con,'5',0,0,'L');
    $pdf->Cell(3.5*$con,5*$con,'',0,0,'L');
    if(@$stev->tab_75_pain_assessment == 7){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x-8,$y+2,6,6);
    }
    $pdf->Rect(153.5*$con,70*$con,3*$con,3*$con);
    $pdf->Cell(4.5*$con,5*$con,'6',0,0,'L');
    $pdf->Cell(4.5*$con,5*$con,'',0,0,'L');
    if(@$stev->tab_75_pain_assessment == 8){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x-8,$y+2,6,6);
    }
    $pdf->Rect(164*$con,70*$con,3*$con,3*$con);
    $pdf->Cell(5*$con,5*$con,'7',0,0,'R');
    $pdf->Cell(4*$con,5*$con,'',0,0,'L');
    if(@$stev->tab_75_pain_assessment == 9){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x-8,$y+2,6,6);
    }
    $pdf->Rect(172*$con,70*$con,3*$con,3*$con);
    $pdf->Cell(4.5*$con,5*$con,'8',0,0,'C');
    $pdf->Cell(4.5*$con,5*$con,'',0,0,'L');
    if(@$stev->tab_75_pain_assessment == 10){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x-8,$y+2,6,6);
    }
    $pdf->Rect(181*$con,70*$con,3*$con,3*$con);
    $pdf->Cell(4.5*$con,5*$con,'9',0,0,'L');
    $pdf->Cell(4*$con,5*$con,'',0,0,'L');
    if(@$stev->tab_75_pain_assessment == 11){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x-8,$y+2,6,6);
    }
    $pdf->Rect(190*$con,70*$con,3*$con,3*$con);
    $pdf->Cell(4*$con,5*$con,'10',0,0,'L');
    $pdf->Cell(3.5*$con,5*$con,'','R',1,'L');
    //Rehab Potential 3
    $pdf->Cell(3*$con,5*$con,'','L',0,'L');
    if(@$stev->tab_43_rehab_poten == 5){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x-1,$y+2,6,6);
    }
    $pdf->Rect(12*$con,75*$con,3*$con,3*$con);
    $pdf->Cell(2*$con,5*$con,'','',0,'L');
    $pdf->Cell(16*$con,5*$con,'Excellent','',0,'L');
    $pdf->Cell(19*$con,5*$con,'','',0,'L');
    //Mental Status 3
    $pdf->Cell(3*$con,5*$con,'','L',0,'L');
    if(@$stev->mental_forgetful == 1){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x-1,$y+3,6,6);
    }
    $pdf->Rect(52*$con,75.5*$con,3*$con,3*$con);
    $pdf->Cell(2*$con,5*$con,'','',0,'L');
    $pdf->Cell(13*$con,5*$con,'Forgetful','',0,'L');
    $pdf->Cell(5*$con,5*$con,'','',0,'L');
    if(@$stev->mental_depressed == 1){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x-1,$y+3,6,6);
    }
    $pdf->Rect(72*$con,75.5*$con,3*$con,3*$con);
    $pdf->Cell(22*$con,5*$con,'Depressed','R',0,'R');
    //System Assesment 3
    $pdf->Cell(20*$con, 5*$con, 'HR: '.@$stev->system_HR, 0,0);
    $pdf->Cell(30*$con, 5*$con, '02 Sat: '.@$stev->system_o2_sat, 'R','L');
    //Pain Asses 3
    $y = $pdf->GetY(); $x = $pdf->GetX(); 
    $pdf->SetXY($x, $y);
    $pdf->MultiCell(140, 12, '               '.@$stev->pain_location);
    $pdf->SetXY($x, $y);  
    $pdf->Cell(55*$con, 5*$con, 'Location: ___________________', 'R','1','L');
    //Rehab 4
    $pdf->Cell(40*$con, 5*$con, '', 'L','0','L');
    //Mental 4
    $pdf->Cell(3*$con,5*$con,'','L',0,'L');
    if(@$stev->mental_lethargic == 1){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x-1,$y+3,6,6);
    }
    $pdf->Rect(52*$con,80.5*$con,3*$con,3*$con);
    $pdf->Cell(2*$con,5*$con,'','',0,'L');
    $pdf->Cell(13*$con,5*$con,'Lethargic ','',0,'L');
    $pdf->Cell(5*$con,5*$con,'','',0,'L');
    if(@$stev->mental_disoriented == 1){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x-1,$y+3,6,6);
    }
    $pdf->Rect(72*$con,80.5*$con,3*$con,3*$con);
    $pdf->Cell(22*$con,5*$con,'Disoriented','R',0,'R');
    //System Asses 4
    
    $y = $pdf->GetY(); $x = $pdf->GetX(); 
    $pdf->SetXY($x, $y);
    $pdf->MultiCell(140, 12, '         '.@$stev->system_skin);
    $pdf->SetXY($x, $y);      
    $pdf->Cell(50*$con, 5*$con, 'Skin: ___________________', 'R','L');
    //Pain Asses 4
    $pdf->Cell(55*$con, 5*$con, ' __________________________', 'R','1','L');
    //Rehab 5
    $pdf->Cell(40*$con, 5*$con, '', 'L','0','L');
    // Mental Status 5
    $pdf->Cell(45*$con, 5*$con, '', 'L','0','L');
    //System Asses 5
    $pdf->Cell(50*$con, 5*$con, '  _______________________', 'LR','L');
    //Pain Asses 5
    $y = $pdf->GetY(); $x = $pdf->GetX(); 
    $pdf->SetXY($x, $y);
    $pdf->MultiCell(140, 12, '                                  '.@$stev->pain_control);
    $pdf->SetXY($x, $y);  
    $pdf->Cell(55*$con, 5*$con, 'Current Pain Control: _________', 'R','1','L');
    //Rehab 6
    $pdf->Cell(40*$con, 5*$con, '', 'L','0','L');
    // Mental Status 6
    $pdf->Cell(45*$con, 5*$con, '', 'L','0','L');
    //System Asses 6
    $pdf->Cell(50*$con, 5*$con, '  _______________________', 'LR','L');
    //Pain Asses 6
    $pdf->Cell(55*$con, 5*$con, '__________________________', 'R','1','L');

    //////////////////////////END/////////////////////////////

    //*********Fucntion Limitation and Partilian history****//
    /*************start******************/

    $pdf->Cell(95*$con, 5*$con, '      FUNCTIONAL LIMITATIONS', 'RTL','0','L');
    
    $y = $pdf->GetY(); $x = $pdf->GetX(); 
    $pdf->SetXY($x, $y);
    $pdf->MultiCell(270, 14, '                                                      '.substr(@$stev->pertinent_history, 0, 265));
    $pdf->SetXY($x, $y);      
    $pdf->Cell(95*$con, 5*$con, 'Pertinent History of Current Illness: __________________
    ', 'RT','1','L');

    //Amputaion/paralysi........
    if(@$stev->func_limit_ampu == 1){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x+7,$y+3,6,6);
    }
    $pdf->Rect(12*$con,100.5*$con,3*$con,3*$con);
    $pdf->Cell(25.5*$con, 5*$con, 'Amputation', 'L','0','R');
    if(@$stev->func_limit_paralysis == 1){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x+12,$y+3,6,6);
    }
    $pdf->Rect(39*$con,100.5*$con,3*$con,3*$con);
    $pdf->Cell(24*$con, 5*$con, 'Paralysis', '','0','R');
    if(@$stev->func_limit_bowel == 1){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x+20,$y+3,6,6);
    }
    $pdf->Rect(66*$con,100.5*$con,3*$con,3*$con);
    $pdf->Cell(22*$con, 5*$con, 'Bowel', '','0','R');
    if(@$stev->func_limit_bladder == 1){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x+17,$y+3,6,6);
    }
    $pdf->Rect(87*$con,100.5*$con,3*$con,3*$con);
    $pdf->Cell(23.5*$con, 5*$con, 'Bladder', 'R','0','R');
    $pdf->Cell(95*$con, 5*$con, '______________________________________________
    ', 'R','1','L');
    //Endurance            Contracture           Ambulation               Hearing
    if(@$stev->func_limit_endur == 1){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x+7,$y+3,6,6);
    }
    $pdf->Rect(12*$con,105.5*$con,3*$con,3*$con);
    $pdf->Cell(25.5*$con, 5*$con, 'Endurance', 'L','0','R');
    if(@$stev->func_limit_contract == 1){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x+10,$y+3,6,6);
    }
    $pdf->Rect(38.5*$con,105.5*$con,3*$con,3*$con);
    $pdf->Cell(26*$con, 5*$con, 'Contracture', '','0','R');
    if(@$stev->func_limit_ambu == 1){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x+13,$y+3,6,6);
    }
    $pdf->Rect(65.5*$con,105.5*$con,3*$con,3*$con);
    $pdf->Cell(26.5*$con, 5*$con, 'Ambulation', '','0','R');
    if(@$stev->func_limit_hear == 1){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x+2,$y+3,6,6);
    }
    $pdf->Rect(88*$con,105.5*$con,3*$con,3*$con);
    $pdf->Cell(17*$con, 5*$con, 'Hearing', 'R','0','R');
    $pdf->Cell(95*$con, 5*$con, '______________________________________________
    ', 'R','1','L');    
    //    Speech                 Legally Blind          Dyspnea on exertion
    if(@$stev->func_limit_speech == 1){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x+7,$y+3,6,6);
    }
    $pdf->Rect(12*$con,110.5*$con,3*$con,3*$con);
    $pdf->Cell(20*$con, 5*$con, 'Speech', 'L','0','R');
    if(@$stev->func_limit_legally_blind == 1){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x+26,$y+3,6,6);
    }
    $pdf->Rect(38.5*$con,110.5*$con,3*$con,3*$con);
    $pdf->Cell(35*$con, 5*$con, 'Legally Blind', '','0','R');
    if(@$stev->func_limit_dysp_on_exer == 1){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x+3,$y+3,6,6);
    }
    $pdf->Rect(65.5*$con,110.5*$con,3*$con,3*$con);
    $pdf->Cell(40*$con, 5*$con, 'Dyspnea on exertion', 'R','0','R');
    $pdf->Cell(95*$con, 5*$con, '______________________________________________
    ', 'R','1','L');    
    //    Other: 
    if(@$stev->func_limit_other == 1){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x+7,$y+3,6,6);
    }
    $pdf->Rect(12*$con,115.5*$con,3*$con,3*$con);
    
    $y = $pdf->GetY(); $x = $pdf->GetX(); 
    $pdf->SetXY($x, $y);
    $pdf->MultiCell(200, 17, '                    '.@$stev->func_limit_other_desc);
    $pdf->SetXY($x, $y);          
    $pdf->Cell(95*$con, 6*$con, '       Other:', 'LR','0','L');    
    $pdf->Cell(95*$con, 6*$con, '______________________________________________
    ', 'R','1','L');    
    //*********END**********************

    //***********HOME Evaluation/Safety Mesure*******************/
    $pdf->Cell(95*$con, 5*$con, '      HOME EVALUATION', 'RTL','0','L');
    $pdf->Cell(95*$con, 5*$con, '      SAFETY MEASURE', 'RT','1','L');

    //Alone.Lives w/Spouse: 
    if(@$stev->home_ev_alone == 1){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x+7,$y+5,6,6);
    }
    $pdf->Rect(12*$con,127*$con,3*$con,3*$con);
    $pdf->Cell(30*$con, 6*$con, '       Alone', 'L','0','L');    
    
    if(@$stev->home_ev_wit_spouse == 1){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x-13,$y+5,6,6);
    }
    $pdf->Rect(35*$con,127*$con,3*$con,3*$con);    
    
    $y = $pdf->GetY(); $x = $pdf->GetX(); 
    $pdf->SetXY($x+80, $y);
    $pdf->MultiCell(100, 17, @$stev->home_ev_with_spouse_desc);
    $pdf->SetXY($x, $y);          
    $pdf->Cell(65*$con, 6*$con, 'Lives w/Spouse: ________________', 'R','0','L');    

    //Emergency management/isolation
    if(@$stev->safety_emerg_manag == 1){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x+6,$y+4,6,6);
    }
    $pdf->Rect(106.5*$con,127*$con,3*$con,3*$con);
    $pdf->Cell(47.5*$con, 6*$con, ' Emergency Management ', '','0','R');    
    
    if(@$stev->safety_isola_precau == 1){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x+23,$y+4,6,6);
    }
    $pdf->Rect(160*$con,127*$con,3*$con,3*$con);
    $pdf->Cell(47.5*$con, 6*$con, 'Isolation Precautions ', 'R','1','R');    

    //Lives w/ Other
    if(@$stev->home_ev_lives_with_other == 1){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x+7,$y+3,6,6);
    }
    $pdf->Rect(12*$con,132.5*$con,3*$con,3*$con);
    $y = $pdf->GetY(); $x = $pdf->GetX(); 
    $pdf->SetXY($x+90, $y);
    $pdf->MultiCell(150, 17, @$stev->home_ev_other_desc);
    $pdf->SetXY($x, $y);    
    $pdf->Cell(95*$con, 6*$con, '       Lives w/ Other: __________________', 'LR','0','L');    

    //24 Hr Supervision
    if(@$stev->safety_24_hr_superv == 1){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x+6,$y+2,6,6);
    }
    $pdf->Rect(106.5*$con,132*$con,3*$con,3*$con);
    $pdf->Cell(95*$con, 6*$con, '     24 Hr Supervision ', 'R','1','L');    

    //    Home           Apt                  Mobile Home            Senior Complex

    $pdf->Rect(12*$con,138*$con,3*$con,3*$con);
    $pdf->Cell(19*$con, 5*$con, 'Home', 'L','0','R');
    $pdf->Rect(31*$con,138*$con,3*$con,3*$con);
    $pdf->Cell(12*$con, 5*$con, 'Apt', '','0','R');
    $pdf->Rect(45*$con,138*$con,3*$con,3*$con);
    $pdf->Cell(31*$con, 5*$con, 'Mobile Home', '','0','R');
    $pdf->Rect(74*$con,138*$con,3*$con,3*$con);
    $pdf->Cell(33*$con, 5*$con, 'Senior Complex', 'R','0','R');

    //Ortho Precaution/ Restriction Architectural Barriers interfering
    $pdf->SetFontSize(9);
    if(@$stev->safety_ortho == 1){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x+6,$y+2,6,6);
    }
    $pdf->Rect(106.5*$con,138*$con,3*$con,3*$con);
    $pdf->Cell(95*$con, 5*$con, '    Ortho Precaution/Restriction Architectural Barriers interfering', 'R','1','L');
    $pdf->SetFontSize(9);

    //Single Level     Multi Level
    if(@$stev->home_ev_level == 'S'){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x+7,$y+2,6,6);
    }
    $pdf->Rect(12*$con,143*$con,3*$con,3*$con);
    $pdf->Cell(37*$con, 5*$con, '        Single Level', 'L','0','L');
    if(@$stev->home_ev_level == 'M'){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x-5,$y+2,6,6);
    }
    $pdf->Rect(45*$con,143*$con,3*$con,3*$con);
    $pdf->Cell(58*$con, 5*$con, '  Multi Level', '','0','L');
     
    //W/ Mobility:             Steps/Stairs                 Doorways    
    $pdf->Cell(25*$con, 6*$con, '     W/ Mobility: ', 'L','0','L');    
    if(@$stev->safety_steps == 1){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x+7,$y+5,6,6);
    }
    $pdf->Rect(132*$con,144*$con,3*$con,3*$con);
    $pdf->Cell(35*$con, 6*$con, ' Steps/Stairs ', '','0','C');    
    if(@$stev->safety_doorways == 1){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x-12,$y+5,6,6);
    }
    $pdf->Rect(160*$con,144*$con,3*$con,3*$con);
    $pdf->Cell(35*$con, 6*$con, 'Doorways ', 'R','1','L');    

    //Stairs           Elevator          Spacious         Clean          Crowded
    if(@$stev->home_ev_stairs == 1){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x+7,$y+2,6,6);
    }
    $pdf->Rect(12*$con,149*$con,3*$con,3*$con);
    $pdf->Cell(17*$con, 5*$con, 'Stairs', 'L','0','R');
    if(@$stev->home_ev_elevator == 1){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x+5,$y+2,6,6);
    }
    $pdf->Rect(28*$con,149*$con,3*$con,3*$con);
    $pdf->Cell(20*$con, 5*$con, 'Elevator', '','0','R');
    if(@$stev->home_ev_spacious == 1){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x+7,$y+2,6,6);
    }
    $pdf->Rect(49*$con,149*$con,3*$con,3*$con);
    $pdf->Cell(22*$con, 5*$con, 'Spacious', '','0','R');
    if(@$stev->home_ev_clean == 1){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x+5,$y+2,6,6);
    }
    $pdf->Rect(70*$con,149*$con,3*$con,3*$con);
    $pdf->Cell(16*$con, 5*$con, 'Clean', '','0','R');
    if(@$stev->home_ev_crowded == 1){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x+2,$y+2,6,6);
    }
    $pdf->Rect(85*$con,149*$con,3*$con,3*$con);
    $pdf->Cell(20*$con, 5*$con, 'Crowded', 'R','0','R');

    //right boX Other:
    if(@$stev->safety_other == 1){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x+6,$y+2,6,6);
    }
    $pdf->Rect(106.5*$con,149*$con,3*$con,3*$con);
    $y = $pdf->GetY(); $x = $pdf->GetX(); 
    $pdf->SetXY($x, $y);
    $pdf->MultiCell(200, 12, '                  '.@$stev->safety_other_desc);
    $pdf->SetXY($x, $y);      
    $pdf->Cell(95*$con, 5*$con, '     Other: _______________________________________', 'R','1','L');

    //    Cluttered           Dirty         Comment:______________________
    if(@$stev->safety_other == 1){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x+7,$y+2,6,6);
    }
    $pdf->Rect(12*$con,154*$con,3*$con,3*$con);
    $pdf->Cell(23*$con, 6*$con, 'Cluttered', 'BL','0','R');
    if(@$stev->safety_other == 1){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x+16,$y+2,6,6);
    }
    $pdf->Rect(38*$con,154*$con,3*$con,3*$con);
    $pdf->Cell(19*$con, 6*$con, 'Dirty', 'B','0','R');
    
    $home_ev_comments_more = 0;
    if(strlen(@$stev->home_ev_comments) > 0){
      $home_ev_comments_more = 1;
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->SetXY($x+67, $y);
      $pdf->SetFont('Arial','',7);  
      $pdf->MultiCell(70, 15, "*See Addendum");
      $pdf->SetFont('Arial','',9);  
      $pdf->SetXY($x, $y);      
    }
    
    $pdf->Cell(53*$con, 6*$con, '         Comment:_____________', 'BR',0,'L');

    $pdf->Cell(95*$con, 6*$con, '  _____________________________________________', 'BR','1','L');


    //******************END*****************//

    //***********TREATMENT/GENERAL***************//

    $pdf->Cell(95*$con, 5*$con, '      TREATMENT', 'RL','0','L');
    $pdf->Cell(95*$con, 5*$con, '      GENERAL', 'R','1','L');


    //Evaluation                        Voice Disorders Treatment 
    if(@$stev->treat_evaluation == 1){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x+7,$y+3,6,6);
    }
    $pdf->Rect(12*$con,165.5*$con,3*$con,3*$con);
    $pdf->Cell(25*$con, 5*$con, ' Evaluation', 'L','0','R');
    if(@$stev->treat_voice_disor_treat == 1){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x+25,$y+3,6,6);
    }
    $pdf->Rect(43*$con,165.5*$con,3*$con,3*$con);
    $pdf->Cell(70*$con, 5*$con, 'Voice Disorders Treatment ', 'R','0','C');


    //Adequate Eye-Hand Coordination               Glasses                Dentures
    if(@$stev->general_adequate == 1){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x+5,$y+3,6,6);
    }
    $pdf->Rect(106.5*$con,165.5*$con,3*$con,3*$con);
    $pdf->Cell(60*$con, 5*$con, ' Adequate Eye-Hand Coordination ', '','0','R');
    if(@$stev->general_glasses == 1){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x,$y+3,6,6);
    }
    $pdf->Rect(164.5*$con,165.5*$con,3*$con,3*$con);
    $pdf->Cell(19*$con, 5*$con, 'Glasses', '','0','C');
    if(@$stev->general_dentures == 1){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x-5,$y+3,6,6);
    }
    $pdf->Rect(181.5*$con,165.5*$con,3*$con,3*$con);
    $pdf->Cell(16*$con, 5*$con, 'Dentures', 'R',1,'C');

    //    Speech Articulation           Establish HEP            Upgrade HEP
    if(@$stev->treat_speech_artic == 1){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x+6,$y+3,6,6);
    }
    $pdf->Rect(12*$con,170.5*$con,3*$con,3*$con);
    $pdf->Cell(38*$con, 5*$con, 'Speech Articulation', 'L','0','R');
    if(@$stev->treat_establish_HEP == 1){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x+4,$y+3,6,6);
    }
    $pdf->Rect(49*$con,170.5*$con,3*$con,3*$con);
    $pdf->Cell(29*$con, 5*$con, 'Establish HEP', '','0','R');
    if(@$stev->treat_upgrade_HEP == 1){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x+4,$y+3,6,6);
    }
    $pdf->Rect(78*$con,170.5*$con,3*$con,3*$con);
    $pdf->Cell(28*$con, 5*$con, 'Upgrade HEP', 'R','0','R');


    //      Normal Hearing                    Abnormal Hearing
    if(@$stev->general_norm_hearing == 1){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x+6,$y+3,6,6);
    }
    $pdf->Rect(106.5*$con,170.5*$con,3*$con,3*$con);
    $pdf->Cell(47.5*$con, 5*$con, '        Normal Hearing', 'B','0','L');
    if(@$stev->general_abnormal_hear == 1){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x-14,$y+3,6,6);
    }
    $pdf->Rect(147*$con,170.5*$con,3*$con,3*$con);
    $pdf->Cell(47.5*$con, 5*$con, 'Abnormal Hearing', 'RB',1,'L');

    //Dysphagia Treatment              Language Disorders     
    if(@$stev->treat_dyspha_treat == 1){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x+7,$y+3,6,6);
    }
    $pdf->Rect(12*$con,175.5*$con,3*$con,3*$con);
    $pdf->Cell(45*$con, 6*$con, '      Dysphagia Treatment', 'L','0','L');
    if(@$stev->treat_language == 1){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x+7,$y+3,6,6);
    }
    $pdf->Rect(57*$con,175.5*$con,3*$con,3*$con);
    $pdf->Cell(50*$con, 6*$con, ' Language Disorders     ', 'R','0','C');

    //Assesment:
    $y = $pdf->GetY(); $x = $pdf->GetX(); 
    $pdf->SetXY($x, $y);
    $pdf->MultiCell(270, 15, '                   '.substr(@$stev->assesment, 0, 175));
    $pdf->SetXY($x, $y);          
    $pdf->Cell(95*$con, 6*$con, 'Assesment: ____________________________________', 'R','1','L');


    //Aural Rehab                            Non-oral Comm
    if(@$stev->treat_aural_rehab == 1){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x+7,$y+3,6,6);
    }
    $pdf->Rect(12*$con,181.5*$con,3*$con,3*$con);
    $pdf->Cell(45*$con, 5*$con, '       Aural Rehab  ', 'L','0','L');
    if(@$stev->treat_non_oral_comm == 1){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x+7,$y+3,6,6);
    }
    $pdf->Rect(57*$con,181.5*$con,3*$con,3*$con);
    $pdf->Cell(50*$con, 5*$con, 'Non-oral Comm     ', 'R','0','C');

    $pdf->Cell(95*$con, 5*$con, ' ______________________________________________', 'R','1','L');

    //Mgmt/Eval of Care Plan           Other:
    if(@$stev->treat_mgmt_eval == 1){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x+7,$y+4,6,6);
    }
    $pdf->Rect(12*$con,187*$con,3*$con,3*$con);
    $pdf->Cell(45*$con, 5*$con, '       Mgmt/Eval of Care Plan  ', 'LB','0','L');
    if(@$stev->treat_other == 1){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x+7,$y+4,6,6);
    }
    $pdf->Rect(57*$con,187*$con,3*$con,3*$con);
    $y = $pdf->GetY(); $x = $pdf->GetX(); 
    $pdf->SetXY($x+50, $y);
    $pdf->MultiCell(100, 15, ''.@$stev->treat_other_desc);
    $pdf->SetXY($x, $y);          
    $pdf->Cell(50*$con, 5*$con, '     Other: ________________    ', 'RB','0','L');

    $pdf->Cell(95*$con, 5*$con, ' ______________________________________________', 'RB','1','L');


    //***************end****************


    //************tREATMent Plan
    $y = $pdf->GetY(); $x = $pdf->GetX(); 
    $pdf->SetXY($x+75, $y);
    $pdf->MultiCell(450, 20, substr(@$stev->treat_plan,0,90));
    $pdf->SetXY($x, $y);          
    $pdf->Cell(190*$con, 7*$con, 'Treatment Plan: __________________________________________________________________________________', 'RLB','1','L');

    //***********Speech Therapy Care Plan/ Planned Instruction******************/

    $pdf->SetFont('Arial','B',9);
    $pdf->Cell(190*$con, 4*$con, 'Speech Therapy Care Plan/ Planned Instruction', 'RLB','1','C');
    $pdf->SetFont('Arial','',9);

    // Problem #	Problem	Short Term Goal	Planned Instruction	Date Met
    $pdf->Cell(20*$con, 4.5*$con, 'Problem #', 'RLB','0','L');
    $pdf->Cell(35*$con, 4.5*$con, 'Problem', 'RLB','0','L');
    $pdf->Cell(40*$con, 4.5*$con, 'Short Term Goal', 'RLB','0','L');
    $pdf->Cell(70*$con, 4.5*$con, 'Planned Instruction', 'RLB','0','L');
    $pdf->Cell(25*$con, 4.5*$con, 'Date Met', 'RLB','1','L');

    $pdf->Cell(20*$con, 4.5*$con, @$stev->problem_num1, 'RLB','0','L');
    $pdf->Cell(35*$con, 4.5*$con, @$stev->problem_desc1, 'RLB','0','L');
    $pdf->Cell(40*$con, 4.5*$con, @$stev->problem_short_term1, 'RLB','0','L');
    $pdf->Cell(70*$con, 4.5*$con, @$stev->problem_planned1, 'RLB','0','L');
    $pdf->Cell(25*$con, 4.5*$con, standard_date(mysql_to_unix(@$stev->problem_date1)), 'RLB','1','L');


    $pdf->Cell(20*$con, 4.5*$con, @$stev->problem_num2, 'RLB','0','L');
    $pdf->Cell(35*$con, 4.5*$con, @$stev->problem_desc2, 'RLB','0','L');
    $pdf->Cell(40*$con, 4.5*$con, @$stev->problem_short_term2, 'RLB','0','L');
    $pdf->Cell(70*$con, 4.5*$con, @$stev->problem_planned2, 'RLB','0','L');
    $pdf->Cell(25*$con, 4.5*$con, standard_date(mysql_to_unix(@$stev->problem_date2)), 'RLB','1','L');
    
    $pdf->Cell(20*$con, 4.5*$con, @$stev->problem_num3, 'RLB','0','L');
    $pdf->Cell(35*$con, 4.5*$con, @$stev->problem_desc3, 'RLB','0','L');
    $pdf->Cell(40*$con, 4.5*$con, @$stev->problem_short_term3, 'RLB','0','L');
    $pdf->Cell(70*$con, 4.5*$con, @$stev->problem_planned3, 'RLB','0','L');
    $pdf->Cell(25*$con, 4.5*$con, standard_date(mysql_to_unix(@$stev->problem_date3)), 'RLB','1','L');
    
    $pdf->Cell(20*$con, 4.5*$con, @$stev->problem_num4, 'RLB','0','L');
    $pdf->Cell(35*$con, 4.5*$con, @$stev->problem_desc4, 'RLB','0','L');
    $pdf->Cell(40*$con, 4.5*$con, @$stev->problem_short_term4, 'RLB','0','L');
    $pdf->Cell(70*$con, 4.5*$con, @$stev->problem_planned4, 'RLB','0','L');
    $pdf->Cell(25*$con, 4.5*$con, standard_date(mysql_to_unix(@$stev->problem_date4)), 'RLB','1','L');
    

    $pdf->SetFont('Arial','B',9);
    //     H & P Update          Discharge Summary 
    
    if(@$stev->hp_update){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x+15,$y+3,6,6);
    }
    $pdf->Rect(15*$con,225*$con,3*$con,3*$con);
    $pdf->Cell(40*$con, 5*$con, 'H & P Update', 'L','0','C');
    if(@$stev->discharge_summary == 1){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x+21,$y+3,6,6);
    }
    $pdf->Rect(57*$con,225*$con,3*$con,3*$con);
    
    $pdf->SetFont('Arial','',9);
    $y = $pdf->GetY(); $x = $pdf->GetX(); 
    $pdf->SetXY($x-105, $y);    
    if($discharge_summary_desc_more)
    $pdf->MultiCell(500, 12, '                                                                                         '.substr(@$stev->discharge_summary_desc, 0, 180).' + ');
    else
    $pdf->MultiCell(500, 12, '                                                                                         '.substr(@$stev->discharge_summary_desc, 0, 180));
    $pdf->SetXY($x, $y);   
    $pdf->SetFont('Arial','B',9);
    
    $pdf->Cell(150*$con, 5*$con, '              Discharge Summary_________________________________________________________', 'R','1','L');
    $pdf->Cell(190*$con, 5*$con, ' ______________________________________________________________________________________________________', 'RLB','1','L');

    //Limitations- Receptive / Expressive / Physiological Behavioral 
    $pdf->SetFont('Arial','',9);
    $y = $pdf->GetY(); $x = $pdf->GetX(); 
    $pdf->SetXY($x, $y);
    if($limitations_more)
    $pdf->MultiCell(520, 12, '                                                                                                       '.substr(@$stev->limitations, 0, 170).' + ');
    else
    $pdf->MultiCell(520, 12, '                                                                                                   '.substr(@$stev->limitations, 0, 170));
    $pdf->SetXY($x, $y);   
    $pdf->SetFont('Arial','B',9);  
    
    $pdf->Cell(190*$con, 5*$con, 'Limitations- Receptive / Expressive / Physiological Behavioral _____________________________________________________', 'RL','1','L');
    $pdf->Cell(190*$con, 5*$con, ' ______________________________________________________________________________________________________', 'RLB','1','L');


    //Goals
    $pdf->SetFont('Arial','',9);  
    $y = $pdf->GetY(); $x = $pdf->GetX(); 
    $pdf->SetXY($x, $y);
    if($goals_more)
    $pdf->MultiCell(520, 12, '            '.substr(@$stev->goals, 0, 240).' + ');
    else
    $pdf->MultiCell(520, 12, '            '.substr(@$stev->goals, 0, 240));
    $pdf->SetXY($x, $y);   
    $pdf->SetFont('Arial','B',9);      
    $pdf->Cell(190*$con, 5*$con, 'Goals _________________________________________________________________________________________________', 'RL','1','L');
    $pdf->Cell(190*$con, 5*$con, ' ______________________________________________________________________________________________________', 'RLB','1','L');

    $pdf->SetFont('Arial','',8);

    //HOME BOUND STATUS:          Yes              No
    $pdf->Cell(60*$con, 5*$con, 'HOME BOUND STATUS:', 'L','0','C');
    if(@$stev->home_YN == 1){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x+7,$y+3,6,6);
    }
    $pdf->Rect(72*$con,255*$con,3*$con,3*$con);
    $pdf->Cell(20*$con, 5*$con, 'Yes', '','0','C');
    if(@$stev->home_YN == 2){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x+2,$y+3,6,6);
    }
    $pdf->Rect(90*$con,255*$con,3*$con,3*$con);
    $pdf->Cell(110*$con, 5*$con, '      No', 'R','1','L');

    //     Considerable & taxing effort to leave home            Requires assistance to ambulate             Residual weakness               Dependent upon adaptive /
    if(@$stev->home_consider == 1){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x+7,$y+2,6,6);
    }
    $pdf->Rect(12*$con,259.7*$con,3*$con,3*$con);
    $pdf->Cell(66*$con, 5*$con, 'Considerable & taxing effort to leave home', 'L','0','C');
    if(@$stev->home_req_assis == 1){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x-7,$y+2,6,6);
    }
    $pdf->Rect(73*$con,259.7*$con,3*$con,3*$con);    
    $pdf->Cell(49*$con, 5*$con, 'Requires assistance to ambulate', '','0','L');
    if(@$stev->home_resid == 1){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x+2,$y+2,6,6);
    }
    $pdf->Rect(125*$con,259.7*$con,3*$con,3*$con);
    $pdf->Cell(34*$con, 5*$con, 'Residual weakness', '','0','C');
    if(@$stev->home_depen == 1){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x+4,$y+2,6,6);
    }
    $pdf->Rect(160*$con,259.7*$con,3*$con,3*$con);
    $pdf->Cell(41*$con, 5*$con, 'Dependent upon adaptive /', 'R','1','R');


    //assistive device              Confusion, unable to go out alone                Other:

    $pdf->Cell(30*$con, 5*$con, 'assistive device', 'L','0','L');
    if(@$stev->home_confu == 1){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x+7,$y+3,6,6);
    }
    $pdf->Rect(42*$con,265*$con,3*$con,3*$con);
    $pdf->Cell(60*$con, 5*$con, '   Confusion, unable to go out alone', '','0','C');
    if(@$stev->home_other == 1){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x+13,$y+3,6,6);
    }
    $pdf->Rect(104*$con,265*$con,3*$con,3*$con); 
    $y = $pdf->GetY(); $x = $pdf->GetX(); 
    $pdf->SetXY($x+55, $y);
    $pdf->MultiCell(100, 12, @$stev->home_other_desc);
    $pdf->SetXY($x, $y);      
    $pdf->Cell(100*$con, 5*$con, '            Other:_____________', 'R','1','L');

    //FREQUENCY / DURATION:  ________
    $y = $pdf->GetY(); $x = $pdf->GetX(); 
    $pdf->SetXY($x+110, $y);
    $pdf->MultiCell(400, 12, @$stev->frequency_duration);
    $pdf->SetXY($x, $y);      
    $pdf->Cell(190*$con, 5*$con, 'FREQUENCY / DURATION:__________________________________________________________________________                      ', 'LRB','1','L');


    $pdf->Text(500, 820, "      Page: 1 of ".$total_page);
    
    /****************** PAGE 1 ENDS HERE ^^^^^^^ *****************************/


    //*****************Staring Page 2

    $pdf->AddPage();
    $con = 2.8346456692913384;
    //Check Boxes
    //Basic
    $pdf->ln(10);
    $pdf->SetFont('Arial','B',9);

    $pdf->Rect(130*$con,19.5*$con,3*$con,3*$con);//Medicare NA
    $pdf->Rect(168*$con,24.5*$con,3*$con,3*$con);

    //Basic Info
    $pdf->Cell(130*$con,5*$con,'SPEECH THERAPY ASSESSMENT','TBL',0,'R');
    $pdf->Cell(10*$con,5*$con,'','TB',0,'C');
    $pdf->Cell(50*$con,5*$con,'VISIT DATE: '.standard_date(mysql_to_unix($visit_log->visit_date_time)),'TBR',1,'L');
    $pdf->SetFont('Arial','',9);

    $pdf->Cell(25*$con,5*$con,'Patient Name: ','L',0,'L');
    $y = $pdf->GetY(); $x = $pdf->GetX(); 
    $pdf->SetFont('Arial','B',9);
    $pdf->Text($x,$y+10, $patient->first_name . " " . $patient->last_name);    
    $pdf->SetFont('Arial','',9);
    $pdf->Cell(55*$con,5*$con,'','T',0,'C');
    
    $pdf->Cell(20*$con,5*$con,'Medicare #: ','',0,'L');    
    $y = $pdf->GetY(); $x = $pdf->GetX(); 
    $pdf->SetFont('Arial','B',9);
    $pdf->Text($x,$y+10, $patient->medicare_id);    
    $pdf->SetFont('Arial','',9);
    
    $pdf->Cell(20*$con,5*$con,'','',0,'C');
    if(is_null($patient->medicare_id)){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x+2,$y+4,6,6);
    }        
    $pdf->Cell(10*$con,5*$con,'NA','',0,'R'); 
    
    $pdf->Cell(30*$con,5*$con,'Med Rec #: ','',0,'C');
    $y = $pdf->GetY(); $x = $pdf->GetX(); 
    $pdf->SetFont('Arial','B',9);
    $pdf->Text($x,$y+10, $patient->medical_rec_nbr);    
    $pdf->SetFont('Arial','',9);
    $pdf->Cell(30*$con,5*$con,'','R',1,'C');

    $pdf->Cell(25*$con,5*$con,'Primary DX:','L',0,'L');
    $y = $pdf->GetY(); $x = $pdf->GetX(); 
    $pdf->SetXY($x-2, $y);
    $pdf->MultiCell(140, 12, substr($stev->primary_diag, 0, 30));
    $pdf->SetXY($x, $y);  
    $pdf->Cell(55*$con,5*$con,'','',0,'C');
    $pdf->Cell(20*$con,5*$con,'Date:','',0,'');
    
    $y = $pdf->GetY(); $x = $pdf->GetX(); 
    $pdf->SetFont('Arial','B',9);
    $pdf->Text($x,$y+10, (!is_null(@$stev->primary_diag_date) ? standard_date(mysql_to_unix(@$stev->primary_diag_date)) : ""));    
    $pdf->SetFont('Arial','',9);
    $pdf->Cell(20*$con,5*$con,'','',0,'C');
    
    $pdf->Cell(10*$con,5*$con,'SOC:','',0,'L');
    $y = $pdf->GetY(); $x = $pdf->GetX(); 
    $pdf->SetFont('Arial','B',9);
    $pdf->Text($x,$y+10, standard_date(mysql_to_unix($visit_log->estimated_soc_date)));
    $pdf->SetFont('Arial','',9);
    
    $pdf->Cell(25*$con,5*$con,'','',0,'C');    
    $pdf->Cell(35*$con,5*$con,'Certification','R',1,'C');
    $pdf->Cell(25*$con,5*$con,'Secondary DX:','L',0,'L');
    $y = $pdf->GetY(); $x = $pdf->GetX(); 
    $pdf->SetXY($x-2, $y);
    $pdf->MultiCell(140, 12, substr(@$stev->secondary_diag, 0, 30));
    $pdf->SetXY($x, $y);      
    $pdf->Cell(55*$con,5*$con,'','',0,'C');
    $pdf->Cell(20*$con,5*$con,'Date:','',0,'L');
    $pdf->SetFont('Arial','B',9);
    $pdf->Cell(20*$con,5*$con, (!is_null(@$stev->secondary_diag_date) ? standard_date(mysql_to_unix(@$stev->secondary_diag_date)) : ""),'',0,'C');
    $pdf->SetFont('Arial','',9);
    
    
    $pdf->Cell(10*$con,5*$con,'From:','',0,'L');
    $y = $pdf->GetY(); $x = $pdf->GetX(); 
    $pdf->SetFont('Arial','B', 9);
    $pdf->Text($x,$y+10, standard_date(mysql_to_unix($visit_log->episode_start_date)) );    
    $pdf->SetFont('Arial','',9);      
    $pdf->Cell(25*$con,5*$con,'','',0,'C');
    
    $pdf->Cell(15*$con,5*$con,'To:','',0,'L');
    $y = $pdf->GetY(); $x = $pdf->GetX(); 
    $pdf->SetFont('Arial','B', 9);
    $pdf->Text($x,$y+10, standard_date(mysql_to_unix($visit_log->episode_end_date)) );    
    $pdf->SetFont('Arial','',9);  
    $pdf->Cell(20*$con,5*$con,'','R',1,'C');

    $pdf->Cell(25*$con,5*$con,'Physician:','L',0,'L');
    $y = $pdf->GetY(); $x = $pdf->GetX(); 
    $pdf->SetFont('Arial','B', 9);
    $pdf->Text($x,$y+10, @$phys_user_id->complete_name );    
    $pdf->SetFont('Arial','',9);  
    //$pdf->Cell(32*$con,5*$con,'','',0,'C');
    $pdf->Cell(55*$con,5*$con,'','',0,'C');
    
    $pdf->Cell(20*$con,5*$con,'Clinician:','',0,'L');
    $pdf->Cell(20*$con,5*$con, $visit_log->first_name . " " .  $visit_log->last_name,'',0,'C');
    
    
    $pdf->Cell(10*$con,5*$con,'Time in:','',0,'L');
    $y = $pdf->GetY(); $x = $pdf->GetX(); 
    $pdf->SetFont('Arial','B', 9);
    $pdf->Text($x+13,$y+10, standard_date(mysql_to_unix($visit_log->visited_date . " " . $visit_log->visited_time_in), 'USA_TIME_C') );    
    $pdf->SetFont('Arial','',9);  
    $pdf->Cell(20*$con,5*$con,'','',0,'C');
    
    $pdf->Cell(15*$con,5*$con,'Time Out:','',0,'L');
    $y = $pdf->GetY(); $x = $pdf->GetX(); 
    $pdf->SetFont('Arial','B', 9);
    $pdf->Text($x+3,$y+10, standard_date(mysql_to_unix($visit_log->visited_date . " " . $visit_log->visited_time_out), 'USA_TIME_C') );    
    $pdf->SetFont('Arial','',9);  
    /*$pdf->Cell(15*$con,5*$con,'','',0,'C');
    
    $pdf->Cell(20*$con,5*$con,'Mileage:','',0,'L');
    $y = $pdf->GetY(); $x = $pdf->GetX(); 
    $pdf->SetFont('Arial','B', 9);
    $pdf->Text($x,$y+10,  @$visit_log->mileage);    
    $pdf->SetFont('Arial','',9); 
    $pdf->Cell(13*$con,5*$con,'','R',1,'C');*/
    $pdf->Cell(25*$con,5*$con,'','R',1,'C');
    
    /*
    //Basic Info
    $pdf->Cell(130*$con,5*$con,'SPEECH THERAPY ASSESSMENT','TBL',0,'R');
    $pdf->Cell(10*$con,5*$con,'','TB',0,'C');
    $pdf->Cell(50*$con,5*$con,'VISIT DATE: ','TBR',1,'L');
    $pdf->SetFont('Arial','',9);
    $pdf->Cell(25*$con,5*$con,'Patient Name:','L',0,'L');
    $pdf->Cell(55*$con,5*$con,'','T',0,'C');
    $pdf->Cell(20*$con,5*$con,'Medicare #:','',0,'L');
    $pdf->Cell(20*$con,5*$con,'','',0,'C');
    $pdf->Cell(10*$con,5*$con,'NA','',0,'R'); 
    $pdf->Cell(30*$con,5*$con,'Med Rec #:','',0,'C');
    $pdf->Cell(30*$con,5*$con,'','R',1,'C');

    $pdf->Cell(25*$con,5*$con,'Primary DX:','L',0,'L');
    $pdf->Cell(55*$con,5*$con,'','',0,'C');
    $pdf->Cell(20*$con,5*$con,'Date:','',0,'');
    $pdf->Cell(20*$con,5*$con,'','',0,'C');
    $pdf->Cell(10*$con,5*$con,'SOC:','',0,'L');
    $pdf->Cell(25*$con,5*$con,'','',0,'C');
    $pdf->Cell(35*$con,5*$con,'Certification','R',1,'C');

    $pdf->Cell(25*$con,5*$con,'Secondary DX:','L',0,'L');
    $pdf->Cell(55*$con,5*$con,'','',0,'C');
    $pdf->Cell(20*$con,5*$con,'Date:','',0,'L');
    $pdf->Cell(20*$con,5*$con,'','',0,'C');
    $pdf->Cell(10*$con,5*$con,'From:','',0,'L');
    $pdf->Cell(25*$con,5*$con,'','',0,'C');
    $pdf->Cell(15*$con,5*$con,'To:','',0,'L');
    $pdf->Cell(20*$con,5*$con,'','R',1,'C');

    $pdf->Cell(25*$con,5*$con,'Physician:','L',0,'L');
    $pdf->Cell(32*$con,5*$con,'','',0,'C');
    $pdf->Cell(20*$con,5*$con,'Clinician:','',0,'L');
    $pdf->Cell(20*$con,5*$con,'','',0,'C');
    $pdf->Cell(10*$con,5*$con,'Time in:','',0,'L');
    $pdf->Cell(20*$con,5*$con,'','',0,'C');
    $pdf->Cell(15*$con,5*$con,'Time Out:','',0,'L');
    $pdf->Cell(15*$con,5*$con,'','',0,'C');
    $pdf->Cell(20*$con,5*$con,'Mileage:','',0,'L');
    $pdf->Cell(13*$con,5*$con,'','R',1,'C');
    
    */


    //Severety Rating scale:  
    $pdf->SetFontSize('8');
    $pdf->Cell(35*$con,5*$con,'Severety Rating scale:','TLB',0,'L');
    $pdf->SetFont('Arial','B',8);
    $pdf->Cell(155*$con,5*$con,'0:Nonfunctional  1:Severe  2: Moderate  3:Mild  4: Normal Function  NA: Not Applicable  NT: Not Tested','BTR',1,'L');
    $pdf->SetFont('Arial','',9);

    //The Table !!!
    $pdf->Cell(55*$con,5*$con,'','LBR',0,'L');
    $pdf->Cell(45*$con,5*$con,'Clinical Severity Rating','BR',0,'C');
    $pdf->Cell(90*$con,5*$con,'Comments','BR',1,'L');

    //Aphasia
    $pdf->SetFont('Arial','B',9);
    $pdf->Cell(55*$con,5*$con,'Aphasia','LBR',0,'L');
    $pdf->SetFont('Arial','',9);
    $pdf->Cell(45*$con,5*$con,'','BR',0,'C');
    $pdf->Cell(90*$con,5*$con,'','BR',1,'L');

    $pdf->Cell(55*$con,5*$con,'Auditory Comprehension','LBR',0,'L');
    $pdf->Cell(45*$con,5*$con, $tab_93[@$stev->tab_93_apha_audi_compre],'BR',0,'C');
    $pdf->Cell(90*$con,5*$con, @$stev->apha_audit_compre_comments,'BR',1,'L');
    $pdf->Cell(55*$con,5*$con,'Single Words','LBR',0,'L');
    $pdf->Cell(45*$con,5*$con, $tab_93[@$stev->tab_93_apha_sing_words],'BR',0,'C');
    $pdf->Cell(90*$con,5*$con, @$stev->apha_sing_words_comments,'BR',1,'L');
    $pdf->Cell(55*$con,5*$con,'Sentences/ Directions','LBR',0,'L');
    $pdf->Cell(45*$con,5*$con, $tab_93[@$stev->tab_93_apha_sente_direct],'BR',0,'C');
    $pdf->Cell(90*$con,5*$con, @$stev->apha_sente_direct_comments,'BR',1,'L');
    $pdf->Cell(55*$con,5*$con,'Paragraphs','LBR',0,'L');
    $pdf->Cell(45*$con,5*$con, $tab_93[@$stev->tab_93_apha_parag],'BR',0,'C');
    $pdf->Cell(90*$con,5*$con, @$stev->apha_parag_comments,'BR',1,'L');

    //Verbal Expressions
    $pdf->SetFont('Arial','B',9);
    $pdf->Cell(55*$con,5*$con,'Verbal Expressions','LBR',0,'L');
    $pdf->SetFont('Arial','',9);
    $pdf->Cell(45*$con,5*$con,'','BR',0,'C');
    $pdf->Cell(90*$con,5*$con,'','BR',1,'L');

    $pdf->Cell(55*$con,5*$con,'Word recall','LBR',0,'L');
    $pdf->Cell(45*$con,5*$con, $tab_93[@$stev->tab_93_verb_expre_word_recall],'BR',0,'C');
    $pdf->Cell(90*$con,5*$con, @$stev->verb_expre_word_recall_comments,'BR',1,'L');

    $pdf->Cell(55*$con,5*$con,'Sentence formulation','LBR',0,'L');
    $pdf->Cell(45*$con,5*$con, $tab_93[@$stev->tab_93_verb_expre_sent_form],'BR',0,'C');
    $pdf->Cell(90*$con,5*$con, @$stev->verb_expre_sent_form_comments,'BR',1,'L');

    $pdf->Cell(55*$con,5*$con,'Visual confrontation naming','LBR',0,'L');
    $pdf->Cell(45*$con,5*$con, $tab_93[@$stev->tab_93_verb_expre_visual_conf_nam],'BR',0,'C');
    $pdf->Cell(90*$con,5*$con, @$stev->verb_expre_visual_conf_nam_comments,'BR',1,'L');

    $pdf->Cell(55*$con,5*$con,'Repetition','LBR',0,'L');
    $pdf->Cell(45*$con,5*$con, $tab_93[@$stev->tab_93_verb_expre_repe],'BR',0,'C');
    $pdf->Cell(90*$con,5*$con, @$stev->verb_expre_repe_comments,'BR',1,'L');

    $pdf->Cell(55*$con,5*$con,'Automatic speech','LBR',0,'L');
    $pdf->Cell(45*$con,5*$con, $tab_93[@$stev->tab_93_expre_auto_speech],'BR',0,'C');
    $pdf->Cell(90*$con,5*$con, @$stev->verb_expre_auto_speech_comments,'BR',1,'L');

    $pdf->Cell(55*$con,5*$con,'Yes/ no response','LBR',0,'L');
    $pdf->Cell(45*$con,5*$con, $tab_93[@$stev->tab_93_verb_expre_yes_no_reponse],'BR',0,'C');
    $pdf->Cell(90*$con,5*$con, @$stev->verb_expre_yes_no_reponse_comments,'BR',1,'L');

    $pdf->Cell(55*$con,5*$con,'Apraxia','LBR',0,'L');
    $pdf->Cell(45*$con,5*$con, $tab_93[@$stev->tab_93_verb_expre_aprax],'BR',0,'C');
    $pdf->Cell(90*$con,5*$con, @$stev->verb_expre_aprax_comments,'BR',1,'L');

    //Reading Comprehension
    $pdf->SetFont('Arial','B',9);
    $pdf->Cell(55*$con,5*$con,'Reading Comprehension','LBR',0,'L');
    $pdf->SetFont('Arial','',9);
    $pdf->Cell(45*$con,5*$con,'','BR',0,'C');
    $pdf->Cell(90*$con,5*$con,'','BR',1,'L');

    $pdf->Cell(55*$con,5*$con,'Matching level','LBR',0,'L');
    $pdf->Cell(45*$con,5*$con, $tab_93[@$stev->tab_93_read_compre_match_level],'BR',0,'C');
    $pdf->Cell(90*$con,5*$con, @$stev->read_compre_match_level_comments,'BR',1,'L');

    $pdf->Cell(55*$con,5*$con,'Single words','LBR',0,'L');
    $pdf->Cell(45*$con,5*$con, $tab_93[@$stev->tab_93_read_compre_sing_words],'BR',0,'C');
    $pdf->Cell(90*$con,5*$con, @$stev->read_compre_sing_words_comments,'BR',1,'L');

    $pdf->Cell(55*$con,5*$con,'Sentences','LBR',0,'L');
    $pdf->Cell(45*$con,5*$con, $tab_93[@$stev->tab_93_read_compre_senten],'BR',0,'C');
    $pdf->Cell(90*$con,5*$con, @$stev->read_compre_senten_comments,'BR',1,'L');

    $pdf->Cell(55*$con,5*$con,'Paragraphs','LBR',0,'L');
    $pdf->Cell(45*$con,5*$con, $tab_93[@$stev->tab_93_read_compre_paragr],'BR',0,'C');
    $pdf->Cell(90*$con,5*$con, @$stev->read_compre_paragr_comments,'BR',1,'L');

    //Written Expressions 
    $pdf->SetFont('Arial','B',9);
    $pdf->Cell(55*$con,5*$con,'Written Expressions','LBR',0,'L');
    $pdf->SetFont('Arial','',9);
    $pdf->Cell(45*$con,5*$con,'','BR',0,'C');
    $pdf->Cell(90*$con,5*$con,'','BR',1,'L');

    $pdf->Cell(55*$con,5*$con,'Fine motor','LBR',0,'L');
    $pdf->Cell(45*$con,5*$con, $tab_93[@$stev->tab_93_writt_expre_fine_motor],'BR',0,'C');
    $pdf->Cell(90*$con,5*$con, @$stev->writt_expre_fine_motor_comments,'BR',1,'L');

    $pdf->Cell(55*$con,5*$con,'Signature','LBR',0,'L');
    $pdf->Cell(45*$con,5*$con, $tab_93[@$stev->tab_93_writt_expre_sig],'BR',0,'C');
    $pdf->Cell(90*$con,5*$con, @$stev->writt_expre_sig_comments,'BR',1,'L');

    $pdf->Cell(55*$con,5*$con,'Coping','LBR',0,'L');
    $pdf->Cell(45*$con,5*$con, $tab_93[@$stev->tab_93_writt_expre_coping],'BR',0,'C');
    $pdf->Cell(90*$con,5*$con, @$stev->writt_expre_coping_comments,'BR',1,'L');

    $pdf->Cell(55*$con,5*$con,'Independent (Letters, words, etc)','LBR',0,'L');
    $pdf->Cell(45*$con,5*$con, $tab_93[@$stev->tab_93_writt_expre_indep_letter_words],'BR',0,'C');
    $pdf->Cell(90*$con,5*$con, @$stev->writt_expre_indep_letter_words_comments,'BR',1,'L');

    $pdf->Cell(55*$con,5*$con,'Dysarthria','LBR',0,'L');
    $pdf->Cell(45*$con,5*$con, $tab_93[@$stev->tab_93_writt_expre_dysarthia],'BR',0,'C');
    $pdf->Cell(90*$con,5*$con, @$stev->writt_expre_dysarthria_comments,'BR',1,'L');

    $pdf->Cell(55*$con,5*$con,'Repiration','LBR',0,'L');
    $pdf->Cell(45*$con,5*$con, $tab_93[@$stev->tab_93_writt_expre_respir],'BR',0,'C');
    $pdf->Cell(90*$con,5*$con, @$stev->writt_expre_respir_comments,'BR',1,'L');

    $pdf->Cell(55*$con,5*$con,'Phonation','LBR',0,'L');
    $pdf->Cell(45*$con,5*$con, $tab_93[@$stev->tab_93_writt_expre_phona],'BR',0,'C');
    $pdf->Cell(90*$con,5*$con, @$stev->writt_expre_phona_comments,'BR',1,'L');

    $pdf->Cell(55*$con,5*$con,'Resonance','LBR',0,'L');
    $pdf->Cell(45*$con,5*$con, $tab_93[@$stev->tab_93_writt_expre_resonan],'BR',0,'C');
    $pdf->Cell(90*$con,5*$con, @$stev->writt_expre_resonan_comments,'BR',1,'L');

    $pdf->Cell(55*$con,5*$con,'Articulation','LBR',0,'L');
    $pdf->Cell(45*$con,5*$con, $tab_93[@$stev->tab_93_writt_expre_articul],'BR',0,'C');
    $pdf->Cell(90*$con,5*$con, @$stev->writt_expre_articul_comments,'BR',1,'L');

    $pdf->Cell(55*$con,5*$con,'Prosody (rate, Rhythm, stress)','LBR',0,'L');
    $pdf->Cell(45*$con,5*$con, $tab_93[@$stev->tab_93_writt_expre_prosody],'BR',0,'C');
    $pdf->Cell(90*$con,5*$con, @$stev->writt_expre_prosody_comments,'BR',1,'L');


    //Non-oral feeding
    $pdf->SetFont('Arial','B',9);
    $pdf->Cell(55*$con,5*$con,'Non-oral feeding','LBR',0,'L');
    $pdf->SetFont('Arial','',9);
    $pdf->Cell(45*$con,5*$con,'','BR',0,'C');
    $pdf->Cell(90*$con,5*$con,'','BR',1,'L');

    $pdf->Cell(55*$con,5*$con,'Food consistency','LBR',0,'L');
    $pdf->Cell(45*$con,5*$con, $tab_93[@$stev->tab_93_non_oral_feed_food_consist],'BR',0,'C');
    $pdf->Cell(90*$con,5*$con, @$stev->non_oral_feed_food_consist_comments,'BR',1,'L');

    $pdf->Cell(55*$con,5*$con,'Postural assists','LBR',0,'L');
    $pdf->Cell(45*$con,5*$con, $tab_93[@$stev->tab_93_non_oral_feed_post_assists],'BR',0,'C');
    $pdf->Cell(90*$con,5*$con, @$stev->non_oral_feed_post_assists_comments,'BR',1,'L');

    $pdf->Cell(55*$con,5*$con,'Oral phase','LBR',0,'L');
    $pdf->Cell(45*$con,5*$con, $tab_93[@$stev->tab_93_non_oral_feed_oral_phase],'BR',0,'C');
    $pdf->Cell(90*$con,5*$con, @$stev->non_oral_feed_oral_phase_comments,'BR',1,'L');

    $pdf->Cell(55*$con,5*$con,'Pharyngeal phase','LBR',0,'L');
    $pdf->Cell(45*$con,5*$con, $tab_93[@$stev->tab_93_non_oral_feed_pharyn_phase],'BR',0,'C');
    $pdf->Cell(90*$con,5*$con, @$stev->non_oral_feed_pharyn_phase_comments,'BR',1,'L');

    $pdf->Cell(55*$con,5*$con,'Esophageal phase','LBR',0,'L');
    $pdf->Cell(45*$con,5*$con, $tab_93[@$stev->tab_93_non_oral_feed_esopha_phase],'BR',0,'C');
    $pdf->Cell(90*$con,5*$con, @$stev->non_oral_feed_esopha_phase_comments,'BR',1,'L');

    //Right CVA Deficit
    $pdf->SetFont('Arial','B',9);
    $pdf->Cell(55*$con,5*$con,'Right CVA Deficit','LBR',0,'L');
    $pdf->SetFont('Arial','',9);
    $pdf->Cell(45*$con,5*$con,'','BR',0,'C');
    $pdf->Cell(90*$con,5*$con,'','BR',1,'L');

    $pdf->Cell(55*$con,5*$con,'Attention, memory, retention','LBR',0,'L');
    $pdf->Cell(45*$con,5*$con, $tab_93[@$stev->tab_93_right_cva_def_atten_mem_reten],'BR',0,'C');
    $pdf->Cell(90*$con,5*$con, @$stev->right_cva_def_atten_mem_reten_comments,'BR',1,'L');

    $pdf->Cell(55*$con,5*$con,'Self-monitoring, judment','LBR',0,'L');
    $pdf->Cell(45*$con,5*$con, $tab_93[@$stev->tab_93_right_cva_def_self_monitor_judment],'BR',0,'C');
    $pdf->Cell(90*$con,5*$con, @$stev->self_monitor_judment_comments,'BR',1,'L');

    $pdf->Cell(55*$con,5*$con,'Laryngeal Pathology','LBR',0,'L');
    $pdf->Cell(45*$con,5*$con, $tab_93[@$stev->tab_93_right_cva_def_laryn_patho],'BR',0,'C');
    $pdf->Cell(90*$con,5*$con, @$stev->right_cva_def_laryn_patho_comments,'BR',1,'L');

    $pdf->SetFontSize(8);
    $pdf->Cell(55*$con,5*$con,'Need for Augmentative Communication','LBR',0,'L');
    $pdf->SetFontSize(8);
    $pdf->Cell(45*$con,5*$con, $tab_93[@$stev->tab_93_right_cva_def_need_for_augment_comm],'BR',0,'C');
    $pdf->Cell(90*$con,5*$con, @$stev->need_augment_comm_comments,'BR',1,'L');
    $pdf->SetFontSize(9);

    $pdf->Cell(55*$con,5*$con,'Gesture/sign','LBR',0,'L');
    $pdf->Cell(45*$con,5*$con, $tab_93[@$stev->tab_93_right_cva_def_gesture_sign],'BR',0,'C');
    $pdf->Cell(90*$con,5*$con, @$stev->right_cva_def_gesture_sign_comments,'BR',1,'L');

    $pdf->Cell(55*$con,5*$con,'Communication board','LBR',0,'L');
    $pdf->Cell(45*$con,5*$con, $tab_93[@$stev->tab_93_right_cva_def_comm_board],'BR',0,'C');
    $pdf->Cell(90*$con,5*$con, @$stev->right_cva_def_comm_board_comments,'BR',1,'L');

    $pdf->Cell(55*$con,5*$con,'Electrolarynx','LBR',0,'L');
    $pdf->Cell(45*$con,5*$con, $tab_93[@$stev->tab_93_right_cva_def_electrolarynx],'BR',0,'C');
    $pdf->Cell(90*$con,5*$con, @$stev->right_cva_def_electrolarynx_comments,'BR',1,'L');

    // table ENDED HERE !!!!

    //Therapist Date Phiscicain
    if($total_page == 2){
      $pdf->Cell(120*$con,5*$con,'Therapist: __________________________________________________','L',0,'L');
      $pdf->Cell(70*$con,5*$con,'Date:___________________','R',1,'L');


      $pdf->Cell(120*$con,6*$con,'Physician: __________________________________________________','BL',0,'L');
      $pdf->Cell(50*$con,6*$con,'Date:___________________','B',0,'L');
      
      $pdf->SetFont('Courier','B',9);
  		
  		if ($visit_log->sent_to_approve_date) {
  			$pdf->Text(60+20, 755, "ELECTRONICALLY SIGNED BY " . $assigned_to -> first_name." ".$assigned_to -> last_name);
  			$pdf->Text(430, 755, standard_date(mysql_to_unix($visit_log->visit_date_time)));
  		}
      
    }
    
    $pdf->SetFontSize(8);
    
    //$pdf->Cell(20*$con,6*$con,'Page 2 of '.$total_page,'BR',1,'L');
  
    $pdf->Text(500, 820, "      Page: 2 of ".$total_page);
    
    if($total_page == 3){
      ##########
  		# Page 3 #
  		##########
  		
  		$cero_y = 2;
  		$cero_x = 11;
  		$pdf->AddPage();
		
      $pdf->Rect(8+20,28+10, 577-38, 770);
      
      $con = 2.8346456692913384;
      //Check Boxes
      //Basic
      $pdf->ln(10);
      $pdf->SetFont('Arial','B',9);

      $pdf->Rect(130*$con,19.5*$con,3*$con,3*$con);//Medicare NA
      $pdf->Rect(168*$con,24.5*$con,3*$con,3*$con);

      //Basic Info
      $pdf->Cell(130*$con,5*$con,'SPEECH THERAPY ASSESSMENT','TBL',0,'R');
      $pdf->Cell(10*$con,5*$con,'','TB',0,'C');
      $pdf->Cell(50*$con,5*$con,'VISIT DATE: '.standard_date(mysql_to_unix($visit_log->visit_date_time)),'TBR',1,'L');
      $pdf->SetFont('Arial','',9);

      $pdf->Cell(25*$con,5*$con,'Patient Name: ','L',0,'L');
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->SetFont('Arial','B',9);
      $pdf->Text($x,$y+10, $patient->first_name . " " . $patient->last_name);    
      $pdf->SetFont('Arial','',9);
      $pdf->Cell(55*$con,5*$con,'','T',0,'C');
      
      $pdf->Cell(20*$con,5*$con,'Medicare #: ','',0,'L');    
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->SetFont('Arial','B',9);
      $pdf->Text($x,$y+10, $patient->medicare_id);    
      $pdf->SetFont('Arial','',9);
      
      $pdf->Cell(20*$con,5*$con,'','',0,'C');
      if(is_null($patient->medicare_id)){
        $y = $pdf->GetY(); $x = $pdf->GetX(); 
        $pdf->Image( $path_ticket, $x+2,$y+4,6,6);
      }        
      $pdf->Cell(10*$con,5*$con,'NA','',0,'R'); 
      
      $pdf->Cell(30*$con,5*$con,'Med Rec #: ','',0,'C');
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->SetFont('Arial','B',9);
      $pdf->Text($x,$y+10, $patient->medical_rec_nbr);    
      $pdf->SetFont('Arial','',9);
      $pdf->Cell(30*$con,5*$con,'','R',1,'C');

      $pdf->Cell(25*$con,5*$con,'Primary DX:','L',0,'L');
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->SetXY($x-2, $y);
      $pdf->MultiCell(140, 12, substr($stev->primary_diag, 0, 30));
      $pdf->SetXY($x, $y);  
      
      $pdf->Cell(55*$con,5*$con,'','',0,'C');
      $pdf->Cell(20*$con,5*$con,'Date:','',0,'');
      
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->SetFont('Arial','B',9);
      $pdf->Text($x,$y+10, (!is_null(@$stev->primary_diag_date) ? standard_date(mysql_to_unix(@$stev->primary_diag_date)) : ""));    
      $pdf->SetFont('Arial','',9);
      
      $pdf->Cell(20*$con,5*$con,'','',0,'C');
      
      $pdf->Cell(10*$con,5*$con,'SOC:','',0,'L');
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->SetFont('Arial','B',9);
      $pdf->Text($x,$y+10, standard_date(mysql_to_unix($visit_log->estimated_soc_date)));
      $pdf->SetFont('Arial','',9);
      
      $pdf->Cell(25*$con,5*$con,'','',0,'C');    
      $pdf->Cell(35*$con,5*$con,'Certification','R',1,'C');
      $pdf->Cell(25*$con,5*$con,'Secondary DX:','L',0,'L');
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->SetXY($x-2, $y);
      $pdf->MultiCell(140, 12, substr(@$stev->secondary_diag, 0, 30));
      $pdf->SetXY($x, $y);  
      $pdf->Cell(55*$con,5*$con,'','',0,'C');
      $pdf->Cell(20*$con,5*$con,'Date:','',0,'L');
      $pdf->SetFont('Arial','B',9);
      $pdf->Cell(20*$con,5*$con, (!is_null(@$stev->secondary_diag_date) ? standard_date(mysql_to_unix(@$stev->secondary_diag_date)) : ""),'',0,'C');
      $pdf->SetFont('Arial','',9);
      
      $pdf->Cell(10*$con,5*$con,'From:','',0,'L');
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->SetFont('Arial','B', 9);
      $pdf->Text($x,$y+10, standard_date(mysql_to_unix($visit_log->episode_start_date)) );    
      $pdf->SetFont('Arial','',9);      
      $pdf->Cell(25*$con,5*$con,'','',0,'C');
      
      $pdf->Cell(15*$con,5*$con,'To:','',0,'L');
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->SetFont('Arial','B', 9);
      $pdf->Text($x,$y+10, standard_date(mysql_to_unix($visit_log->episode_end_date)) );    
      $pdf->SetFont('Arial','',9);  
      $pdf->Cell(20*$con,5*$con,'','R',1,'C');

      $pdf->Cell(25*$con,5*$con,'Physician:','L',0,'L');
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->SetFont('Arial','B', 9);
      $pdf->Text($x,$y+10, @$phys_user_id->complete_name );    
      $pdf->SetFont('Arial','',9);  
      //$pdf->Cell(32*$con,5*$con,'','',0,'C');
      $pdf->Cell(55*$con,5*$con,'','',0,'C');
      
      $pdf->Cell(20*$con,5*$con,'Clinician:','',0,'L');
      $pdf->Cell(20*$con,5*$con, $visit_log->first_name . " " .  $visit_log->last_name,'',0,'C');
      
      
      $pdf->Cell(10*$con,5*$con,'Time in:','',0,'L');
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->SetFont('Arial','B', 9);
      $pdf->Text($x+13,$y+10, standard_date(mysql_to_unix($visit_log->visited_date . " " . $visit_log->visited_time_in), 'USA_TIME_C') );    
      $pdf->SetFont('Arial','',9);  
      $pdf->Cell(20*$con,5*$con,'','',0,'C');
      
      $pdf->Cell(15*$con,5*$con,'Time Out:','',0,'L');
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->SetFont('Arial','B', 9);
      $pdf->Text($x+3,$y+10, standard_date(mysql_to_unix($visit_log->visited_date . " " . $visit_log->visited_time_out), 'USA_TIME_C') );    
      $pdf->SetFont('Arial','',9);  
      /*$pdf->Cell(15*$con,5*$con,'','',0,'C');
      
      $pdf->Cell(20*$con,5*$con,'Mileage:','',0,'L');
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->SetFont('Arial','B', 9);
      $pdf->Text($x,$y+10,  @$visit_log->mileage);    
      $pdf->SetFont('Arial','',9); 
      $pdf->Cell(13*$con,5*$con,'','R',1,'C');*/
      $pdf->Cell(25*$con,5*$con,'','R',1,'C');
      /*********************** End of Banner *************************/
      $cero_y = 20;
      $cero_x += 20;
      $cero_y =$cero_y+5;
      //$pdf->SetLineWidth( 0.9 );
      $pdf->Line(8+20, 85+$cero_y, 584-17, 85+$cero_y);
      
      /************************ page content goes now ***********************/
      /************************ page footer content goes now ***********************/
      
      $__FONT['PDF']['SIZE'] = 9;
      $__FONT['PDF']['FORM_MEDIUM'] = 10;
      $__FONT['PDF']['FORM_SMALL'] = 9;
      $__FONT['PDF']['FORM_SMALL2'] = 9;
      $__FONT['PDF']['FORM_SMALL3'] = 6.5;
      $__FONT['PDF']['FORM_SMALL4'] = 9.5;
      $__FONT['PDF']['FORM_arial8'] = 9.5;
      
      $pdf->SetFont('Arial','',$__FONT['PDF']['FORM_SMALL']);
      
      $pdf->Line(8+20, 745, 584-17, 745);
      
  		$pdf->Text(13+20, 770, "Therapist: ____________________________________________________");
  		$pdf->Text(400, 770, "Date: ___________________");
  		
  		$pdf->Text(13+20, 790, "Physician: ____________________________________________________");
  		$pdf->Text(400, 790, "Date: ___________________");

  	
  		$pdf->SetFont('Courier','B',$__FONT['PDF']['FORM_MEDIUM']);
  		
  		if ($visit_log->sent_to_approve_date) {
  			$pdf->Text(60+20, 770, "ELECTRONICALLY SIGNED BY " . $assigned_to -> first_name." ".$assigned_to -> last_name);
  			$pdf->Text(430, 770, standard_date(mysql_to_unix($visit_log->visit_date_time)));
  		}
      
    
    
    $cero_y += 16;
    $cero_y += 26;
    $line_need = 0;
      if(@$stev->ther_na ==1 ){
        $cero_y += 16;
        // do not need to print anything
      }else if(@$stev->ther_name != null || @$stev->ther_implem_plan != null  || @$stev->ther_follow_plan != null || @$stev->ther_raport_pat_fam != null || @$stev->ther_eval_plan != null || @$stev->ther_notes != null)
      {
          $therapy_supervisory = 1;  // position will be less 434
          $pdf->SetLineWidth( 0.9 );
          //$pdf->Line(( $cero_x - 3) , ($cero_y + 46), ( $cero_x + 573 ), ($cero_y + 46));
          
          $cero_y += 10;
          
          $pdf->SetFont('Arial','',9);
          $pdf->Text(( $cero_x ),( $cero_y + 46 ),"THERAPY SUPERVISORY COMMUNICATION REPORT"); 
          
          $pdf->SetLineWidth( 0.5 );
          $pdf->Rect(( $cero_x + 290), ($cero_y  + 39 ), 8.4, 8.4);
          $pdf->Text(( $cero_x + 302),( $cero_y + 46 ), "N/A");
          if (@$stev->ther_na == 1) {
              $pdf->Image( $path_ticket, ( $cero_x + 291),($cero_y + 40), 6);
          }
          
          $pdf->Text(( $cero_x ),( $cero_y + 56 ),"Name of Therapist being Evaluated:");
          
          $pdf->SetFont('Arial','',9);
          @$ther_name   	= $this->usagymdl->getByUsAgyId($stev->ther_name);
          $pdf->Text(( $cero_x + 150 ),( $cero_y + 56 ), @$ther_name->complete_name);
          $pdf->Line(( $cero_x + 149),($cero_y + 57), ( $cero_x + 260 ), ($cero_y + 57));
          
          $pdf->SetFont('Arial','',9);
          $pdf->Text(( $cero_x ),( $cero_y + 66 ),"Asses the Following Areas of Care:");
          

          $pdf->Text(( $cero_x + 250),( $cero_y + 66 ),"Followed Plan of Care?");
          
          $pdf->Rect(( $cero_x + 447),($cero_y  + 59 ), 8.4, 8.4);
          if (@$stev->ther_follow_plan == 1) {
              $pdf->Image( $path_ticket, ( $cero_x + 448),($cero_y + 60), 6);
          }
          $pdf->Text(( $cero_x + 457),( $cero_y + 66 ),"Yes");

          
          $pdf->Rect(( $cero_x + 490),($cero_y  + 59 ), 8.4, 8.4);
          /*if ((@$stev->ther_follow_plan == 0) and (@$stev->ther_na == 0)) {
              $pdf->Image( $path_ticket, ( $cero_x + 491),($cero_y + 60), 6);
          }*/
          $pdf->Text(( $cero_x + 500),( $cero_y + 66 ),"No");
          
          
          
          $pdf->Text(( $cero_x + 250),( $cero_y + 76 ),"Demonstrated good rapport with patient/family?");
          
          $pdf->Rect(( $cero_x + 447),($cero_y  + 69 ), 8.4, 8.4);
          if (@$stev->ther_raport_pat_fam == 1) {
              $pdf->Image( $path_ticket, ( $cero_x + 448),($cero_y + 70), 6);
          }
          $pdf->Text(( $cero_x + 457),( $cero_y + 76 ),"Yes");

          
          $pdf->Rect(( $cero_x + 490),($cero_y  + 69 ), 8.4, 8.4);
          /*if ((@$stev->ther_raport_fam == 0) and (@$stev->ther_na == 0)) {
              $pdf->Image( $path_ticket, ( $cero_x + 491),($cero_y + 70), 6);
          }*/
          $pdf->Text(( $cero_x + 500),( $cero_y + 76 ),"No");
          
          
          
          $pdf->Text(( $cero_x + 250),( $cero_y + 86 ),"Implemented Plan of Care?");
          
          $pdf->Rect(( $cero_x + 447),($cero_y  + 79 ), 8.4, 8.5);
          if (@$stev->ther_implem_plan == 1) {
              $pdf->Image( $path_ticket, ( $cero_x + 448),($cero_y + 80), 6);
          }
          $pdf->Text(( $cero_x + 457),( $cero_y + 86 ),"Yes"); 

          
          $pdf->Rect(( $cero_x + 490),($cero_y  + 79 ), 8.4, 8.5);
          /*if ((@$stev->ther_implem_plan == 0) and (@$stev->ther_na == 0)) {
              $pdf->Image( $path_ticket, ( $cero_x + 491),($cero_y + 80), 6);
          }*/
          $pdf->Text(( $cero_x + 500),( $cero_y + 86 ),"No");
          
          
          
          $pdf->Text(( $cero_x ),( $cero_y + 89 ),"Evaluation of Plan of Care:");
          
          $pdf->SetLineWidth( 0.5 );
          $pdf->Line(( $cero_x + 5 ) , ($cero_y + 102), ( $cero_x + 530 ), ($cero_y + 102));
          $pdf->Line(( $cero_x + 5 ) , ($cero_y + 112), ( $cero_x + 530 ), ($cero_y + 112));
          
          $pdf->SetFont('Arial','',9);
          $pdf->SetXY($cero_x + 2, $cero_y + 93 );
          $pdf->MultiCell(522, 10, substr(@$stev->ther_eval_plan,0, 270));
          //$cero_y += 95;
          $cero_y += 50;
          
          $pdf->Text(( $cero_x ),( $cero_y + 89 ),"Supervisor Notes:");
          
          $pdf->SetLineWidth( 0.5 );
          //$pdf->Line(( $cero_x + 5 ) , ($cero_y + 102), ( $cero_x + 530 ), ($cero_y + 102));
          //$pdf->Line(( $cero_x + 5 ) , ($cero_y + 112), ( $cero_x + 530 ), ($cero_y + 112));
          
          $pdf->SetFont('Arial','',9);
          $pdf->SetXY($cero_x + 2, $cero_y + 93 );
          $pdf->MultiCell(522, 10, substr(@$stev->ther_notes,0, 300));
          $cero_y += 105;
          
          $line_need = 1;
    }

    
    if($prior_service_more OR $physical_limit_more OR $discharge_summary_desc_more OR $limitations_more OR $goals_more OR $home_ev_comments_more){  
        if($line_need)
        $pdf->Line(( $cero_x - 3 ) , ($cero_y + 25 ), ( $cero_x + 536 ), ($cero_y + 25 ));
        
        
        $pdf->SetFont('Arial', 'B', $__FONT['PDF']['FORM_SMALL']);
        $pdf->Text(( $cero_x + 250),( $cero_y + 36 ),"Continuation"); 
        $pdf->Line(( $cero_x - 3 ) , ($cero_y + 40.5 ), ( $cero_x + 536 ), ($cero_y + 40.5 ));
        
        $cero_y += 15;  
        
        if($prior_service_more){
          $pdf->SetFont('Arial','',$__FONT['PDF']['SIZE']);
          $pdf->Text(( $cero_x + 11),( $cero_y + 36 ), "Prior ST Services Received:");
          //$pdf->Text(11, 107, "Cognition/Subjective:");
  		  
          $pdf->SetXY(( $cero_x + 11), ( $cero_y + 28.5 ));
          //$pdf->SetXY(101, 100.5);
          $pdf->SetFont('Courier','',$__FONT['PDF']['FORM_SMALL4']);
          $prior_service = '                   '.substr(@$stev->prior_service,95);
          $pdf->MultiCell(520, 10, $prior_service);
          
          $cero_y += ceil(strlen($prior_service)/87)*10;          
        }
        
        if($physical_limit_more){
          $pdf->SetFont('Arial','',$__FONT['PDF']['SIZE']);
          //$pdf->Text(11, 130, "Hx:");
          $pdf->Text(( $cero_x + 11),( $cero_y + 42 ), "Physical Limitations:");
          
          $pdf->SetFont('Courier','',$__FONT['PDF']['FORM_SMALL4']);
          
          $pdf->SetXY(( $cero_x + 11), ( $cero_y + 34.5 ));
          $physical_limit = '              '.substr(@$stev->physical_limit, 95);
          $pdf->MultiCell(520, 10, $physical_limit);
          
          $cero_y += ceil(strlen($physical_limit)/90)*10;
          $cero_y += 10;          
        }
        
        if($discharge_summary_desc_more){
          $pdf->SetFont('Arial','',$__FONT['PDF']['SIZE']);
          //$pdf->Text(11, 130, "Hx:");
          $pdf->Text(( $cero_x + 11),( $cero_y + 42 ), "Discharge Summary:");
          
          $pdf->SetFont('Courier','',$__FONT['PDF']['FORM_SMALL4']);
          
          $pdf->SetXY(( $cero_x + 11), ( $cero_y + 34.5 ));
          $discharge_summary_desc = '               '.substr(@$stev->discharge_summary_desc, 170);
          $pdf->MultiCell(520, 10, $discharge_summary_desc);
          
          $cero_y += ceil(strlen($discharge_summary_desc)/90)*10;
          $cero_y += 15;          
        }
        
        if($limitations_more){
          $pdf->SetFont('Arial','',$__FONT['PDF']['SIZE']);
          //$pdf->Text(11, 130, "Hx:");
          $pdf->Text(( $cero_x + 11),( $cero_y + 42 ), "Limitations- Receptive / Expressive / Physiological Behaviora:");
          
          $pdf->SetFont('Courier','',$__FONT['PDF']['FORM_SMALL4']);
          
          $pdf->SetXY(( $cero_x + 11), ( $cero_y + 34.5 ));
          $limitations = '                                           '.substr(@$stev->limitations, 170);
          $pdf->MultiCell(520, 10, $limitations);
          
          $cero_y += ceil(strlen($limitations)/90)*10;
          $cero_y += 10;          
        }
        
        if($goals_more){
          $pdf->SetFont('Arial','',$__FONT['PDF']['SIZE']);
          //$pdf->Text(11, 130, "Hx:");
          $pdf->Text(( $cero_x + 11),( $cero_y + 42 ), "Goals:");
          
          $pdf->SetFont('Courier','',$__FONT['PDF']['FORM_SMALL4']);
          
          $pdf->SetXY(( $cero_x + 11), ( $cero_y + 34.5 ));
          $goals = '     '.substr(@$stev->goals, 240);
          $pdf->MultiCell(520, 10, $goals);
          
          $cero_y += ceil(strlen($goals)/90)*10;
          $cero_y += 15;          
        }
        
        //$pdf->Line(( $cero_x + 31), ( $cero_y + 41 ), ( $cero_x + 571), ( $cero_y + 41 ));
        //$pdf->Line(31, 131, 571, 131);    
        
        //$cero_y += 16;
        $line_need = 1;
      }
      
      if(strlen(@$stev->addendum) > 0 OR $home_ev_comments_more){
        if($line_need)
        $pdf->Line(( $cero_x - 3 ) , ($cero_y + 25 ), ( $cero_x + 536 ), ($cero_y + 25 ));
        
        $pdf->SetFont('Arial', 'B', $__FONT['PDF']['FORM_SMALL']);
        $pdf->Text(( $cero_x + 200),( $cero_y + 36 ),"Addendum / Additional Notes"); 
        $pdf->Line(( $cero_x - 3 ) , ($cero_y + 40.5 ), ( $cero_x + 536 ), ($cero_y + 40.5 ));

        $pdf->SetFont('Courier','',$__FONT['PDF']['FORM_MEDIUM']);
        $pdf->SetXY($cero_x+11, $cero_y+50);
        if($home_ev_comments_more){
          $pdf->MultiCell(516, 10, 'HOME EVALUATION Comment: '.@$stev->home_ev_comments);
          $cero_y += ceil(strlen('HOME EVALUATION Comment: '.@$stev->home_ev_comments)/90)*10;
          $cero_y += 10;          
          $pdf->SetXY($cero_x+11, $cero_y+50);
        }
        
        $pdf->MultiCell(516, 10, @$stev->addendum);
      }
      
      $cero_y = 20;
      $pdf->SetTextColor(0,0,0);    

      $pdf->SetFont('Arial','',$__FONT['PDF']['FORM_SMALL']);
  		$pdf->Text(500, 820, "      Page: 3 of ".$total_page);   
    }    
      
    //$this->fpdf->Output('stev.pdf','D');
    
    $filename = FCPATH;
    $filename = str_replace("\\","/", $filename);
    $filename = $filename.'tmp/'.time().'_'.$visit_log_id.'_pq_stev.pdf';
    
    
    $this->fpdf->Output($filename,'F');
    return $filename;		
	}  
  
  function stpn_pdf ( $visit_log_id ) {
    $this->load->model('stpnmdl'); 
    
		$visit_log = $this->visitlogmdl->getById($visit_log_id);
    
    
    // printing pdf
		$stpn 	 	    = $this->stpnmdl->get($visit_log_id);    
		$patient    	= $this->patientmdl->getById($visit_log->patient_id);    
		$assigned_to    = $this->usagymdl->getByUsAgyId($visit_log->visit_user_id);
		$approver    	= $this->usagymdl->getByUsAgyId($visit_log->user_approver);
		$agency	    	= $this->agencymdl->getByAgencyId($patient->agency_id);
		$episde_icd		= $this->episodeicdmdl->get($visit_log->cms485_id);
		$phys_user_id  	= $this->usagymdl->getByUsAgyId($visit_log->phys_user_id);
    
    //print_r($patient);exit;
    
    $tab_47			= $this->parametermdl->getByType(47);
		$tab_47[NULL]   = NULL;
    $tab_20			= $this->parametermdl->getByType(20);
		$tab_20[NULL]   = NULL;
    $tab_52			= $this->parametermdl->getByType(52);
		$tab_52[NULL]   = NULL;
    $tab_93			= $this->parametermdl->getByType(93);
		$tab_93[NULL]   = NULL;
    $ther_name_list = $this->teammdl->getAll($visit_log->patient_id, array(2, 3));
    $ther_name_list[NULL] = NULL;
    
    $path_ticket = realpath("style/images/icon_enable_negro.gif");		
    
    $this->load->library('fpdf');
		if(!defined('FPDF_FONTPATH'))
		define('FPDF_FONTPATH',$this->config->item('fonts_path'));

    $this->fpdf = new fpdf;
    
    $total_page = 1;
    
    if(@$stpn->addendum != null){
      $total_page = 2;
    }
    
    
    $this->fpdf->Open();
		
		$pdf = $this->fpdf;
    
    $pdf->AddPage();
    $con = 2.8346456692913384;

    //Check Boxes
    //Basic

    $pdf->Rect(130*$con,14.2*$con,2.5*$con,2.5*$con);//Medicare NA
    $pdf->Rect(170*$con,17.2*$con,2.5*$con,2.5*$con);

    //////////////////////////////////////////////////////

    $pdf->SetFont('Arial','B',9);

    //Basic Info
    $y = $pdf->GetY(); $x = $pdf->GetX();     
    $pdf->Text($x+3,$y+8,  "Therapy Visit #:  ".@$visit_log->visit_log_number);
    
    
    $pdf->Cell(130*$con,4*$con,'SPEECH THERAPY PROGRESS NOTE','TBL',0,'R');
    $pdf->Cell(10*$con,4*$con,'','TB',0,'C');
    $pdf->Cell(50*$con,4*$con,'VISIT DATE: '.standard_date(mysql_to_unix($visit_log->visit_date_time)),'TBR',1,'L');
    $pdf->SetFont('Arial','',8);
    $pdf->Cell(25*$con,3*$con,'Patient Name:','L',0,'L');
    $y = $pdf->GetY(); $x = $pdf->GetX();     
    $pdf->Text($x,$y+7, $patient->first_name . " " . $patient->last_name);    
    $pdf->Cell(55*$con,3*$con,'','T',0,'C');
    
    $pdf->Cell(20*$con,3*$con,'Medicare #:','',0,'L');
    $y = $pdf->GetY(); $x = $pdf->GetX();     
    $pdf->Text($x,$y+8, $patient->medicare_id);    
    
    $pdf->Cell(20*$con,3*$con,'','',0,'C');    
    if(is_null($patient->medicare_id)){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x+1,$y+2,5,5);
    }        
    $pdf->Cell(10*$con,3*$con,'NA','',0,'R'); 
    $pdf->Cell(30*$con,3*$con,'Med Rec #:','',0,'C');
    $y = $pdf->GetY(); $x = $pdf->GetX();     
    $pdf->Text($x,$y+8, $patient->medical_rec_nbr);    
    $pdf->Cell(30*$con,3*$con,'','R',1,'C');

    $pdf->Cell(25*$con,3*$con,'Primary DX:','L',0,'L');
    $y = $pdf->GetY(); $x = $pdf->GetX(); 
    $pdf->SetXY($x-2, $y);
    $pdf->MultiCell(140, 12, substr(@$stpn->primary_diag, 0, 30));
    $pdf->SetXY($x, $y);  
    $pdf->Cell(55*$con,3*$con,'','',0,'C');
    $pdf->Cell(20*$con,3*$con,'Date:','',0,'');
    $y = $pdf->GetY(); $x = $pdf->GetX(); 
    //$pdf->SetFont('Arial','B',9);
    $pdf->Text($x,$y+10, (!is_null(@$stpn->primary_diag_date) ? standard_date(mysql_to_unix(@$stpn->primary_diag_date)) : ""));    
    //$pdf->SetFont('Arial','',9);
    $pdf->Cell(20*$con,3*$con,'','',0,'C');
    $pdf->Cell(10*$con,3*$con,'SOC:','',0,'L');
    $y = $pdf->GetY(); $x = $pdf->GetX();     
    $pdf->Text($x,$y+7, standard_date(mysql_to_unix($visit_log->estimated_soc_date)));
    $pdf->Cell(25*$con,3*$con,'','',0,'C');
    $pdf->Cell(35*$con,3*$con,'Certification','R',1,'C');

    $pdf->Cell(25*$con,3*$con,'Secondary DX:','L',0,'L');
    $y = $pdf->GetY(); $x = $pdf->GetX(); 
    $pdf->SetXY($x-2, $y);
    $pdf->MultiCell(140, 12, substr(@$stpn->secondary_diag, 0, 30));
    $pdf->SetXY($x, $y);  
    $pdf->Cell(55*$con,3*$con,'','',0,'C');
    $pdf->Cell(20*$con,3*$con,'Date:','',0,'L');
    $y = $pdf->GetY(); $x = $pdf->GetX(); 
    $pdf->SetXY($x-2, $y);
    $pdf->MultiCell(50, 12, (!is_null(@$stpn->secondary_diag_date) ? standard_date(mysql_to_unix(@$stpn->secondary_diag_date)) : ""));
    $pdf->SetXY($x, $y);  
    //$pdf->Cell(20*$con,3*$con, (!is_null(@$stpn->secondary_diag_date) ? standard_date(mysql_to_unix(@$stpn->secondary_diag_date)) : ""),'',0,'C');
    
    $pdf->Cell(20*$con,3*$con,'','',0,'C');
    $pdf->Cell(10*$con,3*$con,'From:','',0,'L');
    $y = $pdf->GetY(); $x = $pdf->GetX();     
    $pdf->Text($x,$y+7, standard_date(mysql_to_unix($visit_log->episode_start_date)) );
    
    $pdf->Cell(25*$con,3*$con,'','',0,'C');
    $pdf->Cell(15*$con,3*$con,'To:','',0,'L');
    $y = $pdf->GetY(); $x = $pdf->GetX();     
    $pdf->Text($x-25,$y+7, standard_date(mysql_to_unix($visit_log->episode_end_date)) );
    $pdf->Cell(20*$con,3*$con,'','R',1,'C');

    $pdf->Cell(25*$con,3*$con,'Physician:','L',0,'L');
    $y = $pdf->GetY(); $x = $pdf->GetX();     
    $pdf->Text($x,$y+7, @$phys_user_id->complete_name );    
    //$pdf->Cell(32*$con,3*$con,'','',0,'C');
    $pdf->Cell(55*$con,3*$con,'','',0,'C');
    //$pdf->Cell(20*$con,3*$con,'Clinician:','',0,'L');
    $pdf->Cell(12*$con,3*$con,'Clinician:','',0,'L');
    //$pdf->Cell(20*$con,3*$con, $visit_log->first_name . " " .  $visit_log->last_name,'',0,'C');
    $pdf->Cell(28*$con,3*$con, $visit_log->first_name . " " .  $visit_log->last_name,'',0,'C');
    $pdf->Cell(10*$con,3*$con,'Time in:','',0,'L');
    $y = $pdf->GetY(); $x = $pdf->GetX();     
    $pdf->Text($x+13,$y+7, standard_date(mysql_to_unix($visit_log->visited_date . " " . $visit_log->visited_time_in), 'USA_TIME_C') );    
    //$pdf->Cell(20*$con,3*$con,'','',0,'C');
    $pdf->Cell(25*$con,3*$con,'','',0,'C');
    $pdf->Cell(15*$con,3*$con,'Time Out:','',0,'L');
    $y = $pdf->GetY(); $x = $pdf->GetX();     
    $pdf->Text($x+3,$y+7, standard_date(mysql_to_unix($visit_log->visited_date . " " . $visit_log->visited_time_out), 'USA_TIME_C') );    
    $pdf->Cell(15*$con,3*$con,'','',0,'C');
    //$pdf->Cell(20*$con,3*$con,'Mileage:','',0,'L');    
    /*$y = $pdf->GetY(); $x = $pdf->GetX();     
    $pdf->Text($x,$y+7,  @$visit_log->mileage);    */
    //$pdf->Cell(13*$con,3*$con,'','R',1,'C');
    $pdf->Cell(5*$con,3*$con,'','R',1,'C');

    //******REhab Potential/Mental Status

    $pdf->Cell(95*$con,3*$con,'         REHAB POTENTIAL','LTR',0,'L');
    $pdf->Cell(95*$con,3*$con,'        MENTAL STATUS','RT',1,'L');

    //rehab 1    
    $pdf->Cell(3*$con,3*$con,'','L',0,'L');
    if(@$stpn->tab_43_rehab_poten == 5){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x+4,$y+1,5,5);
    }
    $pdf->Rect(14*$con,29*$con,2.5*$con,2.5*$con);
    $pdf->Cell(2*$con,3*$con,'','',0,'L');
    $pdf->Cell(25*$con,3*$con,'     Excellent','',0,'L');
    $pdf->Cell(5*$con,3*$con,'','',0,'L');
    if(@$stpn->tab_43_rehab_poten == 4){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x-16,$y+1,5,5);
    }
    $pdf->Rect(39*$con,29*$con,2.5*$con,2.5*$con);
    $pdf->Cell(25*$con,3*$con,'Good','',0,'L');
    if(@$stpn->tab_43_rehab_poten == 3){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x-16,$y+1,5,5);
    }
    $pdf->Rect(64*$con,29*$con,2.5*$con,2.5*$con);
    $pdf->Cell(35*$con,3*$con,'Fair','R',0,'L');


    //Mental Status 1
    $pdf->Cell(3*$con,3*$con,'','',0,'L');
    if(@$stpn->mental_alert == 1){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x-1,$y+1,5,5);
    }
    $pdf->Rect(107*$con,29*$con,2.5*$con,2.5*$con);
    $pdf->Cell(2*$con,3*$con,'','',0,'L');
    $pdf->Cell(13*$con,3*$con,'   Alert','',0,'');
    $pdf->Cell(5*$con,3*$con,'','',0,'L');
    if(@$stpn->mental_orien == 1){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x-4,$y+1,5,5);
    }
    $pdf->Rect(126*$con,29*$con,2.5*$con,2.5*$con);
    $pdf->Cell(22*$con,3*$con,'Oriented','',0,'C');
    $pdf->Cell(3*$con,3*$con,'','',0,'L');
    if(@$stpn->mental_comatose == 1){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x-4,$y+1,5,5);
    }
    $pdf->Rect(151*$con,29*$con,2.5*$con,2.5*$con);
    $pdf->Cell(2*$con,3*$con,'','',0,'L');
    $pdf->Cell(13*$con,3*$con,'Comatose','',0,'L');
    $pdf->Cell(2*$con,3*$con,'','',0,'L');
    if(@$stpn->mental_disorient == 1){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x+18,$y+1,5,5);
    }
    $pdf->Rect(176*$con,29*$con,2.5*$con,2.5*$con);
    $pdf->Cell(30*$con,3*$con,'Disoriented    ','R',1,'R');

    //Rehab 2
    $pdf->Cell(3*$con,3*$con,'','L',0,'L');
    if(@$stpn->tab_43_rehab_poten == 2){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x+4,$y+1,5,5);
    }
    $pdf->Rect(14*$con,32*$con,2.5*$con,2.5*$con);
    $pdf->Cell(2*$con,3*$con,'','',0,'L');
    $pdf->Cell(20*$con,3*$con,'     Guarded','',0,'L');
    $pdf->Cell(5*$con,3*$con,'','',0,'L');
    if(@$stpn->tab_43_rehab_poten == 1){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x-1,$y+1,5,5);
    }
    $pdf->Rect(39*$con,32*$con,2.5*$con,2.5*$con);
    $pdf->Cell(65*$con,3*$con,'     Poor','R',0,'L');

    //Mental Status 2
    $pdf->Cell(3*$con,3*$con,'','',0,'L');
    if(@$stpn->mental_forget == 1){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x-1,$y+1,5,5);
    }
    $pdf->Rect(107*$con,32*$con,2.5*$con,2.5*$con);
    $pdf->Cell(2*$con,3*$con,'','',0,'L');
    $pdf->Cell(13*$con,3*$con,'Forgetful','',0,'');
    $pdf->Cell(5*$con,3*$con,'','',0,'L');
    if(@$stpn->mental_depress == 1){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x-4,$y+1,5,5);
    }
    $pdf->Rect(126*$con,32*$con,2.5*$con,2.5*$con);
    $pdf->Cell(22*$con,3*$con,'  Depressed','',0,'C');
    $pdf->Cell(3*$con,3*$con,'','',0,'L');
    if(@$stpn->mental_lethar == 1){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x-4,$y+1,5,5);
    }
    $pdf->Rect(151*$con,32*$con,2.5*$con,2.5*$con);
    $pdf->Cell(2*$con,3*$con,'','',0,'L');
    $pdf->Cell(13*$con,3*$con,'  Lethargic','',0,'L');
    $pdf->Cell(5*$con,3*$con,'','',0,'L');
    if(@$stpn->mental_agita == 1){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x+10,$y+1,5,5);
    }
    $pdf->Rect(176*$con,32*$con,2.5*$con,2.5*$con);
    $pdf->Cell(27*$con,3*$con,'   Agitated','R',1,'C');

    //Pain Asses/ System Asses/ Treatement
    $pdf->Cell(55*$con,5*$con,'PAIN ASSESSMENT','LTR',0,'C');
    $pdf->Cell(50*$con,5*$con,'SYSTEM ASSESSMENT','TR',0,'C');
    $pdf->Cell(85*$con, 5*$con, '      TREATMENT', 'RTL',1,'L');

    //Pain Ases 1
    if(@$stpn->tab_75_pain_assessment == 1){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x+4,$y,5,5);
    }
    $pdf->Cell(4*$con,3*$con,'','L',0,'L');    
    $pdf->Rect(11*$con,39.5*$con,2.5*$con,2.5*$con);
    $pdf->Cell(10*$con,3*$con,'No Pain','',0,'L');
    
    
    $pdf->Cell(6*$con,3*$con,'',0,0,'L');
    if(@$stpn->tab_75_pain_assessment == 2){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x,$y,5,5);
    }
    $pdf->Rect(29.5*$con,39.5*$con,2.5*$con,2.5*$con);
    $pdf->Cell(6*$con,3*$con,' 1',0,0,'R');
    
    if(@$stpn->tab_75_pain_assessment == 3){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x+4,$y,5,5);
    }
    $pdf->Cell(3*$con,3*$con,'',0,0,'L');
    $pdf->Rect(37*$con,39.5*$con,2.5*$con,2.5*$con);
    $pdf->Cell(5*$con,3*$con,'2',0,0,'R');
    
    if(@$stpn->tab_75_pain_assessment == 4){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x+4,$y,5,5);
    }
    $pdf->Cell(5*$con,3*$con,'',0,0,'L');
    $pdf->Rect(45*$con,39.5*$con,2.5*$con,2.5*$con);
    $pdf->Cell(5*$con,3*$con,'3',0,0,'L');
    
    if(@$stpn->tab_75_pain_assessment == 5){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x+4,$y,5,5);
    }
    $pdf->Cell(5*$con,3*$con,'',0,0,'L');
    $pdf->Rect(55*$con,39.5*$con,2.5*$con,2.5*$con);
    $pdf->Cell(5*$con,3*$con,'4',0,0,'L');
    $pdf->Cell(1*$con,3*$con,'','R',0,'L');

    //System Assesment 1
    $pdf->Cell(15*$con,3*$con,'BloodP:',0,0,'L');
    $y = $pdf->GetY(); $x = $pdf->GetX(); 
    $pdf->Text($x-9,$y+7, @$stpn->system_bp);    
    $pdf->Cell(5*$con,3*$con,'',0,0,'L');
    if(@$stpn->system_bp_right_left == 'R'){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x-2,$y,5,5);
    }
    $pdf->Rect(84*$con,39.5*$con,2.5*$con,2.5*$con);
    $pdf->Cell(15*$con,3*$con,'R','',0,'C');
    if(@$stpn->system_bp_right_left == 'L'){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x-4,$y,5,5);
    }
    $pdf->Rect(98*$con,39.5*$con,2.5*$con,2.5*$con);
    $pdf->Cell(10*$con,3*$con,'L','',0,'C');
    $pdf->Cell(5*$con,3*$con,'','R',0,'L');

    //Evaluation                        Voice Disorders Treatment 
    if(@$stpn->treat_evaluation == 1){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x+10,$y,5,5);
    }
    $pdf->Rect(118*$con,39.5*$con,2.5*$con,2.5*$con);
    $pdf->Cell(25*$con, 3*$con, ' Evaluation', 'L','0','R');
    if(@$stpn->treat_voice_disor == 1){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x+21,$y,5,5);
    }
    $pdf->Rect(147*$con,39.5*$con,2.5*$con,2.5*$con);
    $pdf->Cell(60*$con, 3*$con, '            Voice Disorders Treatment ', 'R','1','L');

    //pain Asses 2
    if(@$stpn->tab_75_pain_assessment == 6){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x+4,$y+1,5,5);
    }
    $pdf->Cell(4*$con,3*$con,'','L',0,'L');
    $pdf->Rect(146-40.5*$con,43*$con,2.5*$con,2.5*$con);
    $pdf->Cell(4.5*$con,3*$con,'5',0,0,'L');
    
    if(@$stpn->tab_75_pain_assessment == 7){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x+3,$y+1,5,5);
    }
    $pdf->Cell(3.5*$con,3*$con,'',0,0,'L');
    $pdf->Rect(19*$con,43*$con,2.5*$con,2.5*$con);
    $pdf->Cell(4.5*$con,3*$con,'6',0,0,'L');
    
    if(@$stpn->tab_75_pain_assessment == 8){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x+8,$y,5,5);
    }
    $pdf->Cell(4.5*$con,3*$con,'',0,0,'L');
    $pdf->Rect(29*$con,43*$con,2.5*$con,2.5*$con);
    $pdf->Cell(5*$con,3*$con,'7',0,0,'R');
    
    if(@$stpn->tab_75_pain_assessment == 9){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x+4,$y+1,5,5);
    }
    $pdf->Cell(4*$con,3*$con,'',0,0,'L');
    $pdf->Rect(37*$con,43*$con,2.5*$con,2.5*$con);
    $pdf->Cell(4.5*$con,3*$con,'8',0,0,'C');
    
    if(@$stpn->tab_75_pain_assessment == 10){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x+3,$y+1,5,5);
    }
    $pdf->Cell(4.5*$con,3*$con,'',0,0,'L');
    $pdf->Rect(45*$con,43*$con,2.5*$con,2.5*$con);
    $pdf->Cell(4.5*$con,3*$con,'9',0,0,'L');
    
    if(@$stpn->tab_75_pain_assessment == 11){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x+6,$y+1,5,5);
    }
    $pdf->Cell(4*$con,3*$con,'',0,0,'L');
    $pdf->Rect(55*$con,43*$con,2.5*$con,2.5*$con);
    $pdf->Cell(4*$con,3*$con,'10',0,0,'L');
    $pdf->Cell(3.5*$con,3*$con,'','R',0,'L');

    //system asses 2
    if(@$stpn->system_sitt_lyi_stand == 1){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x+4,$y+1,5,5);
    }
    $pdf->Cell(4*$con,3*$con,'',0,0,'L');
    $pdf->Rect(66*$con,43*$con,2.5*$con,2.5*$con);
    $pdf->Cell(14*$con,3*$con,'Sitting',0,0,'L');
    $pdf->Cell(1.7*$con,3*$con,'',0,'TBLR','L');
    if(@$stpn->system_sitt_lyi_stand == 2){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x-9,$y+1,5,5);
    }
    $pdf->Rect(81*$con,43*$con,2.5*$con,2.5*$con);
    $pdf->Cell(10*$con,3*$con,'Lying',0,0,'L');
    if(@$stpn->system_sitt_lyi_stand == 3){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x+5,$y+1,5,5);
    }
    $pdf->Cell(3*$con,3*$con,'',0,0,'L');
    $pdf->Rect(96*$con,43*$con,2.5*$con,2.5*$con);
    $pdf->Cell(17.3*$con,3*$con,'Standing','R',0,'R');


    //    Speech Articulation           Establish HEP            Upgrade HEP
    if(@$stpn->treat_speech_art == 1){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x+10,$y+1,5,5);
    }
    $pdf->Rect(118*$con,43*$con,2.5*$con,2.5*$con);
    $pdf->Cell(42*$con, 3*$con, '       Speech Articulation', 'L','0','L');
    if(@$stpn->treat_establish_hep == 1){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x+13,$y+1,5,5);
    }
    $pdf->Rect(161*$con,43*$con,2.5*$con,2.5*$con);
    $pdf->Cell(43*$con, 3*$con, 'Establish HEP', 'R','1','C');


    //Pain Asses 3
    $y = $pdf->GetY(); $x = $pdf->GetX(); 
    $pdf->SetXY($x, $y);
    $pdf->MultiCell(150, 12, '               '.@$stpn->pain_location);
    $pdf->SetXY($x, $y);  
    $pdf->Cell(55*$con, 5*$con, 'Location: ___________________', 'LR','0','L');

    //System Assesment 3
    $pdf->Cell(20*$con, 5*$con, 'HR:', 0,0);
    $y = $pdf->GetY(); $x = $pdf->GetX(); 
    $pdf->SetXY($x-20, $y+1);
    $pdf->MultiCell(30, 12, @$stpn->system_hr);
    $pdf->SetXY($x, $y);  
    
    $y = $pdf->GetY(); $x = $pdf->GetX(); 
    $pdf->SetXY($x+30, $y+1);
    $pdf->MultiCell(40, 12, @$stpn->system_o2_sat);
    $pdf->SetXY($x, $y);  
    $pdf->Cell(30*$con, 5*$con, '02 Sat:_______', 'R','L');

    //upgrade HEP
    if(@$stpn->treat_upgrade_hep == 1){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x+9,$y+4,5,5);
    }
    $pdf->Rect(118*$con,47*$con,2.5*$con,2.5*$con);
    $pdf->Cell(85*$con, 5*$con, '       Upgrade HEP', 'R','1','L');

    //Pain Asses 4
    $y = $pdf->GetY(); $x = $pdf->GetX(); 
    $pdf->SetXY($x, $y+1);
    $pdf->MultiCell(150, 12, '                                  '.@$stpn->pain_control);
    $pdf->SetXY($x, $y);  
    $pdf->Cell(55*$con, 5*$con, 'Current Pain Control:__________', 'RL','0','L');

    //System Asses 4
    $y = $pdf->GetY(); $x = $pdf->GetX(); 
    $pdf->SetXY($x, $y+1);
    $pdf->MultiCell(150, 12, '           '.@$stpn->system_skin);
    $pdf->SetXY($x, $y);  
    $pdf->Cell(50*$con, 5*$con, 'Skin: ___________________', 'R','L');

    //Dysphagia Treatment              Language Disorders     
    if(@$stpn->treat_dysphasia_treat == 1){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x+10,$y+4,5,5);
    }
    $pdf->Rect(118*$con,52*$con,2.5*$con,2.5*$con);
    $pdf->Cell(45*$con, 5*$con, '       Dysphagia Treatment', 'L','0','L');
    if(@$stpn->treat_language_disor == 1){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x-4,$y+4,5,5);
    }
    $pdf->Rect(158*$con,52*$con,2.5*$con,2.5*$con);
    $pdf->Cell(40*$con, 5*$con, ' Language Disorders     ', 'R','1','C');

    //Pain Asses 5
    $pdf->Cell(55*$con, 5*$con, '__________________________', 'RL','0','L');

    //System Asses 6
    $pdf->Cell(50*$con, 5*$con, '  _______________________', 'R','L');

    //Dyshagia treatments             Non-oral Communications
    if(@$stpn->treat_dysphagia_treat == 1){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x+10,$y+4,5,5);
    }
    $pdf->Rect(118*$con,57*$con,2.5*$con,2.5*$con);
    $pdf->Cell(45*$con, 5*$con, '       Dyshagia treatments', 'L','0','L');
    if(@$stpn->treat_non_oral_comm == 1){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x-7,$y+4,5,5);
    }
    $pdf->Rect(157*$con,57*$con,2.5*$con,2.5*$con);
    $pdf->Cell(40*$con, 5*$con, 'Non-oral Communications', 'R','1','L');

    //Blank
    $pdf->Cell(55*$con, 5*$con, '', 'RL','0','L');
    $pdf->Cell(50*$con, 5*$con, '', 'RL','0','L');


    //Other
    if(@$stpn->treat_other == 1){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x+9,$y+4,5,5);
    }
    $pdf->Rect(118*$con,62*$con,2.5*$con,2.5*$con);
    $y = $pdf->GetY(); $x = $pdf->GetX(); 
    $pdf->SetXY($x+45, $y+1);
    $pdf->MultiCell(150, 12, substr(@$stpn->treat_other_desc, 0, 50));
    $pdf->SetXY($x, $y);  
    $pdf->Cell(85*$con, 5*$con, '       Other: ____________________________', 'R','1','L');

    $pdf->SetFont('Arial','B',8);
    $pdf->Cell(190*$con, 3*$con, 'FUNCTIONAL ASSESSMENT', 'LRT','1','C');
    $pdf->SetFont('Arial','B',8);
    $pdf->Cell(190*$con,3*$con,'Functional Ratings: 0:Normal 1:Cueing Required  2: Minimal Assist  3: Moderate Assist 4: Non-Functional  5: Not Applicable  NT: Not Tested','BLR',1,'L');
    $pdf->SetFont('Arial','',8);


    //Table Starts Here
    $pdf->Cell(43*$con, 3*$con, '', 'LR','0','C');
    $pdf->Cell(14*$con, 3*$con, 'Functional', 'R','0','C');
    $pdf->Cell(39*$con, 3*$con, 'Comments', 'R','0','C');

    $pdf->Cell(43*$con, 3*$con, '', 'R','0','C');
    $pdf->Cell(14*$con, 3*$con, 'Functional', 'R','0','C');
    $pdf->Cell(37*$con, 3*$con, 'Comments', 'R','1','C');

    $pdf->Cell(43*$con, 3*$con, '', 'LBR','0','C');
    $pdf->Cell(14*$con, 3*$con, 'Ratiings', 'BR','0','C');
    $pdf->Cell(39*$con, 3*$con, '', 'RB','0','C');

    $pdf->Cell(43*$con, 3*$con, '', 'BR','0','C');
    $pdf->Cell(14*$con, 3*$con, 'Ratiings', 'BR','0','C');
    $pdf->Cell(37*$con, 3*$con, '', 'BR','1','C');

    //Auditory Comprehension
    $pdf->SetFont('Arial','B',8);
    $pdf->Cell(43*$con, 4*$con, 'Auditory Comprehension', 'LRB','0','L');
    $pdf->Cell(14*$con, 4*$con, '', 'BR','0','L');
    $pdf->Cell(39*$con, 4*$con, '', 'RB','0','L');

    $pdf->Cell(43*$con, 4*$con, 'Dysarthria', 'BR','0','L');
    $pdf->Cell(14*$con, 4*$con, '', 'RB','0','L');
    $pdf->Cell(37*$con, 4*$con, '', 'RB','1','L');
    $pdf->SetFont('Arial','',8);

    //Single Words
    $pdf->Cell(43*$con, 4*$con, 'Single Words', 'BLR','0','L');
    $pdf->Cell(14*$con, 4*$con, $tab_93[@$stpn->auditory_sing_tab_93], 'RB','0','L');
    $pdf->Cell(39*$con, 4*$con, @$stpn->auditory_sing_comment, 'RB','0','L');

    $pdf->Cell(43*$con, 4*$con, 'Respiration', 'BR','0','L');
    $pdf->Cell(14*$con, 4*$con, $tab_93[@$stpn->dysar_resp_tab_93], 'RB','0','L');
    $pdf->Cell(37*$con, 4*$con, @$stpn->dysar_resp_comment, 'BR','1','L');

    //Sentences/Direction

    $pdf->Cell(43*$con, 4*$con, 'Sentences/Direction', 'LBR','0','L');
    $pdf->Cell(14*$con, 4*$con, $tab_93[@$stpn->auditory_senten_tab_93], 'BR','0','L');
    $pdf->Cell(39*$con, 4*$con, @$stpn->auditory_senten_comment, 'RB','0','L');

    $pdf->Cell(43*$con, 4*$con, 'Phonation', 'RB','0','L');
    $pdf->Cell(14*$con, 4*$con, $tab_93[@$stpn->dysar_phona_tab_93], 'RB','0','L');
    $pdf->Cell(37*$con, 4*$con, @$stpn->dysar_phona_comment, 'RB','1','L');

    //Paragraphs

    $pdf->Cell(43*$con, 4*$con, 'Paragraphs', 'LBR','0','L');
    $pdf->Cell(14*$con, 4*$con, $tab_93[@$stpn->auditory_paragra_tab_93], 'RB','0','L');
    $pdf->Cell(39*$con, 4*$con, @$stpn->auditory_paragra_comment, 'RB','0','L');

    $pdf->Cell(43*$con, 4*$con, 'Resonance', 'BR','0','L');
    $pdf->Cell(14*$con, 4*$con, $tab_93[@$stpn->dysar_reson_tab_93], 'BR','0','L');
    $pdf->Cell(37*$con, 4*$con, @$stpn->dysar_reson_comment, 'RB','1','L');

    //Conversation

    $pdf->Cell(43*$con, 4*$con, 'Conversation', 'LBR','0','L');
    $pdf->Cell(14*$con, 4*$con, $tab_93[@$stpn->auditory_conver_tab_93], 'BR','0','L');
    $pdf->Cell(39*$con, 4*$con, @$stpn->auditory_conver_comment, 'RB','0','L');

    $pdf->Cell(43*$con, 4*$con, 'Articulation', 'BR','0','L');
    $pdf->Cell(14*$con, 4*$con, $tab_93[@$stpn->dysar_artic_tab_93], 'RB','0','L');
    $pdf->Cell(37*$con, 4*$con, @$stpn->dysar_artic_comment, 'RB','1','L');

    //Other: 
    $pdf->Cell(43*$con, 4*$con, 'Other: ', 'LBR','0','L');
    $pdf->Cell(14*$con, 4*$con, $tab_93[@$stpn->auditory_other_tab_93], 'RB','0','L');
    $pdf->Cell(39*$con, 4*$con, @$stpn->auditory_other_comment, 'BR','0','L');

    $pdf->Cell(43*$con, 4*$con, 'Prosody (Rate/rhythm/stress)', 'BR','0','L');
    $pdf->Cell(14*$con, 4*$con, $tab_93[@$stpn->dysar_prosody_tab_93], 'RB','0','L');
    $pdf->Cell(37*$con, 4*$con, @$stpn->dysar_prosody_comment, 'RB','1','L');

    //Reading Comprehension
    $pdf->SetFont('Arial','B',8);
    $pdf->Cell(43*$con, 4*$con, 'Reading Comprehension', 'LRB','0','L');
    $pdf->Cell(14*$con, 4*$con, '', 'BR','0','L');
    $pdf->Cell(39*$con, 4*$con, '', 'RB','0','L');

    $pdf->Cell(43*$con, 4*$con, 'Dysphagia', 'BR','0','L');
    $pdf->Cell(14*$con, 4*$con, '', 'RB','0','L');
    $pdf->Cell(37*$con, 4*$con, '', 'RB','1','L');
    $pdf->SetFont('Arial','',8);


    //Matching level 
    $pdf->Cell(43*$con, 4*$con, 'Matching level', 'LBR','0','L');
    $pdf->Cell(14*$con, 4*$con, $tab_93[@$stpn->reading_matching_tab_93], 'RB','0','L');
    $pdf->Cell(39*$con, 4*$con, @$stpn->reading_matching_comment, 'BR','0','L');

    $pdf->Cell(43*$con, 4*$con, 'Non-Oral Feeding', 'BR','0','L');
    $pdf->Cell(14*$con, 4*$con, $tab_93[@$stpn->dyspha_non_oral_tab_93], 'RB','0','L');
    $pdf->Cell(37*$con, 4*$con, @$stpn->dyspha_non_oral_comment, 'RB','1','L');

    //Single Words
    $pdf->Cell(43*$con, 4*$con, 'Single Words', 'LBR','0','L');
    $pdf->Cell(14*$con, 4*$con, $tab_93[@$stpn->reading_single_tab_93], 'RB','0','L');
    $pdf->Cell(39*$con, 4*$con, @$stpn->reading_single_comment, 'BR','0','L');

    $pdf->Cell(43*$con, 4*$con, 'Food consistency', 'BR','0','L');
    $pdf->Cell(14*$con, 4*$con, $tab_93[@$stpn->dyspha_food_consis_tab_93], 'RB','0','L');
    $pdf->Cell(37*$con, 4*$con, @$stpn->dyspha_food_consis_comment, 'RB','1','L');

    //Sentences   
    $pdf->Cell(43*$con, 4*$con, 'Sentences', 'LBR','0','L');
    $pdf->Cell(14*$con, 4*$con, $tab_93[@$stpn->reading_senten_tab_93], 'RB','0','L');
    $pdf->Cell(39*$con, 4*$con, @$stpn->reading_senten_comment, 'BR','0','L');

    $pdf->Cell(43*$con, 4*$con, 'Postural Assists', 'BR','0','L');
    $pdf->Cell(14*$con, 4*$con, $tab_93[@$stpn->dyspha_post_assists_tab_93], 'RB','0','L');
    $pdf->Cell(37*$con, 4*$con, @$stpn->dyspha_post_assists_comment, 'RB','1','L');

    //Paragraphs   
    $pdf->Cell(43*$con, 4*$con, 'Paragraphs', 'LBR','0','L');
    $pdf->Cell(14*$con, 4*$con, $tab_93[@$stpn->reading_paragra_tab_93], 'RB','0','L');
    $pdf->Cell(39*$con, 4*$con, @$stpn->reading_paragra_comment, 'BR','0','L');

    $pdf->Cell(43*$con, 4*$con, 'Oral Phase', 'BR','0','L');
    $pdf->Cell(14*$con, 4*$con, $tab_93[@$stpn->dyspha_oral_tab_93], 'RB','0','L');
    $pdf->Cell(37*$con, 4*$con, @$stpn->dyspha_oral_comment, 'RB','1','L');

    //Conversation
    $pdf->Cell(43*$con, 4*$con, 'Conversation', 'LBR','0','L');
    $pdf->Cell(14*$con, 4*$con, $tab_93[@$stpn->reading_convers_tab_93], 'RB','0','L');
    $pdf->Cell(39*$con, 4*$con, @$stpn->reading_convers_comments, 'BR','0','L');

    $pdf->Cell(43*$con, 4*$con, 'Pharyngeal Phase', 'BR','0','L');
    $pdf->Cell(14*$con, 4*$con, $tab_93[@$stpn->dyspha_pharyn_tab_93], 'RB','0','L');
    $pdf->Cell(37*$con, 4*$con, @$stpn->dyspha_pharyn_comment, 'RB','1','L');

    //Other: 
    $pdf->Cell(43*$con, 4*$con, 'Other: ', 'LBR','0','L');
    $pdf->Cell(14*$con, 4*$con, $tab_93[@$stpn->reading_other_tab_93], 'RB','0','L');
    $pdf->Cell(39*$con, 4*$con, @$stpn->reading_other_comments, 'BR','0','L');

    $pdf->Cell(43*$con, 4*$con, 'Esophageal Phase', 'BR','0','L');
    $pdf->Cell(14*$con, 4*$con, $tab_93[@$stpn->dyspha_esopha_tab_93], 'RB','0','L');
    $pdf->Cell(37*$con, 4*$con, @$stpn->dyspha_esopha_comment, 'RB','1','L');

    //Verbal Expression
    $pdf->SetFont('Arial','B',8);
    $pdf->Cell(43*$con, 4*$con, 'Verbal Expression', 'LRB','0','L');
    $pdf->Cell(14*$con, 4*$con, '', 'BR','0','L');
    $pdf->Cell(39*$con, 4*$con, '', 'RB','0','L');

    $pdf->SetFont('Arial','',8);
    $pdf->Cell(43*$con, 4*$con, 'Other:', 'BR','0','L');
    $pdf->Cell(14*$con, 4*$con, $tab_93[@$stpn->dyspha_other_tab_93], 'RB','0','L');
    $pdf->Cell(37*$con, 4*$con, @$stpn->dyspha_other_comments, 'RB','1','L');


    //Word Recall
    $pdf->Cell(43*$con, 4*$con, 'Word Recall', 'LBR','0','L');
    $pdf->Cell(14*$con, 4*$con, $tab_93[@$stpn->verbal_word_tab_93], 'RB','0','L');
    $pdf->Cell(39*$con, 4*$con, @$stpn->verbal_word_comment, 'BR','0','L');

    $pdf->SetFont('Arial','B',8);
    $pdf->Cell(43*$con, 4*$con, 'Right CVA Deficit', 'BR','0','L');
    $pdf->Cell(14*$con, 4*$con, '', 'RB','0','L');
    $pdf->Cell(37*$con, 4*$con, '', 'RB','1','L');
    $pdf->SetFont('Arial','',8);

    //Articulation 
    $pdf->Cell(43*$con, 4*$con, 'Articulation', 'LBR','0','L');
    $pdf->Cell(14*$con, 4*$con, $tab_93[@$stpn->verbal_artic_tab_93], 'RB','0','L');
    $pdf->Cell(39*$con, 4*$con, @$stpn->verbal_artic_comment, 'BR','0','L');

    $pdf->Cell(43*$con, 4*$con, 'Attention/ Memory/ retention', 'BR','0','L');
    $pdf->Cell(14*$con, 4*$con, $tab_93[@$stpn->right_attention_tab_93], 'RB','0','L');
    $pdf->Cell(37*$con, 4*$con, @$stpn->right_attention_comment, 'RB','1','L');


    //Sentences Formation 
    $pdf->Cell(43*$con, 4*$con, 'Sentences Formation', 'LBR','0','L');
    $pdf->Cell(14*$con, 4*$con, $tab_93[@$stpn->verbal_sentence_tab_93], 'RB','0','L');
    $pdf->Cell(39*$con, 4*$con, @$stpn->verbal_sentence_comment, 'BR','0','L');

    $pdf->Cell(43*$con, 4*$con, 'Self- monitoring judgment ', 'BR','0','L');
    $pdf->Cell(14*$con, 4*$con, $tab_93[@$stpn->right_self_tab_93], 'RB','0','L');
    $pdf->Cell(37*$con, 4*$con, @$stpn->right_self_comment, 'RB','1','L');

    //Sentences Formation 
    $pdf->Cell(43*$con, 4*$con, 'Visual Confrontation Naming', 'LBR','0','L');
    $pdf->Cell(14*$con, 4*$con, $tab_93[@$stpn->verbal_visual_tab_93], 'RB','0','L');
    $pdf->Cell(39*$con, 4*$con, @$stpn->verbal_visual_comment, 'BR','0','L');

    $pdf->Cell(43*$con, 4*$con, 'Other:', 'BR','0','L');
    $pdf->Cell(14*$con, 4*$con, $tab_93[@$stpn->right_other_tab_93], 'RB','0','L');
    $pdf->Cell(37*$con, 4*$con, @$stpn->right_other_comments, 'RB','1','L');

    //Entelligibility
    $pdf->Cell(43*$con, 4*$con, 'Entelligibility', 'LBR','0','L');
    $pdf->Cell(14*$con, 4*$con, $tab_93[@$stpn->verbal_entellig_tab_93], 'RB','0','L');
    $pdf->Cell(39*$con, 4*$con, @$stpn->verbal_entellig_comment, 'BR','0','L');

    $pdf->SetFont('Arial','B',8);
    $pdf->Cell(43*$con, 4*$con, 'Head Injury', 'BR','0','L');
    $pdf->Cell(14*$con, 4*$con, '', 'RB','0','L');
    $pdf->Cell(37*$con, 4*$con, '', 'RB','1','L');
    $pdf->SetFont('Arial','',8);


    //Automatic Speech
    $pdf->Cell(43*$con, 4*$con, 'Automatic Speech', 'LBR','0','L');
    $pdf->Cell(14*$con, 4*$con, $tab_93[@$stpn->verbal_automatic_tab_93], 'RB','0','L');
    $pdf->Cell(39*$con, 4*$con, @$stpn->verbal_automatic_comment, 'BR','0','L');

    $pdf->Cell(43*$con, 4*$con, '', 'BR','0','L');
    $pdf->Cell(14*$con, 4*$con, '', 'RB','0','L');
    $pdf->Cell(37*$con, 4*$con, '', 'RB','1','L');


    //Yes/no response
    $pdf->Cell(43*$con, 4*$con, 'Yes/no response', 'LBR','0','L');
    $pdf->Cell(14*$con, 4*$con, $tab_93[@$stpn->verbal_YN_tab_93], 'RB','0','L');
    $pdf->Cell(39*$con, 4*$con, @$stpn->verbal_YN_comment, 'BR','0','L');

    $pdf->Cell(43*$con, 4*$con, 'Attention/ Memory/ retention', 'BR','0','L');
    $pdf->Cell(14*$con, 4*$con, $tab_93[@$stpn->head_attention_tab_93], 'RB','0','L');
    $pdf->Cell(37*$con, 4*$con, @$stpn->head_attention_comment, 'RB','1','L');


    //Apraxia
    $pdf->Cell(43*$con, 4*$con, 'Apraxia', 'LBR','0','L');
    $pdf->Cell(14*$con, 4*$con, $tab_93[@$stpn->verbal_apraxia_tab_93], 'RB','0','L');
    $pdf->Cell(39*$con, 4*$con, @$stpn->verbal_apraxia_comment, 'BR','0','L');

    $pdf->Cell(43*$con, 4*$con, 'Self-monitoring/ judgment', 'BR','0','L');
    $pdf->Cell(14*$con, 4*$con, $tab_93[@$stpn->head_self_tab_93], 'RB','0','L');
    $pdf->Cell(37*$con, 4*$con, @$stpn->head_self_comment, 'RB','1','L');


    //Other
    $pdf->Cell(43*$con, 4*$con, 'Other: ', 'LBR','0','L');
    $pdf->Cell(14*$con, 4*$con, '', 'RB','0','L');
    $pdf->Cell(39*$con, 4*$con, '', 'BR','0','L');

    $pdf->Cell(43*$con, 4*$con, 'Other:___________________', '','0','L');
    $pdf->Cell(14*$con, 4*$con, $tab_93[@$stpn->head_other_tab_93], 'R','0','L');
    $pdf->Cell(37*$con, 4*$con, @$stpn->head_other_comments, 'R','1','L');


    //Written Expression
    $pdf->SetFont('Arial','B',8);
    $pdf->Cell(43*$con, 4*$con, 'Written Expression', 'LBR','0','L');
    $pdf->SetFont('Arial','',8);
    $pdf->Cell(14*$con, 4*$con, '', 'RB','0','L');
    $pdf->Cell(39*$con, 4*$con, '', 'R','0','L');

    $pdf->Cell(43*$con, 4*$con, '', 'B','0','L');
    $pdf->Cell(14*$con, 4*$con, '', 'RB','0','L');
    $pdf->Cell(37*$con, 4*$con, '', 'RB','1','L');


    //Fine Motor
    $pdf->Cell(43*$con, 4*$con, 'Fine Motor', 'LBR','0','L');
    $pdf->Cell(14*$con, 4*$con, $tab_93[@$stpn->written_fine_tab_93], 'RB','0','L');
    $pdf->Cell(39*$con, 4*$con, @$stpn->written_fine_comment, 'R','0','L');

    $pdf->Cell(43*$con, 4*$con, '', 'B','0','L');
    $pdf->Cell(14*$con, 4*$con, '', 'B','0','L');
    $pdf->Cell(37*$con, 4*$con, '', 'RB','1','L');

    //Signature
    $pdf->Cell(43*$con, 4*$con, 'Signature', 'LBR','0','L');
    $pdf->Cell(14*$con, 4*$con, $tab_93[@$stpn->written_sign_tab_93], 'RB','0','L');
    $pdf->Cell(39*$con, 4*$con, @$stpn->written_sign_comment, 'R','0','L');
    $pdf->SetFont('Arial','',10);
  
    $y = $pdf->GetY(); $x = $pdf->GetX(); 
    $pdf->SetXY($x, $y+10);
    $pdf->SetFont('Arial','',8);
    $pdf->MultiCell(240, 12, substr(@$stpn->progress_deterioration,0,210));
    $pdf->SetXY($x, $y);      
    $pdf->SetFont('Arial','',10);
    $pdf->Cell(94*$con, 4*$con, '   Progress / deterioration ', 'R','1','L');
    $pdf->SetFont('Arial','',8);

    //Coping
    $pdf->Cell(43*$con, 4*$con, 'Coping', 'LBR','0','L');
    $pdf->Cell(14*$con, 4*$con, $tab_93[@$stpn->written_coping_tab_93], 'RB','0','L');
    $pdf->Cell(39*$con, 4*$con, @$stpn->written_coping_comment, 'R','0','L');

    $pdf->Cell(94*$con, 4*$con, '   _______________________________________________________', 'R','1','L');

    //Independent (Letter/ words, etc)
    $pdf->Cell(43*$con, 4*$con, 'Independent (Letter/ words, etc)', 'LBR','0','L');
    $pdf->Cell(14*$con, 4*$con, $tab_93[@$stpn->written_indepe_tab_93], 'RB','0','L');
    $pdf->Cell(39*$con, 4*$con, @$stpn->written_indepe_comment, 'R','0','L');

    $pdf->Cell(94*$con, 4*$con, '   _______________________________________________________', 'R','1','L');

    //Other: 
    $pdf->Cell(43*$con, 4*$con, 'Other: ', 'LBR','0','L');
    $pdf->Cell(14*$con, 4*$con, $tab_93[@$stpn->written_other_tab_93], 'RB','0','L');
    $pdf->Cell(39*$con, 4*$con, @$stpn->written_other_comments, 'RB','0','L');

    $pdf->Cell(94*$con, 4*$con, '', 'RB','1','L');


    //tABLE ENDED


    //***********Services Provided: *****/
    $y = $pdf->GetY(); $x = $pdf->GetX(); 
    $pdf->SetXY($x, $y);
    $pdf->MultiCell(530, 10, '                                 '.substr(@$stpn->services_provided,0,260));
    $pdf->SetXY($x, $y);      
    
    $pdf->Cell(190*$con, 4*$con, '  Services Provided: _____________________________________________________________________________________________________', 'LR','1','L');
    $pdf->Cell(190*$con, 4*$con, '   ____________________________________________________________________________________________________________________', 'LRB','1','L');


    //Home bound ststus

    $pdf->Cell(190*$con, 4*$con, '   HOME BOUND STATUS', 'LR','1','L');

    if(@$stpn->home_bound_considerable == 1){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x+16,$y+2,5,5);
    }
    $pdf->Rect(15*$con,206*$con,2.5*$con,2.5*$con);
    $pdf->Cell(95*$con, 4*$con, '           Considerable & taxing effort to leave home', 'L','0','L');
    
    if(@$stpn->home_bound_requires == 1){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x+7,$y+1,5,5);
    }
    $pdf->Rect(107*$con,206*$con,2.5*$con,2.5*$con);
    $pdf->Cell(95*$con, 4*$con, '         Requires assistance to ambulate', 'R','1','L');

    //Residual weakness
    if(@$stpn->home_bound_residual == 1){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x+16,$y+1,5,5);
    }
    $pdf->Rect(15*$con,210*$con,2.5*$con,2.5*$con);
    $pdf->Cell(95*$con, 4*$con, '           Residual weakness', 'L','0','L');
    
    
    if(@$stpn->home_bound_dependent == 1){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x+7,$y+1,5,5);
    }
    $pdf->Rect(107*$con,210*$con,2.5*$con,2.5*$con);
    $pdf->Cell(95*$con, 4*$con, '         Dependent upon adaptive / assistance device', 'R','1','L');


    //Residual weakness
    if(@$stpn->home_bound_confusion == 1){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x+16,$y+1,5,5);
    }
    $pdf->Rect(15*$con,214*$con,2.5*$con,2.5*$con);
    $pdf->Cell(95*$con, 4*$con, '           Confusion, unable to go out alone', 'LB','0','L');
    
    if(@$stpn->home_bound_other == 1){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x+7,$y+1,5,5);
    }
    $pdf->Rect(107*$con,214*$con,2.5*$con,2.5*$con);
    
    $y = $pdf->GetY(); $x = $pdf->GetX(); 
    $pdf->SetXY($x+45, $y);
    $pdf->MultiCell(245, 12, @$stpn->home_bound_other_description);
    $pdf->SetXY($x, $y);      
    $pdf->Cell(95*$con, 4*$con, '         Other:_____________________________________', 'RB','1','L');


    //COORDINATION OF CARE
    $pdf->Cell(190*$con, 4*$con,  '      COORDINATION OF CARE', 'RL','1','L');

    if(@$stpn->coord_of_care_md == 1){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x+7,$y+3,5,5);
    }
    $pdf->Rect(12*$con,222.5*$con,2.5*$con,2.5*$con);
    $pdf->Cell(21.1*$con, 4*$con,  '         MD', 'LB','0','L');
    
    if(@$stpn->coord_of_care_rn == 1){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x-5,$y+3,5,5);
    }
    $pdf->Rect(29*$con,222.5*$con,2.5*$con,2.5*$con);
    $pdf->Cell(21.1*$con, 4*$con,  '     RN', 'B','0','L');
    
    if(@$stpn->coord_of_care_lvn == 1){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x-16,$y+3,5,5);
    }
    $pdf->Rect(46*$con,222.5*$con,2.5*$con,2.5*$con);
    $pdf->Cell(21.1*$con, 4*$con,  'LVN', 'B','0','L');
    
    if(@$stpn->coord_of_care_aide == 1){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x-14,$y+3,5,5);
    }
    $pdf->Rect(68*$con,222.5*$con,2.5*$con,2.5*$con);
    $pdf->Cell(21.1*$con, 4*$con,  'Aide', 'B','0','L');
    
    if(@$stpn->coord_of_care_pt == 1){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x-16,$y+3,5,5);
    }
    $pdf->Rect(88*$con,222.5*$con,2.5*$con,2.5*$con);
    $pdf->Cell(21.1*$con, 4*$con,  'PT', 'B','0','L');
    
    if(@$stpn->coord_of_care_ot == 1){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x-14,$y+3,5,5);
    }
    $pdf->Rect(110*$con,222.5*$con,2.5*$con,2.5*$con);
    $pdf->Cell(21.1*$con, 4*$con,  'OT', 'B','0','L');
    
    if(@$stpn->coord_of_care_st == 1){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x-17,$y+3,5,5);
    }
    $pdf->Rect(130*$con,222.5*$con,2.5*$con,2.5*$con);
    $pdf->Cell(21.1*$con, 4*$con,  'ST', 'B','0','L');
    
    if(@$stpn->coord_of_care_msw == 1){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x-17,$y+3,5,5);
    }
    $pdf->Rect(151*$con,222.5*$con,2.5*$con,2.5*$con);
    $pdf->Cell(21.1*$con, 4*$con,  'MSW', 'B','0','L');
    
    if(@$stpn->coord_of_care_pt_cg == 1){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x-18,$y+3,5,5);
    }
    $pdf->Rect(172*$con,222.5*$con,2.5*$con,2.5*$con);
    $pdf->Cell(21.2*$con, 4*$con,  'Pt/CG', 'RB','1','L');


    //D/C PLANNING/PLAN
    $pdf->Cell(190*$con, 4*$con,  'D/C PLANNING/PLAN', 'RL','1','L');

    //Continue to progress towards goals
    if(@$stpn->dc_plan_continue == 1){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x+16,$y+1,5,5);
    }
    $pdf->Rect(15*$con,230*$con,2.5*$con,2.5*$con);
    $pdf->Cell(95*$con, 4*$con, '           Continue to progress towards goals', 'L','0','L');
    
    if(@$stpn->dc_plan_5_days_notif == 1){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x+7,$y+1,5,5);
    }
    $pdf->Rect(107*$con,230*$con,2.5*$con,2.5*$con);
    $pdf->Cell(95*$con, 4*$con, '         5-days notification of discharge given', 'R','1','L');

    //oTHER:
    if(@$stpn->dc_plan_other == 1){
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->Image( $path_ticket, $x+16,$y+3,5,5);
    }
    $pdf->Rect(15*$con,234.5*$con,2.5*$con,2.5*$con);
    $y = $pdf->GetY(); $x = $pdf->GetX(); 
    $pdf->SetXY($x+50, $y);
    $pdf->MultiCell(450, 12, @$stpn->dc_plan_other_desc);
    $pdf->SetXY($x, $y);  
    $pdf->Cell(190*$con, 4*$con, '           Other:', 'LBR','1','L');


    //D/C PLANNING/PLAN
    
    $pdf->Rect(126*$con,238.5*$con,2.5*$con,2.5*$con);    
    $pdf->Cell(190*$con, 4*$con,  '          THERAPY SUPERVISORY COMMUNICATION REPORT                                                 N/A', 'RL','1','L');

    if(@$stpn->ther_na){
      $y = $pdf->GetY(); $x = $pdf->GetX();       
      $pdf->Image( $path_ticket, $x+330,$y-9,5,5);      
    }
    
    $y = $pdf->GetY(); $x = $pdf->GetX(); 
    $pdf->SetXY($x+160, $y-2);
    $pdf->MultiCell(140, 12, $ther_name_list[@$stpn->ther_therapist_evaluated]);
    $pdf->SetXY($x, $y);  
    $pdf->Cell(190*$con, 3*$con,  '          Name of Therapist being Evaluated: ________________________________', 'RL','1','L');



    $pdf->Rect(155*$con,245.5*$con,2.5*$con,2.5*$con);
    $pdf->Rect(170*$con,245.5*$con,2.5*$con,2.5*$con);

    if(@$stpn->ther_follow_plan_care_YN == 1 ){
      $y = $pdf->GetY(); $x = $pdf->GetX();       
      $pdf->Image( $path_ticket, $x+412,$y+3,5,5);      
    }elseif(@$stpn->ther_follow_plan_care_YN == 2 ){
      $y = $pdf->GetY(); $x = $pdf->GetX();       
      $pdf->Image( $path_ticket, $x+455,$y+3,5,5);      
    }
    
    $pdf->Cell(190*$con, 4*$con,  '          Asses the following Areas of Care:                                       Followed Plan of Care?                                                YES             NO', 'RL','1','L');



    if(@$stpn->ther_demos_rapport_YN == 1 ){
      $y = $pdf->GetY(); $x = $pdf->GetX();       
      $pdf->Image( $path_ticket, $x+412,$y+3,5,5);      
    }elseif(@$stpn->ther_demos_rapport_YN == 2 ){
      $y = $pdf->GetY(); $x = $pdf->GetX();       
      $pdf->Image( $path_ticket, $x+455,$y+3,5,5);      
    }
    
    $pdf->Cell(190*$con, 4*$con,  '                                                                                                        Demonstrated good rapport with patient/family?          YES             NO', 'RL','1','L');

    //RECT FOR 2ND OPTION THAT IS DEMONSTRATEGOOD REPORT......
    $pdf->Rect(155*$con,249.5*$con,2.5*$con,2.5*$con);
    $pdf->Rect(170*$con,249.5*$con,2.5*$con,2.5*$con);
    //RECT FOR 2ND OPTION THAT IS    Implemented Plan of Care     ........
    $pdf->Rect(155*$con,253.5*$con,2.5*$con,2.5*$con);
    $pdf->Rect(170*$con,253.5*$con,2.5*$con,2.5*$con);

    if(@$stpn->ther_implemented_poc_YN == 1 ){
      $y = $pdf->GetY(); $x = $pdf->GetX();       
      $pdf->Image( $path_ticket, $x+412,$y+3,5,5);      
    }elseif(@$stpn->ther_implemented_poc_YN == 2 ){
      $y = $pdf->GetY(); $x = $pdf->GetX();       
      $pdf->Image( $path_ticket, $x+455,$y+3,5,5);      
    }
    
    $pdf->Cell(190*$con, 4*$con,  '                                                                                                        Implemented Plan of Care?                                          YES             NO', 'RL','1','L');

    $y = $pdf->GetY(); $x = $pdf->GetX(); 
    $pdf->SetXY($x+110, $y);
    $pdf->MultiCell(420, 12, substr(@$stpn->ther_eval_plan_care, 0, 120));
    $pdf->SetXY($x, $y);  
    
    $pdf->Cell(190*$con, 4*$con,  '   Evaluation of Plan of Care: _________________________________________________________', 'RL','1','L');
    //$pdf->Cell(190*$con, 4*$con,  '   ________________________________________________________________________________________________________________', 'RL','1','L');

    if($total_page == 1){

      //Therapist Date Phiscicain
      
      /*$y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->SetXY($x+50, $y);
      $pdf->MultiCell(140, 12, $visit_log->first_name . " " .  $visit_log->last_name);
      $pdf->SetXY($x, $y);  
      */
      $pdf->Cell(120*$con,4*$con,'   Therapist: __________________________________________________','L',0,'L');
      $pdf->Cell(70*$con,4*$con,'Date:___________________','R',1,'L');


      
      /*$y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->SetXY($x+50, $y);
      $pdf->MultiCell(140, 12, @$phys_user_id->complete_name);
      $pdf->SetXY($x, $y);  
      */
      $pdf->Cell(120*$con,6*$con,'   Physician: __________________________________________________','BL',0,'L');
      $pdf->Cell(50*$con,6*$con,'Date:___________________','B',0,'L');

      $pdf->SetFont('Courier','B',9);
    		
      if ($visit_log->sent_to_approve_date) {
        $pdf->Text(60+20, 747, "ELECTRONICALLY SIGNED BY " . $assigned_to -> first_name." ".$assigned_to -> last_name);
        $pdf->Text(400, 747, standard_date(mysql_to_unix($visit_log->visit_date_time)));
      }
      
    }else{
      //Therapist Date Phiscicain
      
      /*$y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->SetXY($x+50, $y);
      $pdf->MultiCell(140, 12, $visit_log->first_name . " " .  $visit_log->last_name);
      $pdf->SetXY($x, $y);  
      */
      $pdf->Cell(120*$con,4*$con,'','L',0,'L');
      $pdf->Cell(70*$con,4*$con,'','R',1,'L');


      
      /*$y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->SetXY($x+50, $y);
      $pdf->MultiCell(140, 12, @$phys_user_id->complete_name);
      $pdf->SetXY($x, $y);  
      */
      $pdf->Cell(120*$con,6*$con,'','BL',0,'L');
      $pdf->Cell(50*$con,6*$con,'','B',0,'L');

      $pdf->SetFont('Courier','B',9);
    
    
    }
    $pdf->SetFontSize(8);
    $pdf->Cell(20*$con,6*$con,'','BR',1,'L');
    
    $pdf->Text(480, 785, "      Page: 1 of ".$total_page);
    
    
    if($total_page == 2){
      ##########
  		# Page 2 #
  		##########
  		
  		$cero_y = 2;
  		$cero_x = 11;
  		$pdf->AddPage();
		
      $con = 2.8346456692913384;
      $pdf->Rect(8+20,28, 577-38, 770);
      
      //Check Boxes
      //Basic

      $pdf->Rect(130*$con,14.2*$con,2.5*$con,2.5*$con);//Medicare NA
      $pdf->Rect(170*$con,17.2*$con,2.5*$con,2.5*$con);

      //////////////////////////////////////////////////////

      $pdf->SetFont('Arial','B',9);

      //Basic Info
      $y = $pdf->GetY(); $x = $pdf->GetX();     
      $pdf->Text($x+3,$y+8,  "Therapy Visit #:  ".@$visit_log->visit_log_number);
      
      
      $pdf->Cell(130*$con,4*$con,'SPEECH THERAPY PROGRESS NOTE','TBL',0,'R');
      $pdf->Cell(10*$con,4*$con,'','TB',0,'C');
      $pdf->Cell(50*$con,4*$con,'VISIT DATE: '.standard_date(mysql_to_unix($visit_log->visit_date_time)),'TBR',1,'L');
      $pdf->SetFont('Arial','',8);
      $pdf->Cell(25*$con,3*$con,'Patient Name:','L',0,'L');
      $y = $pdf->GetY(); $x = $pdf->GetX();     
      $pdf->Text($x,$y+7, $patient->first_name . " " . $patient->last_name);    
      $pdf->Cell(55*$con,3*$con,'','T',0,'C');
      
      $pdf->Cell(20*$con,3*$con,'Medicare #:','',0,'L');
      $y = $pdf->GetY(); $x = $pdf->GetX();     
      $pdf->Text($x,$y+8, $patient->medicare_id);    
      
      $pdf->Cell(20*$con,3*$con,'','',0,'C');    
      if(is_null($patient->medicare_id)){
        $y = $pdf->GetY(); $x = $pdf->GetX(); 
        $pdf->Image( $path_ticket, $x+1,$y+2,5,5);
      }        
      $pdf->Cell(10*$con,3*$con,'NA','',0,'R'); 
      $pdf->Cell(30*$con,3*$con,'Med Rec #:','',0,'C');
      $y = $pdf->GetY(); $x = $pdf->GetX();     
      $pdf->Text($x,$y+8, $patient->medical_rec_nbr);    
      $pdf->Cell(30*$con,3*$con,'','R',1,'C');

      $pdf->Cell(25*$con,3*$con,'Primary DX:','L',0,'L');
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->SetXY($x-2, $y);
      $pdf->MultiCell(140, 12, substr(@$stpn->primary_diag, 0, 30));
      $pdf->SetXY($x, $y);  
      $pdf->Cell(55*$con,3*$con,'','',0,'C');
      $pdf->Cell(20*$con,3*$con,'Date:','',0,'');
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      //$pdf->SetFont('Arial','B',9);
      $pdf->Text($x,$y+10, (!is_null(@$stpn->primary_diag_date) ? standard_date(mysql_to_unix(@$stpn->primary_diag_date)) : ""));    
      //$pdf->SetFont('Arial','',9);
      $pdf->Cell(20*$con,3*$con,'','',0,'C');
      $pdf->Cell(10*$con,3*$con,'SOC:','',0,'L');
      $y = $pdf->GetY(); $x = $pdf->GetX();     
      $pdf->Text($x,$y+7, standard_date(mysql_to_unix($visit_log->estimated_soc_date)));
      $pdf->Cell(25*$con,3*$con,'','',0,'C');
      $pdf->Cell(35*$con,3*$con,'Certification','R',1,'C');

      $pdf->Cell(25*$con,3*$con,'Secondary DX:','L',0,'L');
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->SetXY($x-2, $y);
      $pdf->MultiCell(140, 12, substr(@$stpn->secondary_diag, 0, 30));
      $pdf->SetXY($x, $y);  
      $pdf->Cell(55*$con,3*$con,'','',0,'C');
      $pdf->Cell(20*$con,3*$con,'Date:','',0,'L');
      $y = $pdf->GetY(); $x = $pdf->GetX(); 
      $pdf->SetXY($x-2, $y);
      $pdf->MultiCell(50, 12, (!is_null(@$stpn->secondary_diag_date) ? standard_date(mysql_to_unix(@$stpn->secondary_diag_date)) : ""));
      $pdf->SetXY($x, $y);  
      //$pdf->Cell(20*$con,3*$con, (!is_null(@$stpn->secondary_diag_date) ? standard_date(mysql_to_unix(@$stpn->secondary_diag_date)) : ""),'',0,'C');
      
      $pdf->Cell(20*$con,3*$con,'','',0,'C');
      $pdf->Cell(10*$con,3*$con,'From:','',0,'L');
      $y = $pdf->GetY(); $x = $pdf->GetX();     
      $pdf->Text($x,$y+7, standard_date(mysql_to_unix($visit_log->episode_start_date)) );
      
      $pdf->Cell(25*$con,3*$con,'','',0,'C');
      $pdf->Cell(15*$con,3*$con,'To:','',0,'L');
      $y = $pdf->GetY(); $x = $pdf->GetX();     
      $pdf->Text($x-25,$y+7, standard_date(mysql_to_unix($visit_log->episode_end_date)) );
      $pdf->Cell(20*$con,3*$con,'','R',1,'C');

      $pdf->Cell(25*$con,3*$con,'Physician:','L',0,'L');
      $y = $pdf->GetY(); $x = $pdf->GetX();     
      $pdf->Text($x,$y+7, @$phys_user_id->complete_name );    
      //$pdf->Cell(32*$con,3*$con,'','',0,'C');
      $pdf->Cell(55*$con,3*$con,'','',0,'C');
      //$pdf->Cell(20*$con,3*$con,'Clinician:','',0,'L');
      $pdf->Cell(12*$con,3*$con,'Clinician:','',0,'L');
      //$pdf->Cell(20*$con,3*$con, $visit_log->first_name . " " .  $visit_log->last_name,'',0,'C');
      $pdf->Cell(28*$con,3*$con, $visit_log->first_name . " " .  $visit_log->last_name,'',0,'C');
      $pdf->Cell(10*$con,3*$con,'Time in:','',0,'L');
      $y = $pdf->GetY(); $x = $pdf->GetX();     
      $pdf->Text($x+13,$y+7, standard_date(mysql_to_unix($visit_log->visited_date . " " . $visit_log->visited_time_in), 'USA_TIME_C') );    
      //$pdf->Cell(20*$con,3*$con,'','',0,'C');
      $pdf->Cell(25*$con,3*$con,'','',0,'C');
      $pdf->Cell(15*$con,3*$con,'Time Out:','',0,'L');
      $y = $pdf->GetY(); $x = $pdf->GetX();     
      $pdf->Text($x+3,$y+7, standard_date(mysql_to_unix($visit_log->visited_date . " " . $visit_log->visited_time_out), 'USA_TIME_C') );    
      $pdf->Cell(15*$con,3*$con,'','',0,'C');
      //$pdf->Cell(20*$con,3*$con,'Mileage:','',0,'L');    
      /*$y = $pdf->GetY(); $x = $pdf->GetX();     
      $pdf->Text($x,$y+7,  @$visit_log->mileage);    */
      //$pdf->Cell(13*$con,3*$con,'','R',1,'C');
      $pdf->Cell(5*$con,3*$con,'','R',1,'C');
      
      /*********************** End of Banner *************************/
      
      $cero_y = 10;
      $cero_x += 20;
      $cero_y =$cero_y+5;
      //$pdf->SetLineWidth( 0.9 );
      $pdf->Line(8+20, 60+$cero_y, 584-17, 60+$cero_y);
      
      /************************ page content goes now ***********************/
      /************************ page footer content goes now ***********************/
      
      $__FONT['PDF']['SIZE'] = 9;
      $__FONT['PDF']['FORM_MEDIUM'] = 10;
      $__FONT['PDF']['FORM_SMALL'] = 9;
      $__FONT['PDF']['FORM_SMALL2'] = 9;
      $__FONT['PDF']['FORM_SMALL3'] = 6.5;
      $__FONT['PDF']['FORM_SMALL4'] = 9.5;
      $__FONT['PDF']['FORM_arial8'] = 9.5;
      
      $pdf->SetFont('Arial','',$__FONT['PDF']['FORM_SMALL']);
      
      $pdf->Line(8+20, 745, 584-17, 745);
      
  		$pdf->Text(13+20, 770, "Therapist: ____________________________________________________");
  		$pdf->Text(400, 770, "Date: ___________________");
  		
  		$pdf->Text(13+20, 790, "Physician: ____________________________________________________");
  		$pdf->Text(400, 790, "Date: ___________________");

  	
  		$pdf->SetFont('Courier','B',$__FONT['PDF']['FORM_MEDIUM']);
  		
  		if ($visit_log->sent_to_approve_date) {
  			$pdf->Text(60+20, 770, "ELECTRONICALLY SIGNED BY " . $assigned_to -> first_name." ".$assigned_to -> last_name);
  			$pdf->Text(430, 770, standard_date(mysql_to_unix($visit_log->visit_date_time)));
  		}
      
    
      $cero_y += 16;
      $line_need = 0;
      $cero_y += 16;

      if(strlen(@$stpn->addendum) > 0){
        if($line_need)
        $pdf->Line(( $cero_x - 3 ) , ($cero_y + 25 ), ( $cero_x + 536 ), ($cero_y + 25 ));
        
        $pdf->SetFont('Arial', 'B', $__FONT['PDF']['FORM_SMALL']);
        $pdf->Text(( $cero_x + 200),( $cero_y + 36 ),"Addendum / Additional Notes"); 
        $pdf->Line(( $cero_x - 3 ) , ($cero_y + 40.5 ), ( $cero_x + 536 ), ($cero_y + 40.5 ));

        $pdf->SetFont('Courier','',$__FONT['PDF']['FORM_MEDIUM']);
        $pdf->SetXY($cero_x+11, $cero_y+50);
        
        $pdf->MultiCell(516, 10, @$stpn->addendum);
      }
      
      $cero_y = 20;
      $pdf->SetTextColor(0,0,0);    

      $pdf->SetFont('Arial','',$__FONT['PDF']['FORM_SMALL']);
  		$pdf->Text(500, 820, "      Page: 2 of ".$total_page);   
      
    }  
    
    //$this->fpdf->Output('stpn.pdf','D');
    
    $filename = FCPATH;
    $filename = str_replace("\\","/", $filename);
    $filename = $filename.'tmp/'.time().'_'.$visit_log_id.'_pq_stpn.pdf';
    
    
    $this->fpdf->Output($filename,'F');
    return $filename;		
  }

  function snpn_pdf ( $visit_log_id ) {
    $this->load->model('snpnmdl'); 
    
		// saving before printing pdf
		$visit_log = $this->visitlogmdl->getById($visit_log_id);
		if (!$this->request->is_get() && ($visit_log->visit_status_id == 1 || $visit_log->visit_status_id == 2)) {
			
			$this->visitlogmdl->updateStatus($visit_log_id, 2);
			/*$this->assignPostData($this->snpnmdl);
			$this->snpnmdl->GastroLastBM = standard_date(human_to_unix($this->snpnmdl->GastroLastBM), 'MYSQL');
      $this->assignPostData($this->snwamdl);
		    
		    
			if ($visit_log->visit_status_id == 2) {
				
				$snpn = $this->snpnmdl->get($visit_log_id); // snpn record
				
				$this->snpnmdl->update($visit_log_id);
				$this->snwamdl->update($snpn->v11_nurse_visit_id);
				
			} else {

				$this->snpnmdl->insert($visit_log_id);
				$this->snwamdl->insert($this->snpnmdl->v11_nurse_visit_id);
				
			}
			*/		
		}

		// printing pdf
		$snpn 	 	    = $this->snpnmdl->get($visit_log_id);
		$snwa           = $this->snwamdl->get($snpn->v11_nurse_visit_id);
		$patient    	= $this->patientmdl->getById($visit_log->patient_id);
		$agency	    	= $this->agencymdl->getByAgencyId($patient->agency_id);
		$episde_icd		= $this->episodeicdmdl->get($visit_log->cms485_id);
		$emp_name   	= $this->usagymdl->getByUsAgyId(@$snpn->sup_empl_name_user_id);
		$phys_user_id  	= $this->usagymdl->getByUsAgyId($visit_log->phys_user_id);


		$tab_25			= $this->parametermdl->getByType(25);
		$tab_25[NULL]   = NULL;
		$tab_30			= $this->parametermdl->getByType(30);

		

		$path_ticket = realpath("style/images/icon_enable.gif");
		$path_img1	 = realpath("style/images/task/snpn1.gif");

		

        $__FONT['PDF']['SIZE'] = 9;

        $__FONT['PDF']['FORM_MEDIUM'] = 10;

        $__FONT['PDF']['FORM_SMALL'] = 9;

        $__FONT['PDF']['FORM_SMALL2'] = 9;

        $__FONT['PDF']['FORM_SMALL3'] = 6.5;

        $__FONT['PDF']['FORM_SMALL4'] = 9.5;

        $__FONT['PDF']['FORM_arial8'] = 9.5;
		$this->load->library('fpdf');

		if(!defined('FPDF_FONTPATH'))
		define('FPDF_FONTPATH',$this->config->item('fonts_path'));

    $this->fpdf = new fpdf;
        $cero_x = 11;

        $cero_y = 2;

		$this->fpdf->Open();
		$pdf = $this->fpdf;
		$this->fpdf->AddPage();

        $this->fpdf->SetDrawColor(130,100);

        $this->fpdf->SetFont('Arial','B',$__FONT['PDF']['FORM_MEDIUM']);

        $this->fpdf->Text(( $cero_x + 0),( $cero_y + 12 ), $agency->agency_name); // agency name



        $this->fpdf->SetFont('Arial','',$__FONT['PDF']['FORM_SMALL3']);

        $this->fpdf->Text(( $cero_x + 0),( $cero_y + 22 ),"Licensed and Certified Home Health Agency");

        

        $this->fpdf->Rect(8,28, 577, 780);

        

        $this->fpdf->SetFont('Arial', 'B', $__FONT['PDF']['FORM_SMALL']);

        $this->fpdf->Text(( $cero_x + 190),( $cero_y + 36 ),"SKILLED NURSE - PROGRESS NOTE                            " .

        													"VISIT DATE: " . standard_date(mysql_to_unix($visit_log->visited_date))); // visit date

    	$this->fpdf->Line(( $cero_x - 3 ) , ($cero_y + 40.5 ), ( $cero_x + 574 ), ($cero_y + 40.5 ));

    	

        $cero_y = 20;

        $this->fpdf->SetTextColor(0,0,0);

        $this->fpdf->SetFont('Arial','', $__FONT['PDF']['FORM_SMALL']);

	    $this->fpdf->Text(( $cero_x + 0),( $cero_y + 32 ),"Patient Name: ");

	    

	    $this->fpdf->SetFont('Arial','B', $__FONT['PDF']['FORM_SMALL']);

	    $this->fpdf->Text(( $cero_x + 60),( $cero_y + 32 ), $patient->first_name . " " . $patient->last_name); // pacient name

	    

        $this->fpdf->SetFont('Arial','',$__FONT['PDF']['FORM_SMALL']);

        $this->fpdf->SetTextColor(0,0,0);

        $this->fpdf->SetDrawColor(130,100);

        $this->fpdf->Text(( $cero_x + 240),( $cero_y + 32 ),"Medicare #: ");
        $this->fpdf->SetFont('Arial','B',$__FONT['PDF']['FORM_SMALL']);

        $this->fpdf->Text(( $cero_x + 290),( $cero_y + 32 ), $patient->medicare_id); // medicare id

		$this->fpdf->SetFont('Arial','',$__FONT['PDF']['FORM_SMALL']);

                $this->fpdf->Text(( $cero_x + 395 +20),( $cero_y + 32 ),"Medical Rec#: ");
        $this->fpdf->SetFont('Arial','B',$__FONT['PDF']['FORM_SMALL']);

        $this->fpdf->Text(( $cero_x + 455 +20),( $cero_y + 32 ), $patient->medical_rec_nbr); // medicare id
		$this->fpdf->SetFont('Arial','',$__FONT['PDF']['FORM_SMALL']);

        $this->fpdf->Text(( $cero_x + 390),( $cero_y + 32 ), "  NA ");

        $this->fpdf->Rect(( $cero_x + 380),($cero_y + 23.5), 8.4, 8.4);
        if (is_null($patient->medicare_id)){

        	$this->fpdf->Image( $path_ticket, ( $cero_x + 381 ),($cero_y + 24.5),6);

        }
        $this->fpdf->Text(( $cero_x + 375),( $cero_y + 42 ),"  SOC: ");

        $this->fpdf->SetFont('Arial','B', $__FONT['PDF']['FORM_SMALL']);

        $this->fpdf->Text(( $cero_x + 415),( $cero_y + 42 ), standard_date(mysql_to_unix($visit_log->estimated_soc_date))); // soc date
        // primary and second icd

        $this->fpdf->SetFont('Arial','',$__FONT['PDF']['FORM_SMALL']);

        $this->fpdf->Text(( $cero_x + 0),( $cero_y + 42 ),"Primary Dx: ");

        $this->fpdf->SetFont('Arial','B',$__FONT['PDF']['FORM_SMALL']);

        $this->fpdf->Text(( $cero_x + 60),( $cero_y + 42 ), @$episde_icd[0]->icd9_name);
        $this->fpdf->SetFont('Arial','',$__FONT['PDF']['FORM_SMALL']);

        $this->fpdf->Text(( $cero_x + 240),( $cero_y + 42 ),"Date: ");
        $this->fpdf->SetFont('Arial','B',$__FONT['PDF']['FORM_SMALL']); 

        $this->fpdf->Text(( $cero_x + 288),( $cero_y + 42 ), (!is_null(@$episde_icd[0]->icd_date) ? standard_date(mysql_to_unix(@$episde_icd[0]->icd_date)) : ""));
        $this->fpdf->SetFont('Arial','',$__FONT['PDF']['FORM_SMALL']);

        $this->fpdf->Text(( $cero_x + 0),( $cero_y + 52 ),"Second Dx: ");              
        $this->fpdf->SetFont('Arial','B',$__FONT['PDF']['FORM_SMALL']);

        $this->fpdf->Text(( $cero_x + 60),( $cero_y + 52 ), @$episde_icd[1]->icd9_name);
        $this->fpdf->SetFont('Arial','',$__FONT['PDF']['FORM_SMALL']);

        $this->fpdf->Text(( $cero_x + 240),( $cero_y + 52 ),"Date: ");

        $this->fpdf->SetFont('Arial','B',$__FONT['PDF']['FORM_SMALL']);

        $this->fpdf->Text(( $cero_x + 288),( $cero_y + 52 ), (!is_null(@$episde_icd[1]->icd_date) ? standard_date(mysql_to_unix(@$episde_icd[1]->icd_date)) : ""));
        // start and end soc date
        $this->fpdf->SetFont('Arial','',$__FONT['PDF']['FORM_SMALL']);

        $this->fpdf->Text(( $cero_x + 380),( $cero_y + 52 ),"From: ");
        $this->fpdf->SetFont('Arial','B',$__FONT['PDF']['FORM_SMALL']);                                

        $this->fpdf->Text(( $cero_x + 415),( $cero_y + 52 ), standard_date(mysql_to_unix($visit_log->episode_start_date)));
        $this->fpdf->SetFont('Arial','',$__FONT['PDF']['FORM_SMALL']);

        $this->fpdf->Text(( $cero_x + 473),( $cero_y + 52 ),"To: ");
        $this->fpdf->SetFont('Arial','B',$__FONT['PDF']['FORM_SMALL']);

        $this->fpdf->Text(( $cero_x + 518),( $cero_y + 52 ), standard_date(mysql_to_unix($visit_log->episode_end_date)));

        if ($visit_log->episode_start_date == $visit_log->estimated_soc_date)     {

            $this->fpdf->Text(( $cero_x + 480),( $cero_y + 42 ),"   Certification");

        } else {

            $this->fpdf->Text(( $cero_x + 495),( $cero_y + 42 ),"   Recertif.");

        }
        $this->fpdf->Rect(( $cero_x + 473),($cero_y + 33.5), 8.4, 8.4);

        $this->fpdf->Image( $path_ticket,( $cero_x + 474 ),($cero_y + 34.5),6);

        $this->fpdf->SetFont('Arial','',$__FONT['PDF']['FORM_SMALL']);

        $this->fpdf->Text(( $cero_x + 0),( $cero_y + 62 ),"Physician: ");

		$this->fpdf->SetFont('Arial','B',$__FONT['PDF']['FORM_arial8']);

		$this->fpdf->Text(( $cero_x + 60),($cero_y + 62 ), @$phys_user_id->complete_name);
		$this->fpdf->SetFont('Arial','',$__FONT['PDF']['FORM_SMALL']);

        $this->fpdf->Text(( $cero_x + 240),( $cero_y + 62 ), "Clinician:");
        $this->fpdf->SetFont('Arial','B',$__FONT['PDF']['FORM_arial8']);

        $this->fpdf->Text(( $cero_x + 288),(  $cero_y + 62 ), $visit_log->first_name . " " .  $visit_log->last_name);
		$this->fpdf->SetFont('Arial','',$__FONT['PDF']['FORM_SMALL']);

        $this->fpdf->Text(( $cero_x + 380),( $cero_y + 62 ), "Time In: ");

		$this->fpdf->SetFont('Arial','B',$__FONT['PDF']['FORM_SMALL']);

		$this->fpdf->Text(( $cero_x + 416),( $cero_y + 62 ), standard_date(mysql_to_unix($visit_log->visited_date . " " . $visit_log->visited_time_in), 'USA_TIME_C'));
		$this->fpdf->SetFont('Arial','',$__FONT['PDF']['FORM_SMALL']);

        $this->fpdf->Text(( $cero_x + 473),( $cero_y + 62 ), "Time Out: ");

		$this->fpdf->SetFont('Arial','B',$__FONT['PDF']['FORM_SMALL']);

		$this->fpdf->Text(( $cero_x + 518),( $cero_y + 62 ), standard_date(mysql_to_unix($visit_log->visited_date . " " . $visit_log->visited_time_out), 'USA_TIME_C'));

		$this->fpdf->SetFont('Arial','',$__FONT['PDF']['FORM_SMALL']);
        $cero_y =$cero_y+5;

        $this->fpdf->SetLineWidth( 0.5 );

        $this->fpdf->Line(8, 85, 584, 85);
        $this->fpdf->Rect(11, 87, 8.4, 8.4);

        $this->fpdf->Text(23, 95,"Visit");

        if (@$snpn->visit_YN ==1) {

            $this->fpdf->Image( $path_ticket, 12, 88,6);

        }

		$item=100;

		foreach ($this->parametermdl->getByType(25) as $b_not_b_id => $b_not_b) {

	        $this->fpdf->Text($item, 95, $b_not_b);

			$pdf->Rect(($item - 11), 87, 8.4, 8.4);

            if ($b_not_b_id == @@$snpn->tab_25_Bill_Nonbill) {

            	$pdf->Image($path_ticket, ($item - 10), 88, 6);

            }

	        $item=$item+60;
		}
		$item=290;

		foreach ($this->parametermdl->getByType(26) as $sn_id => $sn) {

			

	        $this->fpdf->Text($item, 95, $sn);

			$pdf->Rect(($item - 11), 87, 8.4, 8.4);

			

            if ($sn_id == @@$snpn->tab_26_SN) {

            	$pdf->Image($path_ticket, ($item - 10), 88, 6);

            }
	        $item=$item+55;
		}

		$this->fpdf->Text(510, 95, "Mileage: " );

		$this->fpdf->SetFont('Arial','B',$__FONT['PDF']['FORM_SMALL']);

		$this->fpdf->Text(550, 95, $visit_log->mileage);

		$this->fpdf->SetFont('Arial','',$__FONT['PDF']['FORM_SMALL']);

		

		$this->fpdf->Line(8, 98, 584, 98);
		$this->fpdf->Text(20, 108, "Vital");

		$this->fpdf->Text(20, 118, "Sign");
		$this->fpdf->Line(45, 98, 45, 121);
		$this->fpdf->Text(59, 113, "B/P");

		

		$this->fpdf->Line(90, 98, 90, 121);

		$this->fpdf->Text(97, 108, "Lying");
		$this->fpdf->Line(130, 98, 130, 121);

		$this->fpdf->Text(140, 108, "Sitting");
		$this->fpdf->Line(170, 98, 170, 121);

		$this->fpdf->Text(183, 108, "Standing");
		$this->fpdf->Line(230, 98, 230, 121);

		$this->fpdf->Text(244, 108, "Temp");
		$this->fpdf->Line(280, 98, 280, 121);

		$this->fpdf->Text(301, 108, "Resp");

		$this->fpdf->Line(345, 98, 345, 121);

		$this->fpdf->Text(361, 108, "Apical Pulse");
		$this->fpdf->Line(430, 98, 430, 121);

		$this->fpdf->Text(456, 108, "Radical Pulse");
		$this->fpdf->Line(520, 98, 520, 121);

		$this->fpdf->Text(531, 108, "Weight Labs");
		$this->fpdf->SetFont('Arial','B',$__FONT['PDF']['FORM_SMALL']);

		$this->fpdf->Text(97, 118,  @$snpn->BpLying);

		$this->fpdf->Text(140, 118, @$snpn->BpSitting);

		$this->fpdf->Text(193, 118, @$snpn->BpStanding);

		$this->fpdf->Text(246, 118, @$snpn->Temperature);

		$this->fpdf->Text(305, 118, @$snpn->Respiration);

		$this->fpdf->Text(381, 118, @$snpn->PulseApical);

		$this->fpdf->Text(476, 118, @$snpn->PulseRadial);

		$this->fpdf->Text(548, 118, @$snpn->Weight);

		$this->fpdf->Line(8, 121, 584, 121);

		$this->fpdf->SetFont('Arial','',$__FONT['PDF']['FORM_SMALL']);

		$this->fpdf->Text(11, 131, "PHYSICAL ASSESSMENT");

		$this->fpdf->Line(8, 134, 584, 134);

		$this->fpdf->Text(11, 144, "RESPIRATORY");

        $this->fpdf->Rect(11, 146, 8.4, 8.4);

        $this->fpdf->Text(23, 154, "No Problem");

        if (@$snpn->RespNoProblem ==1) {

            $this->fpdf->Image( $path_ticket, 12, 147,6);

        }

        $this->fpdf->Rect(91, 146, 8.4, 8.4);

        $this->fpdf->Text(103, 154, "Apnea");

        if (@$snpn->RespApnea == 1) {

            $this->fpdf->Image( $path_ticket, 92, 147,6);

        }

        $this->fpdf->Rect(146, 146, 8.4, 8.4);

        $this->fpdf->Text(158, 154, "Dyspnea with moderate exertion");

        if (@$snpn->RespDyspnea == 1) {

            $this->fpdf->Image( $path_ticket, 147, 147,6);

        }
        $this->fpdf->Rect(11, 156, 8.4, 8.4);

        $this->fpdf->Text(23, 164, "Resp Uneven");

        if (@$snpn->RespUneven ==1) {

            $this->fpdf->Image( $path_ticket, 12, 157,6);

        }
        $this->fpdf->Rect(91, 156, 8.4, 8.4);

        $this->fpdf->Text(103, 164, "Cough");

        if (@$snpn->RespCough == 1) {

            $this->fpdf->Image( $path_ticket, 92, 157,6);

        }
        $this->fpdf->Rect(146, 156, 8.4, 8.4);

        $this->fpdf->Text(158, 164, "Sputum");

        if (@$snpn->RespSputum == 1) {

            $this->fpdf->Image( $path_ticket, 147, 157,6);

        }
        $this->fpdf->Rect(209, 156, 8.4, 8.4);

        $this->fpdf->Text(221, 164, "Rales");

        if (@$snpn->RespRales == 1) {

            $this->fpdf->Image( $path_ticket, 210, 157,6);

        }
        $this->fpdf->Text(11, 174, "Breath Sounds:");
        $this->fpdf->Rect(91, 166, 8.4, 8.4);

        $this->fpdf->Text(103, 174, "Clear");

        if (@$snpn->RespClear == 1) {

            $this->fpdf->Image( $path_ticket, 92, 167,6);

        }
        $this->fpdf->Rect(146, 166, 8.4, 8.4);

        $this->fpdf->Text(158, 174, "Rhonchi");

        if (@$snpn->RespRhonchi == 1) {

            $this->fpdf->Image( $path_ticket, 147, 167,6);

        }



        $this->fpdf->Rect(209, 166, 8.4, 8.4);

        $this->fpdf->Text(221, 174, "Wheezing");

        if (@$snpn->RespWheezing == 1) {

            $this->fpdf->Image( $path_ticket, 210, 167,6);

        }

        $this->fpdf->Rect(11, 176, 8.4, 8.4);

        $this->fpdf->Text(23, 184, "0");
		$this->fpdf->SetFont('Arial','',$__FONT['PDF']['SIZE'] - 3);													

		$this->fpdf->Text(28, 182, "2");
		$this->fpdf->SetFont('Courier','B',$__FONT['PDF']['FORM_MEDIUM']);

		$this->fpdf->Text(40, 184, @$snpn->RespOxigAmt);

		$this->fpdf->SetFont('Arial','',$__FONT['PDF']['FORM_SMALL']);

		$this->fpdf->Text(31, 184, "_____ Lts");	
        if (@$snpn->RespO2 ==1) {

            $this->fpdf->Image( $path_ticket, 12, 177, 6);

        }

        $this->fpdf->Text(11, 194, "Other:");

        $this->fpdf->SetFont('Courier','B',$__FONT['PDF']['FORM_MEDIUM']);

        $this->fpdf->Text(38, 194, @$snpn->RespComments);
		$this->fpdf->Line(304, 134, 304, 376);
		$pdf->SetFont('Arial','',$__FONT['PDF']['SIZE']);
		$this->fpdf->Text(309, 144, "GASTRO INTESTINAL");

		

        $this->fpdf->Rect(309, 146, 8.4, 8.4);

        $this->fpdf->Text(321, 154, "No Problem");

        if (@$snpn->GastroNoprob ==1) {

            $this->fpdf->Image( $path_ticket, 310, 147,6);

        }

        

        $this->fpdf->Rect(380, 146, 8.4, 8.4);

        $this->fpdf->Text(392, 154, "Appetite Decreased");

        if (@$snpn->GastroAppetDecr == 1) {

            $this->fpdf->Image( $path_ticket, 381, 147,6);

        }
        $this->fpdf->Text(480, 154, "Weight:");

        $this->fpdf->Rect(515, 146, 8.4, 8.4);

        $this->fpdf->Text(527, 154, "Loss");

        if (@$snpn->tab_29_loss_gain == 1) {

            $this->fpdf->Image( $path_ticket, 516, 147,6);

        }
        $this->fpdf->Rect(550, 146, 8.4, 8.4);
        $this->fpdf->Text(562, 154, "Gain");
        if (@$snpn->tab_29_loss_gain == 2) {
            $this->fpdf->Image( $path_ticket, 551, 147,6);
        }
       
        $this->fpdf->Text(545, 164, "Amt  ___");
        $this->fpdf->SetFont('Courier','B',$__FONT['PDF']['FORM_MEDIUM']);
		$this->fpdf->Text(568, 164, @$snpn->GastroLossGainAmt);
        $pdf->SetFont('Arial','',$__FONT['PDF']['SIZE']);
    
        $this->fpdf->Rect(309, 156, 8.4, 8.4);
        $this->fpdf->Text(321, 164, "Constipation");
        if (@$snpn->GastroConstipation ==1) {
            $this->fpdf->Image( $path_ticket, 310, 157,6);
        }
       
        $this->fpdf->Rect(380, 156, 8.4, 8.4);
        $this->fpdf->Text(392, 164, "Incontinent");
        if (@$snpn->GastroIcontinent == 1) {
            $this->fpdf->Image( $path_ticket, 381, 157,6);
        }

        $this->fpdf->Rect(457, 156, 8.4, 8.4);
        $this->fpdf->Text(469, 164, "Last BM");
        if (@$snpn->GastroLastBM != '') {
            $this->fpdf->Image( $path_ticket, 458, 157,6);
        }
		$this->fpdf->SetFont('Courier','B',$__FONT['PDF']['FORM_MEDIUM']);
        $this->fpdf->Text(505, 164, standard_date(mysql_to_unix(@$snpn->GastroLastBM), '%M/%d'));
        $pdf->SetFont('Arial','',$__FONT['PDF']['SIZE']);
        
        $this->fpdf->Rect(309, 166, 8.4, 8.4);
        $this->fpdf->Text(321, 174, "Nausea");
        if (@$snpn->GastroNausea ==1) {
            $this->fpdf->Image( $path_ticket, 310, 167,6);
        }
        
        $this->fpdf->Rect(380, 166, 8.4, 8.4);
        $this->fpdf->Text(392, 174, "Vomiting");
        if (@$snpn->GastroVomiting == 1) {
            $this->fpdf->Image( $path_ticket, 381, 167,6);
        }

        $this->fpdf->Rect(457, 166, 8.4, 8.4);
        $this->fpdf->Text(469, 174, "Diarrhea");
        if (@$snpn->GastroDiarrhea == 1) {
            $this->fpdf->Image( $path_ticket, 458, 167,6);
        }
        
        $this->fpdf->Rect(521, 166, 8.4, 8.4);
        $this->fpdf->Text(533, 174, "Dysphagia");
        if (@$snpn->GastroDysphagia == 1) {
            $this->fpdf->Image( $path_ticket, 522, 167,6);
        }
        
        
        $this->fpdf->Rect(309, 176, 8.4, 8.4);
        $this->fpdf->Text(321, 184, "Abdomen");
        if (@$snpn->tab_28_GastroAbdomen > 0) {
            $this->fpdf->Image( $path_ticket, 310, 177,6);
        }
        
        $this->fpdf->Rect(380, 176, 8.4, 8.4);
        $this->fpdf->Text(392, 184, "Soft");
        if (@$snpn->tab_28_GastroAbdomen == 1) {
            $this->fpdf->Image( $path_ticket, 381, 177,6);
        }

        $this->fpdf->Rect(457, 176, 8.4, 8.4);
        $this->fpdf->Text(469, 184, "Firm");
        if (@$snpn->tab_28_GastroAbdomen == 2) {
            $this->fpdf->Image( $path_ticket, 458, 177,6);
        }
        
        $this->fpdf->Rect(521, 176, 8.4, 8.4);

        $this->fpdf->Text(533, 184, "Distended");

        if (@$snpn->tab_28_GastroAbdomen == 3) {

            $this->fpdf->Image( $path_ticket, 522, 177,6);

        }

        

        

        $this->fpdf->Text(309, 194, "Diet Compliance:");

        

        $this->fpdf->Rect(380, 186, 8.4, 8.4);

        $this->fpdf->Text(392, 194, "Yes");

        if (@$snpn->GastroDietCompliance_YN == 1) {

            $this->fpdf->Image( $path_ticket, 381, 187,6);

        }



        $this->fpdf->Rect(415, 186, 8.4, 8.4);

        $this->fpdf->Text(427, 194, "No");

        if (@$snpn->GastroDietCompliance_YN == '0') {

            $this->fpdf->Image( $path_ticket, 416, 187,6);

        }

        

        $this->fpdf->Rect(457, 186, 8.4, 8.4);

        $this->fpdf->Text(469, 194, "Ostomy Care Taught");

        if (@$snpn->GastroOstoTaught == 1) {

            $this->fpdf->Image( $path_ticket, 458, 187,6);

        }

		

        $this->fpdf->Rect(457, 196, 8.4, 8.4);

        $this->fpdf->Text(469, 204, "Ostomy Care Performed");

        if (@$snpn->GastroOstoPerformed == 1) {

            $this->fpdf->Image( $path_ticket, 458, 197,6);

        }

		



		$this->fpdf->Line(8, 207, 584, 207);

		

		

		$this->fpdf->Text(11, 217, "NEURO");

		

        $this->fpdf->Rect(11, 219, 8.4, 8.4);

        $this->fpdf->Text(23, 227, "No Problem");

        if (@$snpn->NeuroNoProb ==1) {

            $this->fpdf->Image( $path_ticket, 12, 220,6);

        }

        

        $this->fpdf->Rect(91, 219, 8.4, 8.4);

        $this->fpdf->Text(103, 227, "Alert");

        if (@$snpn->NeuroAlert == 1) {

            $this->fpdf->Image( $path_ticket, 92, 220,6);

        }

        

        $this->fpdf->Rect(146, 219, 8.4, 8.4);

        $this->fpdf->Text(158, 227, "Lethargic");

        if (@$snpn->NeuroLethargic == 1) {

            $this->fpdf->Image( $path_ticket, 147, 220,6);

        }



        $this->fpdf->Rect(209, 219, 8.4, 8.4);

        $this->fpdf->Text(221, 227, "Forgetful");

        if (@$snpn->NeuroForget == 1) {

            $this->fpdf->Image( $path_ticket, 210, 220,6);

        }

        

        

        $this->fpdf->Rect(11, 229, 8.4, 8.4);

        $this->fpdf->Text(23, 237, "Disoriented");

        if (@$snpn->NeuroDisor ==1) {

            $this->fpdf->Image( $path_ticket, 12, 230,6);

        }

        

        $this->fpdf->Rect(91, 229, 8.4, 8.4);

        $this->fpdf->Text(103, 237, "Dizziness");

        if (@$snpn->NeuroDizz == 1) {

            $this->fpdf->Image( $path_ticket, 92, 230,6);

        }

        

        $this->fpdf->Rect(146, 229, 8.4, 8.4);

        $this->fpdf->Text(158, 237, "Tremors");

        if (@$snpn->NeuroTremors == 1) {

            $this->fpdf->Image( $path_ticket, 147, 230,6);

        }



        $this->fpdf->Rect(209, 229, 8.4, 8.4);

        $this->fpdf->Text(221, 237, "Agitated");

        if (@$snpn->NeuroAgitaded == 1) {

            $this->fpdf->Image( $path_ticket, 210, 230,6);

        }

        

        

        $this->fpdf->Text(11, 247, "Grasps:");

        

        $this->fpdf->Rect(70, 239, 8.4, 8.4);

        $this->fpdf->Text(82, 247, "R");

        if (@$snpn->NeuroGraspR == 1) {

            $this->fpdf->Image( $path_ticket, 71, 240,6);

        }

        

        $this->fpdf->Rect(91, 239, 8.4, 8.4);

        $this->fpdf->Text(103, 247, "L");

        if (@$snpn->NeuroGraspL == 1) {

            $this->fpdf->Image( $path_ticket, 92, 240,6);

        }

        

        $this->fpdf->Rect(131, 239, 8.4, 8.4);

        $this->fpdf->Text(143, 247, "Pupils not equal and not reactive to light");

        if (@$snpn->NeuroPupils == 1) {

            $this->fpdf->Image( $path_ticket, 132, 240,6);

        }

        

        

        $this->fpdf->Text(11, 257, "Oriented to:");

        

        $this->fpdf->Rect(91, 249, 8.4, 8.4);

        $this->fpdf->Text(103, 257, "Time");

        if (@$snpn->NeuroOrienTime == 1) {

            $this->fpdf->Image( $path_ticket, 92, 250,6);

        }

        

        $this->fpdf->Rect(146, 249, 8.4, 8.4);

        $this->fpdf->Text(158, 257, "Place");

        if (@$snpn->NeuroOrienPlace == 1) {

            $this->fpdf->Image( $path_ticket, 147, 250,6);

        }



        $this->fpdf->Rect(209, 249, 8.4, 8.4);

        $this->fpdf->Text(221, 257, "Person");

        if (@$snpn->NeuroOrienPerson == 1) {

            $this->fpdf->Image( $path_ticket, 210, 250,6);

        }

        

        $this->fpdf->Text(11, 267, "Other:");

        $this->fpdf->SetFont('Courier','B',$__FONT['PDF']['FORM_MEDIUM']);

        $this->fpdf->Text(37, 267, @$snpn->NeuroOrienOther);

        $pdf->SetFont('Arial','',$__FONT['PDF']['SIZE']);



        

        $this->fpdf->Text(309, 217, "EARS/EYES/NOSE/THROAT");

        



        $this->fpdf->Rect(309, 219, 8.4, 8.4);

        $this->fpdf->Text(321, 227, "No Problem");

        if (@$snpn->EENTnoProb ==1) {

            $this->fpdf->Image( $path_ticket, 310, 220,6);

        }

        

        $this->fpdf->Rect(395, 219, 8.4, 8.4);

        $this->fpdf->Text(407, 227, "Impaired Vision");

        if (@$snpn->EENTImparedVision == 1) {

            $this->fpdf->Image( $path_ticket, 396, 220,6);

        }

        

        $this->fpdf->Rect(494, 219, 8.4, 8.4);

        $this->fpdf->Text(506, 227, "Cataract/Glaucoma");

        if (@$snpn->EENTCataract == 1) {

            $this->fpdf->Image( $path_ticket, 495, 220,6);

        }

        



        $this->fpdf->Rect(309, 229, 8.4, 8.4);

        $this->fpdf->Text(321, 237, "Deaf");

        if (@$snpn->EENTDeaf ==1) {

            $this->fpdf->Image( $path_ticket, 310, 230,6);

        }

        

        $this->fpdf->Rect(395, 229, 8.4, 8.4);

        $this->fpdf->Text(407, 237, "Impaired Speech");

        if (@$snpn->EENTImparedSpeech == 1) {

            $this->fpdf->Image( $path_ticket, 396, 230,6);

        }

        

        $this->fpdf->Rect(494, 229, 8.4, 8.4);

        $this->fpdf->Text(506, 237, "Blind");

        if (@$snpn->EENTBlind == 1) {

            $this->fpdf->Image( $path_ticket, 495, 230,6);

        }

		

		

        $this->fpdf->Rect(309, 239, 8.4, 8.4);

        $this->fpdf->Text(321, 247, "Tinnitus");

        if (@$snpn->EENTTinnitus ==1) {

            $this->fpdf->Image( $path_ticket, 310, 240,6);

        }

        

        $this->fpdf->Rect(395, 239, 8.4, 8.4);

        $this->fpdf->Text(407, 247, "Epistaxis");

        if (@$snpn->EENTEpistaxis == 1) {

            $this->fpdf->Image( $path_ticket, 396, 240,6);

        }

        

        $this->fpdf->Rect(494, 239, 8.4, 8.4);

        $this->fpdf->Text(506, 247, "Congestion");

        if (@$snpn->EENTCongestion == 1) {

            $this->fpdf->Image( $path_ticket, 495, 240,6);

        }

        

        

        $this->fpdf->Rect(309, 249, 8.4, 8.4);

        $this->fpdf->Text(321, 257, "Impaired Hearing");

        if (@$snpn->EENTImpairedHearing ==1) {

            $this->fpdf->Image( $path_ticket, 310, 250,6);

        }

        

        

        $this->fpdf->Line(8, 270, 584, 270);

        

        

        $this->fpdf->Text(11, 280, "MUSCULOSKELETAL");

        

        

        $this->fpdf->Rect(11, 282, 8.4, 8.4);

        $this->fpdf->Text(23, 290, "No Problem");

        if (@$snpn->MuscuNoprob ==1) {

            $this->fpdf->Image( $path_ticket, 12, 283,6);

        }

        

        $this->fpdf->Rect(79, 282, 8.4, 8.4);

        $this->fpdf->Text(91, 290, "Bedbound");

        if (@$snpn->MuscuBedBound ==1) {

            $this->fpdf->Image( $path_ticket, 80, 283,6);

        }

        

        $this->fpdf->Rect(139, 282, 8.4, 8.4);

        $this->fpdf->Text(151, 290, "Chairbound");

        if (@$snpn->MuscuChairBound ==1) {

            $this->fpdf->Image( $path_ticket, 140, 283,6);

        }

        

        $this->fpdf->Rect(212, 282, 8.4, 8.4);

        $this->fpdf->Text(224, 290, "Ambulatory Aid");

        if (@$snpn->MuscuAmbAid ==1) {

            $this->fpdf->Image( $path_ticket, 213, 283,6);

        }

        

        

        $this->fpdf->Rect(11, 292, 8.4, 8.4);

        $this->fpdf->Text(23, 300, "Unsteady Balance/Gait");

        if (@$snpn->MuscuUnsteadBalanceGait ==1) {

            $this->fpdf->Image( $path_ticket, 12, 293,6);

        }

        

        $this->fpdf->Rect(139, 292, 8.4, 8.4);

        $this->fpdf->Text(151, 300, "Amputations");

        if (@$snpn->MuscuAmput ==1) {

            $this->fpdf->Image( $path_ticket, 140, 293,6);

        }

        

        $this->fpdf->Rect(212, 292, 8.4, 8.4);

        $this->fpdf->Text(224, 300, "Joint Pain/Stiffness");

        if (@$snpn->MuscuJoitPainStiffness ==1) {

            $this->fpdf->Image( $path_ticket, 213, 293,6);

        }

        

        

        $this->fpdf->Rect(11, 302, 8.4, 8.4);

        $this->fpdf->Text(23, 310, "Contracture");

        if (@$snpn->MuscuContracture ==1) {

            $this->fpdf->Image( $path_ticket, 12, 303,6);

        }

        

        $this->fpdf->Rect(79, 302, 8.4, 8.4);

        $this->fpdf->Text(91, 310, "Paralysis");

        if (@$snpn->MuscuParalysis ==1) {

            $this->fpdf->Image( $path_ticket, 80, 303,6);

        }

        

        $this->fpdf->Rect(139, 302, 8.4, 8.4);

        $this->fpdf->Text(151, 310, "Arthritis");

        if (@$snpn->MuscuArthritis ==1) {

            $this->fpdf->Image( $path_ticket, 140, 303,6);

        }

        

        $this->fpdf->Rect(212, 302, 8.4, 8.4);

        $this->fpdf->Text(224, 310, "Falls");

        if (@$snpn->MuscuFalls ==1) {

            $this->fpdf->Image( $path_ticket, 213, 303,6);

        }

        

        

        $this->fpdf->Text(309, 280, "CIRCULATORY");



        $this->fpdf->Rect(309, 282, 8.4, 8.4);

        $this->fpdf->Text(321, 290, "No Problem");

        if (@$snpn->CircNoprob ==1) {

            $this->fpdf->Image( $path_ticket, 310, 283,6);

        }

        

        $this->fpdf->Rect(380, 282, 8.4, 8.4);

        $this->fpdf->Text(392, 290, "Heart Irregular");

        if (@$snpn->CircNoprob ==1) {

            $this->fpdf->Image( $path_ticket, 381, 283,6);

        }

        

        $this->fpdf->Text(460, 290, "Edema:");

        

//        $this->fpdf->Rect(492, 282, 8.4, 8.4);

//        if (@$snpn->CircEdemaRLE > 0) {

//            $this->fpdf->Image( $path_ticket, 493, 283,6);

//        }

        $this->fpdf->Text(504, 290, "RLE ___");

        $this->fpdf->SetFont('Courier','B',$__FONT['PDF']['FORM_MEDIUM']);

		$this->fpdf->Text(524, 290, @$snpn->CircEdemaRLE);

        $pdf->SetFont('Arial','',$__FONT['PDF']['SIZE']);

		

//        $this->fpdf->Rect(540, 282, 8.4, 8.4);

//        if (@$snpn->CircEdemaLLE > 0) {

//            $this->fpdf->Image( $path_ticket, 541, 283,6);

//        }

        $this->fpdf->Text(548, 290, "LLE ___");

        $this->fpdf->SetFont('Courier','B',$__FONT['PDF']['FORM_MEDIUM']);

		$this->fpdf->Text(570, 290, @$snpn->CircEdemaLLE);

        $pdf->SetFont('Arial','',$__FONT['PDF']['SIZE']);

        

        $this->fpdf->Rect(309, 292, 8.4, 8.4);

        $this->fpdf->Text(321, 300, "Gallop");

        if (@$snpn->CircGallop ==1) {

            $this->fpdf->Image( $path_ticket, 310, 293,6);

        }

        

        $this->fpdf->Rect(380, 292, 8.4, 8.4);

        $this->fpdf->Text(392, 300, "Murmur");

        if (@$snpn->CircMurmur ==1) {

            $this->fpdf->Image( $path_ticket, 381, 293,6);

        }

        

//        $this->fpdf->Rect(492, 292, 8.4, 8.4);

//        if (@$snpn->CircEdemaRVE > 0) {

//            $this->fpdf->Image( $path_ticket, 493, 293,6);

//        }

        $this->fpdf->Text(504, 300, "RUE ___");

        $this->fpdf->SetFont('Courier','B',$__FONT['PDF']['FORM_MEDIUM']);

		$this->fpdf->Text(524, 300, @$snpn->CircEdemaRVE);

        $pdf->SetFont('Arial','',$__FONT['PDF']['SIZE']);

		

//        $this->fpdf->Rect(540, 292, 8.4, 8.4);

//        if (@$snpn->CircEdemaLVE > 0) {

//            $this->fpdf->Image( $path_ticket, 541, 293,6);

//        }

        $this->fpdf->Text(548, 300, "LUE ___");

        $this->fpdf->SetFont('Courier','B',$__FONT['PDF']['FORM_MEDIUM']);

		$this->fpdf->Text(570, 300, @$snpn->CircEdemaLVE);

		$pdf->SetFont('Arial','',$__FONT['PDF']['SIZE']);

        

        

        $this->fpdf->Text(309, 310, "Peripheral Pulses:");

        $this->fpdf->SetFont('Courier','B',$__FONT['PDF']['FORM_MEDIUM']);

        $this->fpdf->Text(383, 310, @$snpn->CircPeripheralPulses);

        $pdf->SetFont('Arial','',$__FONT['PDF']['SIZE']);



		$this->fpdf->Line(8, 313, 584, 313);

		

		

		$pdf->SetFont('Arial','',$__FONT['PDF']['SIZE']);

		$this->fpdf->Text(11, 323, "SKIN CONDITION");

		

        $this->fpdf->Rect(11, 325, 8.4, 8.4);

        $this->fpdf->Text(23, 333, "No Problem");

        if (@$snpn->SkinNoProb ==1) {

            $this->fpdf->Image( $path_ticket, 12, 326,6);

        }

        

        $this->fpdf->Rect(87, 325, 8.4, 8.4);

        $this->fpdf->Text(99, 333, "Warm");

        if (@$snpn->SkinWarm ==1) {

            $this->fpdf->Image( $path_ticket, 88, 326,6);

        }

        

        $this->fpdf->Rect(153, 325, 8.4, 8.4);

        $this->fpdf->Text(165, 333, "Cool");

        if (@$snpn->SkinCool ==1) {

            $this->fpdf->Image( $path_ticket, 154, 326,6);

        }

        

        $this->fpdf->Rect(217, 325, 8.4, 8.4);

        $this->fpdf->Text(229, 333, "Cold");

        if (@$snpn->SkinCold ==1) {

            $this->fpdf->Image( $path_ticket, 218, 326,6);

        }

        



        $this->fpdf->Rect(11, 335, 8.4, 8.4);

        $this->fpdf->Text(23, 343, "Clammy");

        if (@$snpn->SkinClammy ==1) {

            $this->fpdf->Image( $path_ticket, 12, 336,6);

        }

        

        $this->fpdf->Rect(87, 335, 8.4, 8.4);

        $this->fpdf->Text(99, 343, "Turgor fair");

        if (@$snpn->SkinTurgor ==1) {

            $this->fpdf->Image( $path_ticket, 88, 336,6);

        }

        

        $this->fpdf->Rect(153, 335, 8.4, 8.4);

        $this->fpdf->Text(165, 343, "Diaphoretic");

        if (@$snpn->SkinDiaphorectic ==1) {

            $this->fpdf->Image( $path_ticket, 154, 336,6);

        }

        

        $this->fpdf->Rect(217, 335, 8.4, 8.4);

        $this->fpdf->Text(229, 343, "Skin Broken");

        if (@$snpn->SkinBroken ==1) {

            $this->fpdf->Image( $path_ticket, 218, 336,6);

        }

        

        

        $this->fpdf->Rect(11, 345, 8.4, 8.4);

        $this->fpdf->Text(23, 353, "Pale");

        if (@$snpn->SkinPale ==1) {

            $this->fpdf->Image( $path_ticket, 12, 346,6);

        }

        

        $this->fpdf->Rect(87, 345, 8.4, 8.4);

        $this->fpdf->Text(99, 353, "Jaundice");

        if (@$snpn->SkinJaundice ==1) {

            $this->fpdf->Image( $path_ticket, 88, 346,6);

        }

        

        $this->fpdf->Rect(153, 345, 8.4, 8.4);

        $this->fpdf->Text(165, 353, "Cyanotic");

        if (@$snpn->SkinCyanotic ==1) {

            $this->fpdf->Image( $path_ticket, 154, 346,6);

        }

        

        $this->fpdf->Rect(217, 345, 8.4, 8.4);

        $this->fpdf->Text(229, 353, "Dry");

        if (@$snpn->SkinDry ==1) {

            $this->fpdf->Image( $path_ticket, 218, 346,6);

        }

        

        $this->fpdf->Text(11, 363, "Other:");

        $this->fpdf->SetFont('Courier','B',$__FONT['PDF']['FORM_MEDIUM']);

        $this->fpdf->Text(38, 363, @$snpn->SkinComment);

        $this->fpdf->SetFont('Courier','B',$__FONT['PDF']['FORM_MEDIUM']);

        

        $pdf->SetFont('Arial','',$__FONT['PDF']['SIZE']);

        $this->fpdf->Text(309, 323, "GU STATUS");



        $this->fpdf->Rect(307, 325, 8.4, 8.4);

        $this->fpdf->Text(319, 333, "No Problem");

        if (@$snpn->GUStatNoPfrob ==1) {

            $this->fpdf->Image( $path_ticket, 308, 326,6);

        }

        

        $this->fpdf->Rect(370, 325, 8.4, 8.4);

        $this->fpdf->Text(382, 333, "Incontinent");

        if (@$snpn->GUStatIncontinent ==1) {

            $this->fpdf->Image( $path_ticket, 371, 326,6);

        }



        $this->fpdf->Rect(433, 325, 8.4, 8.4);

        $this->fpdf->Text(445, 333, "Retention");

        if (@$snpn->GUStatRetention ==1) {

            $this->fpdf->Image( $path_ticket, 434, 326,6);

        }



        $this->fpdf->Rect(489, 325, 8.4, 8.4);

        $this->fpdf->Text(501, 333, "Dysuria-Freq _____");

        if (@$snpn->GUStatDisuriaFreq ==1) {

            $this->fpdf->Image( $path_ticket, 490, 326,6);

        }

		$this->fpdf->SetFont('Courier','B',$__FONT['PDF']['FORM_MEDIUM']);

        $this->fpdf->Text(554, 333, @$snpn->GUStatDisuriaFreqValue);

        $pdf->SetFont('Arial','',$__FONT['PDF']['SIZE']);

        

        $this->fpdf->Rect(307, 335, 8.4, 8.4);

        $this->fpdf->Text(319, 343, "Catheter");

        if (@$snpn->GUStatCatherer ==1) {

            $this->fpdf->Image( $path_ticket, 308, 336,6);

        }

        

        $this->fpdf->Rect(370, 335, 8.4, 8.4);

        $this->fpdf->Text(382, 343, "Hematuria");

        if (@$snpn->GUStatHematuria ==1) {

            $this->fpdf->Image( $path_ticket, 371, 336,6);

        }



        $this->fpdf->Rect(433, 335, 8.4, 8.4);

        $this->fpdf->Text(445, 343, "Bladder Program");

        if (@$snpn->GUStatBladderProgram ==1) {

            $this->fpdf->Image( $path_ticket, 434, 336,6);

        }

        

        

        $this->fpdf->Rect(307, 345, 8.4, 8.4);

        $this->fpdf->Text(319, 353, "Foley Insertion");

        if (@$snpn->GUStatFoleyInsert ==1) {

            $this->fpdf->Image( $path_ticket, 308, 346,6);

        }

        

        $this->fpdf->Rect(387, 345, 8.4, 8.4);

        $this->fpdf->Text(399, 353, "Teaching Catheter Care");

        if (@$snpn->GUStatTeach ==1) {

            $this->fpdf->Image( $path_ticket, 388, 346,6);

        }



        $this->fpdf->Rect(503, 345, 8.4, 8.4);

        $this->fpdf->Text(515, 353, "Output _____ Lts");

        if (@$snpn->GUStatTeachValue > 0) {

            $this->fpdf->Image( $path_ticket, 504, 346,6);

        }

		$this->fpdf->SetFont('Courier','B',$__FONT['PDF']['FORM_MEDIUM']);

        $this->fpdf->Text(539, 353, @$snpn->GUStatTeachValue);

        $pdf->SetFont('Arial','',$__FONT['PDF']['SIZE']);

        

        $this->fpdf->Text(307, 363, "Urine:");

        

        $this->fpdf->Rect(333, 355, 8.4, 8.4);

        $this->fpdf->Text(345, 363, "Clear");

        if (@$snpn->GUStatUrineClear ==1) {

            $this->fpdf->Image( $path_ticket, 334, 356,6);

        }

        

        $this->fpdf->Rect(370, 355, 8.4, 8.4);

        $this->fpdf->Text(382, 363, "Cloudy");

        if (@$snpn->GUStatUrineCloudy ==1) {

            $this->fpdf->Image( $path_ticket, 371, 356,6);

        }



        $this->fpdf->Rect(414, 355, 8.4, 8.4);

        $this->fpdf->Text(426, 363, "Odor");

        if (@$snpn->GUStatUrineOdor ==1) {

            $this->fpdf->Image( $path_ticket, 415, 356,6);

        }

        

        $this->fpdf->Rect(454, 355, 8.4, 8.4);

        $this->fpdf->Text(466, 363, "Sediment");

        if (@$snpn->GUStatUrineSediment ==1) {

            $this->fpdf->Image( $path_ticket, 455, 356,6);

        }

        

        $this->fpdf->Rect(333, 365, 8.4, 8.4);

        $this->fpdf->Text(345, 373, "Other:");

        if (@$snpn->GUStatUrineOther != '') {

            $this->fpdf->Image( $path_ticket, 334, 366,6);

        }

		$this->fpdf->SetFont('Courier','B',$__FONT['PDF']['FORM_MEDIUM']);

		$this->fpdf->Text(370, 373, @$snpn->GUStatUrineOther);

		$pdf->SetFont('Arial','',$__FONT['PDF']['SIZE']);

		

		$this->fpdf->Line(8, 376, 584, 376);

		

		$pdf->SetFont('Arial','B',$__FONT['PDF']['SIZE']);

		$this->fpdf->Text(11, 386, "Glucometer:");

		

		$pdf->SetFont('Arial','',$__FONT['PDF']['SIZE']);

		$this->fpdf->Rect(81, 378, 8.4, 8.4);

		$this->fpdf->Text(93, 386, "N/A");

        if (@$snpn->ClucoNotAplic != '') {

            $this->fpdf->Image( $path_ticket, 82, 379,6);

        }



		$this->fpdf->Rect(120, 378, 8.4, 8.4);

		$this->fpdf->Text(132, 386, "Control");

        if (@$snpn->ClucoControl != '') {

            $this->fpdf->Image( $path_ticket, 121, 379,6);

        }

        

        $this->fpdf->Text(187, 386, "Results:");

        $this->fpdf->SetFont('Courier','B',$__FONT['PDF']['FORM_MEDIUM']);

        $this->fpdf->Text(221, 386, @$snpn->ClucoResults);

		



		$pdf->SetFont('Arial','',$__FONT['PDF']['SIZE']);

		$this->fpdf->Text(11, 396, "FSBS obtained from                          finger");

		

		$this->fpdf->SetFont('Courier','B',$__FONT['PDF']['FORM_MEDIUM']);

		$this->fpdf->Text(95, 396, @$snpn->ClucoFSBSObtainFrom);

		

		$pdf->SetFont('Arial','',$__FONT['PDF']['SIZE']);

        $this->fpdf->Text(187, 396, "Results:");

        $this->fpdf->SetFont('Courier','B',$__FONT['PDF']['FORM_MEDIUM']);

        $this->fpdf->Text(221, 396, @$snpn->ClucoFSBSResults);

        

        $pdf->SetFont('Arial','',$__FONT['PDF']['SIZE']);

        

        $this->fpdf->Rect(518, 388, 8.4, 8.4);

        $this->fpdf->Text(530, 396, "FBS");

        if (@$snpn->ClucoFBS ==1) {

            $this->fpdf->Image( $path_ticket, 519, 389, 6);

        }

        

        $this->fpdf->Rect(553, 388, 8.4, 8.4);

        $this->fpdf->Text(565, 396, "RBS");

        if (@$snpn->ClucoRBS ==1) {

            $this->fpdf->Image( $path_ticket, 554, 389, 6);

        }



	

		$this->fpdf->Line(8, 400, 584, 400);



		$pdf->SetFont('Arial','B',$__FONT['PDF']['SIZE']);

		$this->fpdf->Text(11, 410, "Injection of Medications:");

		

		$pdf->SetFont('Arial','',$__FONT['PDF']['SIZE']);

		$this->fpdf->Rect(119, 402, 8.4, 8.4);

		$this->fpdf->Text(131, 410, "N/A");

        if (@$snpn->InjecMedicNotAplic == 1) {

            $this->fpdf->Image( $path_ticket, 120, 403,6);

        }

        

        $this->fpdf->Text(192, 410, "Site:");

        $this->fpdf->Text(372, 410, "Route:");



		$this->fpdf->SetFont('Courier','B',$__FONT['PDF']['FORM_MEDIUM']);

        $this->fpdf->Text(214, 410, @$snpn->InjecMedicSite);

        $this->fpdf->Text(401, 410, @$snpn->InjecMedicRoute);





		$pdf->SetFont('Arial','',$__FONT['PDF']['SIZE']);

		

		$this->fpdf->Text(11, 420, "Medication:");

		$this->fpdf->Text(192, 420, "Patient Response:");

		

		$this->fpdf->SetFont('Courier','B',$__FONT['PDF']['FORM_MEDIUM']);

        $this->fpdf->Text(60, 420, @$snpn->InjecMedicMedication);

        $this->fpdf->Text(268, 420, @$snpn->InjecMedicPatientResp);

        

        

        $this->fpdf->Line(8, 423, 584, 423);

        



        $pdf->SetFont('Arial','B',$__FONT['PDF']['SIZE']);

        $this->fpdf->Text(11, 433, "Documentation of patient inability to perform insulin injections or other IM or SQ injections:");

        $pdf->SetFont('Arial','',$__FONT['PDF']['SIZE']);

		

		$this->fpdf->Rect(11, 435, 8.4, 8.4);

		$this->fpdf->Text(23, 443, "The patient has impaired mental cognition.");

        if (@$snpn->PatInhabImpairedMental == 1) {

            $this->fpdf->Image( $path_ticket, 12, 436,6);

        }





        $this->fpdf->Rect(11, 445, 8.4, 8.4);

        $this->fpdf->Text(23, 453, "The patient has impaired functional ability due to:");

        if (@$snpn->PatInhabPoorHandDex == 1) {

            $this->fpdf->Image( $path_ticket, 12, 446,6);

        }

        

        $this->fpdf->Rect(225, 445, 8.4, 8.4);

        $this->fpdf->Text(237, 453, "Poor hand dexterity");

        if (@$snpn->PatInhabPoorHandDex == 1) {

            $this->fpdf->Image( $path_ticket, 226, 446,6);

        }

        

        $this->fpdf->Rect(320, 445, 8.4, 8.4);

        $this->fpdf->Text(332, 453, "Poor vision");

        if (@$snpn->PatInhabPoorVision == 1) {

            $this->fpdf->Image( $path_ticket, 321, 446,6);

        }

        

        $this->fpdf->Rect(384, 445, 8.4, 8.4);

        $this->fpdf->Text(396, 453, "Arthritic hands");

        if (@$snpn->PatInhabArthriticHands == 1) {

            $this->fpdf->Image( $path_ticket, 385, 446,6);

        }

		

        $this->fpdf->Rect(461, 445, 8.4, 8.4);

        $this->fpdf->Text(473, 453, "Poor hand/eye coordination");

        if (@$snpn->PatInhabPoorHECoord == 1) {

            $this->fpdf->Image( $path_ticket, 462, 446,6);

        }

        

        

        $this->fpdf->Rect(11, 456, 8.4, 8.4);

        $this->fpdf->Text(23, 464, "Paralisys:");

        if (@$snpn->ParaRight == 1 || @$snpn->ParaLeft == 1) {

            $this->fpdf->Image( $path_ticket, 12, 457,6);

        }

        

        $this->fpdf->Rect(69, 456, 8.4, 8.4);

        $this->fpdf->Text(81, 464, "Right side");

        if (@$snpn->ParaRight == 1) {

            $this->fpdf->Image( $path_ticket, 70, 457,6);

        }

        

        $this->fpdf->Rect(128, 456, 8.4, 8.4);

        $this->fpdf->Text(140, 464, "Left side");

        if (@$snpn->ParaLeft == 1) {

            $this->fpdf->Image( $path_ticket, 129, 457,6);

        }

        

        $this->fpdf->Rect(184, 456, 8.4, 8.4);

        $this->fpdf->Text(196, 464, "Other:");

        if (@$snpn->PatInhabOther == 1) {

            $this->fpdf->Image( $path_ticket, 185, 457,6);

        }

        

        $this->fpdf->SetFont('Courier','B',$__FONT['PDF']['FORM_MEDIUM']);

        $this->fpdf->Text(223, 464, @$snpn->PatInhabOtherText);





		$pdf->SetFont('Arial','',$__FONT['PDF']['SIZE']);

		

        $this->fpdf->Rect(11, 466, 8.4, 8.4);

        $this->fpdf->Text(23, 474, "There is no able and willing caregiver to perform insulin injections or other IM or SQ injections.");

        if (@$snpn->PatInhabNoWillingCaregiver == 1) {

            $this->fpdf->Image( $path_ticket, 12, 467,6);

        }



        $this->fpdf->Rect(461, 466, 8.4, 8.4);

        $this->fpdf->Text(473, 474, "N/A");

        if (@$snpn->PatInhabNoWillingCaregiverNA == 1) {

            $this->fpdf->Image( $path_ticket, 462, 467,6);

        }





		$this->fpdf->Line(8, 478, 584, 478);





		$pdf->SetFont('Arial','B',$__FONT['PDF']['SIZE']);

		$this->fpdf->Text(11, 488, "Additional clinical findings:");

		

		$this->fpdf->SetXY(8, 493);

        $this->fpdf->SetFont('Courier','B',$__FONT['PDF']['FORM_MEDIUM']);

        $this->fpdf->MultiCell(576, 10, substr(@$snpn->AddClinicalFindings, 0, 284));

		$pdf->SetFont('Arial','',$__FONT['PDF']['SIZE']);

		

		$this->fpdf->Line(8, 528, 584, 528);

		



		$pdf->SetFont('Arial','B',$__FONT['PDF']['SIZE']);

		$this->fpdf->Text(11, 538, "Skilled Nursing Care Performed:");

		

		$this->fpdf->SetXY(8, 541);

       	$this->fpdf->SetFont('Courier','B',$__FONT['PDF']['FORM_MEDIUM']);

        $this->fpdf->MultiCell(576, 10, substr(@$snpn->SkilledNursedCarePerformed, 0, 1206));

        $pdf->SetFont('Arial','',$__FONT['PDF']['SIZE']);

        

        $this->fpdf->Line(8, 675, 584, 675);





		$pdf->SetFont('Arial','B',$__FONT['PDF']['SIZE']);

		$this->fpdf->Text(11, 685, "Patient/Caregiver Response:");

		

		$pdf->SetFont('Arial','',$__FONT['PDF']['SIZE']);

        $this->fpdf->Rect(11, 688, 8.4, 8.4);

        $this->fpdf->Text(23, 695, "Verbalize understanding");

        if (@$snpn->PatCaregRespVerbal == 1) {

            $this->fpdf->Image( $path_ticket, 12, 689,6);

        }

        

        $this->fpdf->Rect(135, 688, 8.4, 8.4);

        $this->fpdf->Text(148, 695, "Need more teaching");

        if (@$snpn->PatCaregRespNeedTeaching == 1) {

            $this->fpdf->Image( $path_ticket, 136, 689,6);

        }

        

        $this->fpdf->Rect(245, 688, 8.4, 8.4);

        $this->fpdf->Text(258, 695, "Need more following");

        if (@$snpn->PatCaregRespNeedMoreFollow == 1) {

            $this->fpdf->Image( $path_ticket, 246, 689,6);

        }

        

        

        

        $this->fpdf->Text(23, 706, "Other:");

       



		$this->fpdf->SetFont('Courier','B',$__FONT['PDF']['FORM_MEDIUM']);

		$this->fpdf->Text(50, 706, @$snpn->PatCaregRespNeedMoreOther);





		$this->fpdf->Line(8, 710, 584, 710);

		



		$pdf->SetFont('Arial','B',$__FONT['PDF']['SIZE']);

		$this->fpdf->Text(11, 719, "Progress Toward Goals on POC:");

		

		$this->fpdf->SetXY(8, 722);

        $this->fpdf->SetFont('Courier','B',$__FONT['PDF']['FORM_MEDIUM']);

        $this->fpdf->MultiCell(578, 10, substr(@$snpn->ProgTowaGoal, 0, 284));

        

        

		$this->fpdf->Line(8, 753, 584, 753);

		



		$pdf->SetFont('Arial','B',$__FONT['PDF']['SIZE']);

		$this->fpdf->Text(11, 763, "New Identified Problems/Goals:");

		

		$this->fpdf->SetXY(8, 764);

        $this->fpdf->SetFont('Courier','B',$__FONT['PDF']['FORM_MEDIUM']);

        $this->fpdf->MultiCell(578, 10, substr(@$snpn->NewIdentProbGoal, 0, 190));

        

        

        

        ######�PAGE 2 #######

        $cero_x = 11;

        $cero_y = 2;

        

		$this->fpdf->AddPage();

		

        $this->fpdf->SetDrawColor(130,100);
        $this->fpdf->SetFont('Arial','B',$__FONT['PDF']['FORM_MEDIUM']);
        $this->fpdf->Text(( $cero_x + 0),( $cero_y + 12 ), $agency->agency_name); // agency name

        $this->fpdf->SetFont('Arial','',$__FONT['PDF']['FORM_SMALL3']);
        $this->fpdf->Text(( $cero_x + 0),( $cero_y + 22 ),"Licensed and Certified Home Health Agency");
  

        $this->fpdf->Rect(8,28, 577, 802);

      

        $this->fpdf->SetFont('Arial', 'B', $__FONT['PDF']['FORM_SMALL']);
        $this->fpdf->Text(( $cero_x + 190),( $cero_y + 36 ),"SKILLED NURSE - PROGRESS NOTE                            " .

        													"VISIT DATE: " . standard_date(mysql_to_unix($visit_log->visit_date_time))); // visit date

    	$this->fpdf->Line(( $cero_x - 3 ) , ($cero_y + 40.5 ), ( $cero_x + 574 ), ($cero_y + 40.5 ));

    	

        $cero_y = 20;

        $this->fpdf->SetTextColor(0,0,0);
        $this->fpdf->SetFont('Arial','', $__FONT['PDF']['FORM_SMALL']);
	    $this->fpdf->Text(( $cero_x + 0),( $cero_y + 32 ),"Patient Name: ");

    

	    $this->fpdf->SetFont('Arial','B', $__FONT['PDF']['FORM_SMALL']);
	    $this->fpdf->Text(( $cero_x + 60),( $cero_y + 32 ), $patient->first_name . " " . $patient->last_name); // pacient name

	    

        $this->fpdf->SetFont('Arial','',$__FONT['PDF']['FORM_SMALL']);
        $this->fpdf->SetTextColor(0,0,0);



        $this->fpdf->SetDrawColor(130,100);
        $this->fpdf->Text(( $cero_x + 240),( $cero_y + 32 ),"Medicare #: ");

        

        $this->fpdf->SetFont('Arial','B',$__FONT['PDF']['FORM_SMALL']);
        $this->fpdf->Text(( $cero_x + 290),( $cero_y + 32 ), $patient->medicare_id); // medicare id

        

		$this->fpdf->SetFont('Arial','',$__FONT['PDF']['FORM_SMALL']);
        $this->fpdf->Text(( $cero_x + 395 +20),( $cero_y + 32 ),"Medical Rec#: ");

        

        $this->fpdf->SetFont('Arial','B',$__FONT['PDF']['FORM_SMALL']);
        $this->fpdf->Text(( $cero_x + 455 +20),( $cero_y + 32 ), $patient->medical_rec_nbr); // medicare id

                

		$this->fpdf->SetFont('Arial','',$__FONT['PDF']['FORM_SMALL']);
        $this->fpdf->Text(( $cero_x + 390),( $cero_y + 32 ), "  NA ");
        $this->fpdf->Rect(( $cero_x + 380),($cero_y + 23.5), 8.4, 8.4);

        

        if (is_null($patient->medicare_id)){
        	$this->fpdf->Image( $path_ticket, ( $cero_x + 381 ),($cero_y + 24.5),6);
        }

		

        $this->fpdf->Text(( $cero_x + 375),( $cero_y + 42 ),"  SOC: ");
        $this->fpdf->SetFont('Arial','B', $__FONT['PDF']['FORM_SMALL']);
        $this->fpdf->Text(( $cero_x + 415),( $cero_y + 42 ), standard_date(mysql_to_unix($visit_log->estimated_soc_date))); // soc date

        

        // primary and second icd
        $this->fpdf->SetFont('Arial','',$__FONT['PDF']['FORM_SMALL']);
        $this->fpdf->Text(( $cero_x + 0),( $cero_y + 42 ),"Primary Dx: ");

        

        $this->fpdf->SetFont('Arial','B',$__FONT['PDF']['FORM_SMALL']);
        $this->fpdf->Text(( $cero_x + 60),( $cero_y + 42 ), @$episde_icd[0]->icd9_name);

        

        $this->fpdf->SetFont('Arial','',$__FONT['PDF']['FORM_SMALL']);
        $this->fpdf->Text(( $cero_x + 240),( $cero_y + 42 ),"Date: ");

        

        $this->fpdf->SetFont('Arial','B',$__FONT['PDF']['FORM_SMALL']); 
        $this->fpdf->Text(( $cero_x + 288),( $cero_y + 42 ), (!is_null(@$episde_icd[0]->icd_date) ? standard_date(mysql_to_unix(@$episde_icd[0]->icd_date)) : ""));

        

        $this->fpdf->SetFont('Arial','',$__FONT['PDF']['FORM_SMALL']);
        $this->fpdf->Text(( $cero_x + 0),( $cero_y + 52 ),"Second Dx: ");              



        $this->fpdf->SetFont('Arial','B',$__FONT['PDF']['FORM_SMALL']);
        $this->fpdf->Text(( $cero_x + 60),( $cero_y + 52 ), @$episde_icd[1]->icd9_name);



        $this->fpdf->SetFont('Arial','',$__FONT['PDF']['FORM_SMALL']);
        $this->fpdf->Text(( $cero_x + 240),( $cero_y + 52 ),"Date: ");



        $this->fpdf->SetFont('Arial','B',$__FONT['PDF']['FORM_SMALL']);
        $this->fpdf->Text(( $cero_x + 288),( $cero_y + 52 ), (!is_null(@$episde_icd[1]->icd_date) ? standard_date(mysql_to_unix(@$episde_icd[1]->icd_date)) : ""));

        



        // start and end soc date

        $this->fpdf->SetFont('Arial','',$__FONT['PDF']['FORM_SMALL']);
        $this->fpdf->Text(( $cero_x + 380),( $cero_y + 52 ),"From: ");

        

        $this->fpdf->SetFont('Arial','B',$__FONT['PDF']['FORM_SMALL']);                                
        $this->fpdf->Text(( $cero_x + 415),( $cero_y + 52 ), standard_date(mysql_to_unix($visit_log->episode_start_date)));





        $this->fpdf->SetFont('Arial','',$__FONT['PDF']['FORM_SMALL']);
        $this->fpdf->Text(( $cero_x + 473),( $cero_y + 52 ),"To: ");



        $this->fpdf->SetFont('Arial','B',$__FONT['PDF']['FORM_SMALL']);
        $this->fpdf->Text(( $cero_x + 518),( $cero_y + 52 ), standard_date(mysql_to_unix($visit_log->episode_end_date)));

        

        

        if ($visit_log->episode_start_date == $visit_log->estimated_soc_date)     {

            $this->fpdf->Text(( $cero_x + 480),( $cero_y + 42 ),"   Certification");

        } else {

            $this->fpdf->Text(( $cero_x + 495),( $cero_y + 42 ),"   Recertif.");

        }



        $this->fpdf->Rect(( $cero_x + 473),($cero_y + 33.5), 8.4, 8.4);

        $this->fpdf->Image( $path_ticket,( $cero_x + 474 ),($cero_y + 34.5),6);





        $this->fpdf->SetFont('Arial','',$__FONT['PDF']['FORM_SMALL']);

        $this->fpdf->Text(( $cero_x + 0),( $cero_y + 62 ),"Physician: ");



		$this->fpdf->SetFont('Arial','B',$__FONT['PDF']['FORM_arial8']);

		$this->fpdf->Text(( $cero_x + 60),($cero_y + 62 ), @$phys_user_id->complete_name);



		$this->fpdf->SetFont('Arial','',$__FONT['PDF']['FORM_SMALL']);

        $this->fpdf->Text(( $cero_x + 240),( $cero_y + 62 ), "Clinician:");

        

        $this->fpdf->SetFont('Arial','B',$__FONT['PDF']['FORM_arial8']);

        $this->fpdf->Text(( $cero_x + 288),(  $cero_y + 62 ), $visit_log->first_name . " " .  $visit_log->last_name);

        

        $this->fpdf->SetFont('Arial','',$__FONT['PDF']['FORM_SMALL']);

        

        $this->fpdf->SetFont('Arial','',$__FONT['PDF']['FORM_SMALL']);

        $this->fpdf->Text(( $cero_x + 380),( $cero_y + 62 ), "Time In: ");

		$this->fpdf->SetFont('Arial','B',$__FONT['PDF']['FORM_SMALL']);

		$this->fpdf->Text(( $cero_x + 416),( $cero_y + 62 ), standard_date(mysql_to_unix($visit_log->visited_date . " " . $visit_log->visited_time_in), 'USA_TIME_C'));

        

		$this->fpdf->SetFont('Arial','',$__FONT['PDF']['FORM_SMALL']);

        $this->fpdf->Text(( $cero_x + 473),( $cero_y + 62 ), "Time Out: ");

		$this->fpdf->SetFont('Arial','B',$__FONT['PDF']['FORM_SMALL']);

		$this->fpdf->Text(( $cero_x + 518),( $cero_y + 62 ), standard_date(mysql_to_unix($visit_log->visited_date . " " . $visit_log->visited_time_out), 'USA_TIME_C'));

		$this->fpdf->SetFont('Arial','',$__FONT['PDF']['FORM_SMALL']);

        

        

        $cero_y =$cero_y+5;

        $this->fpdf->SetLineWidth( 0.5 );

        $this->fpdf->Line(8, 85, 584, 85);

        

        

        $this->fpdf->SetFont('Arial','B',$__FONT['PDF']['SIZE']);

        $this->fpdf->Text(11, 95, "Pain Assessment");

        

        $this->fpdf->SetFont('Arial','',$__FONT['PDF']['SIZE']);

        

        $this->fpdf->Rect(128, 87, 8.4, 8.4);

        $this->fpdf->Text(140, 95, "No pain");

        if (@$snpn->PaNPain == 1) {

            $this->fpdf->Image( $path_ticket, 129, 88,6);

        }

        

        $this->fpdf->Text(225, 95, "Intensity:");

        

        $item=280;

        foreach ($tab_30 as $pain_id => $pain) {

	        

	        $this->fpdf->Text($item, 95, $pain);

			$pdf->Rect(($item - 11), 87, 8.4, 8.4);

			

            if ($pain_id == @@$snpn->tab_30_intensity) {

            	$pdf->Image($path_ticket, ($item - 10), 88, 6);

            }

			

			$item=$item+25;

			

        }

        

        $this->fpdf->Text(11, 105, "Location:");

		

		$this->fpdf->SetFont('Courier','B',$__FONT['PDF']['FORM_MEDIUM']);

		$this->fpdf->Text(50, 105, @$snpn->PaLocation);

		

		

		$this->fpdf->SetFont('Arial','',$__FONT['PDF']['SIZE']);

		$this->fpdf->Text(11, 115, "Duration:");

		

		$this->fpdf->SetFont('Courier','B',$__FONT['PDF']['FORM_MEDIUM']);

		$this->fpdf->Text(50, 115, @$snpn->PaDuration);

		

		$this->fpdf->SetFont('Arial','',$__FONT['PDF']['SIZE']);

		$this->fpdf->Text(11, 125, "Current pain medication:");

		

		$this->fpdf->SetXY(8, 129);

        $this->fpdf->SetFont('Courier','B',$__FONT['PDF']['FORM_MEDIUM']);

        $this->fpdf->MultiCell(578, 10, substr(@$snpn->PaMedication, 0, 190));







		$this->fpdf->Line(8, 155, 584, 155);

		

		$this->fpdf->Line(395, 155, 395, 247);



		$this->fpdf->Image( $path_img1, 420, 158, 150);



		$this->fpdf->SetFont('Arial','',$__FONT['PDF']['SIZE']);

        

		$this->fpdf->Text(11, 165, "Stage I: Non-blanchable erythema if intact skin; healing of skin ulceration");

				

		$this->fpdf->Line(8, 168, 395, 168);

		        

		$this->fpdf->Text(11, 178, "Stage II: Partial thickness skin loss involving epidermis and/or dermis. The ulcer is superficial");

		$this->fpdf->Text(11, 188, "and presents as an abrasion, blister or shallow crater.");

		

		

		$this->fpdf->Line(8, 191, 395, 191);

		        

		$this->fpdf->Text(11, 201, "Stage III: Full-thickness skin loss involving damage or necrosis of subcutaneous tissue,");

		$this->fpdf->Text(11, 211, "which may extend down to, but not through, underlying fascia. The ulcer presents as");

		$this->fpdf->Text(11, 221, "a deep crater w/ or w/o undermining adjacent tissue.");

		

		

		$this->fpdf->Line(8, 224, 395, 224);

		        

		$this->fpdf->Text(11, 234, "Stage IV: Full-thickness skin loss with extensive destruction, tissue necrosis, or damage to");

		$this->fpdf->Text(11, 244, "muscle, bone or supporting structures (e.g., tendon, joint capsule, etc)");

		



		$this->fpdf->Line(8, 247, 584, 247);

		

		

        $this->fpdf->SetFont('Arial','B',$__FONT['PDF']['SIZE']);

        $this->fpdf->Text(11, 257, "WOUND SITE 1: ");

        

        $this->fpdf->SetFont('Courier','B',$__FONT['PDF']['FORM_MEDIUM']);

        $this->fpdf->Text(85, 257, @$snpn->WS1Site1);

        

        $this->fpdf->SetFont('Arial','',$__FONT['PDF']['SIZE']);

        $this->fpdf->Text(11, 267, "Length:");

		$this->fpdf->Text(210, 267, "Width:");

		

		$this->fpdf->SetFont('Courier','B',$__FONT['PDF']['FORM_MEDIUM']);

		$this->fpdf->Text(70, 267, @$snpn->WS1Length);

		$this->fpdf->Text(240, 267, @$snpn->WS1Width);

        

        $this->fpdf->SetFont('Arial','',$__FONT['PDF']['SIZE']);

        $this->fpdf->Text(11, 277, "Undermining:");

		$this->fpdf->Text(210, 277, "Depth:");

		$this->fpdf->Text(400, 277, "Tunneling:");

		

		$this->fpdf->SetFont('Courier','B',$__FONT['PDF']['FORM_MEDIUM']);

		$this->fpdf->Text(70, 277, @$snpn->WS1Under);

		$this->fpdf->Text(240, 277, @$snpn->WS1Depth);

		$this->fpdf->Text(445, 277, @$snpn->WS1Tunnel);

		

		

		$this->fpdf->Line(8, 280, 584, 280);

		

		$this->fpdf->Line(304, 280, 304, 349);



		

        $this->fpdf->SetFont('Arial','B',$__FONT['PDF']['SIZE']);

        $this->fpdf->Text(11, 289, "Drainage");

        $this->fpdf->SetFont('Arial','',$__FONT['PDF']['SIZE']);

		

        $this->fpdf->Rect(11, 292, 8.4, 8.4);

        $this->fpdf->Text(23, 300, "Serous");

        if (@$snpn->WS1DrainSerous == 1) {

            $this->fpdf->Image( $path_ticket, 12, 293,6);

        }

        

        $this->fpdf->Rect(85, 292, 8.4, 8.4);

        $this->fpdf->Text(97, 300, "Serosang");

        if (@$snpn->WS1DrainSerosang == 1) {

            $this->fpdf->Image( $path_ticket, 86, 293,6);

        }

        

        $this->fpdf->Rect(160, 292, 8.4, 8.4);

        $this->fpdf->Text(172, 300, "Purulent");

        if (@$snpn->WS1DrainPurulent == 1) {

            $this->fpdf->Image( $path_ticket, 161, 293,6);

        }

        

        

        $this->fpdf->Line(8, 303, 584, 303);



		$this->fpdf->SetFont('Arial','B',$__FONT['PDF']['SIZE']);

		$this->fpdf->Text(11, 312, "Wound Bed Appearance");

		$this->fpdf->SetFont('Arial','',$__FONT['PDF']['SIZE']);

		

        $this->fpdf->Rect(11, 315, 8.4, 8.4);

        $this->fpdf->Text(23, 323, "Granulation");

        if (@$snpn->WS1WoBeApGranul == 1) {

            $this->fpdf->Image( $path_ticket, 12, 316,6);

        }



        $this->fpdf->Rect(85, 315, 8.4, 8.4);

        $this->fpdf->Text(97, 323, "Slough");

        if (@$snpn->WS1WoBeApSlough == 1) {

            $this->fpdf->Image( $path_ticket, 86, 316, 6);

        }

        

        $this->fpdf->Rect(160, 315, 8.4, 8.4);

        $this->fpdf->Text(172, 323, "Eschar");

        if (@$snpn->WS1WoBeApEschar == 1) {

            $this->fpdf->Image( $path_ticket, 161, 316,6);

        }

        

        $this->fpdf->Rect(230, 315, 8.4, 8.4);

        $this->fpdf->Text(242, 323, "Fibrotic");

        if (@$snpn->WS1WoBeApFibrotic == 1) {

            $this->fpdf->Image( $path_ticket, 231, 316,6);

        }

        

        

        $this->fpdf->Line(8, 326, 584, 326);

        

        $this->fpdf->SetFont('Arial','B',$__FONT['PDF']['SIZE']);

        $this->fpdf->Text(11, 335, "Surrounding Tissue");

        $this->fpdf->SetFont('Arial','',$__FONT['PDF']['SIZE']);

		

        $this->fpdf->Rect(11, 338, 8.4, 8.4);

        $this->fpdf->Text(23, 346, "Erythema");

        if (@$snpn->WS1SuTiErythema == 1) {

            $this->fpdf->Image( $path_ticket, 12, 339,6);

        }



        $this->fpdf->Rect(85, 338, 8.4, 8.4);

        $this->fpdf->Text(97, 346, "Maceration");

        if (@$snpn->WS1SuTiMaceration == 1) {

            $this->fpdf->Image( $path_ticket, 86, 339, 6);

        }

                

        $this->fpdf->Line(8, 349, 584, 349);

        

		$this->fpdf->SetFont('Arial','B',$__FONT['PDF']['SIZE']);

        $this->fpdf->Text(11, 358, "Signs/Symptoms of Infection");

        $this->fpdf->SetFont('Arial','',$__FONT['PDF']['SIZE']);

		

        $this->fpdf->Rect(11, 361, 8.4, 8.4);

        $this->fpdf->Text(23, 369, "Fever");

        if (@$snpn->WS1SignInfectFever == 1) {

            $this->fpdf->Image( $path_ticket, 12, 362,6);

        }

        

        $this->fpdf->Rect(85, 361, 8.4, 8.4);

        $this->fpdf->Text(97, 369, "Redness");

        if (@$snpn->WS1SignInfectRedness == 1) {

            $this->fpdf->Image( $path_ticket, 86, 362, 6);

        }

        

        $this->fpdf->Rect(160, 361, 8.4, 8.4);

        $this->fpdf->Text(172, 369, "Swelling");

        if (@$snpn->WS1SignInfectSwelling == 1) {

            $this->fpdf->Image( $path_ticket, 161, 362,6);

        }

        

        $this->fpdf->Rect(230, 361, 8.4, 8.4);

        $this->fpdf->Text(242, 369, "Warmth");

        if (@$snpn->WS1SignInfectWarmth == 1) {

            $this->fpdf->Image( $path_ticket, 231, 362,6);

        }

        

        $this->fpdf->Rect(300, 361, 8.4, 8.4);

        $this->fpdf->Text(312, 369, "Other");

        if (@$snpn->WS1SignInfectOther == 1) {

            $this->fpdf->Image( $path_ticket, 301, 362,6);

        }



        $this->fpdf->Rect(370, 361, 8.4, 8.4);

        $this->fpdf->Text(382, 369, "N/A");

        if (@$snpn->WS1SignInfectNA == 1) {

            $this->fpdf->Image( $path_ticket, 371, 362,6);

        }

        

        

        $this->fpdf->Line(8, 372, 584, 372);



		$this->fpdf->SetFont('Arial','B',$__FONT['PDF']['SIZE']);

		$this->fpdf->Text(312, 289, "Amount");

		$this->fpdf->SetFont('Arial','',$__FONT['PDF']['SIZE']);

		

        $this->fpdf->Rect(312, 292, 8.4, 8.4);

        $this->fpdf->Text(324, 300, "Small");

        if (@$snpn->WS1AmtSmall == 1) {

            $this->fpdf->Image( $path_ticket, 313, 293,6);

        }

        

        $this->fpdf->Rect(385, 292, 8.4, 8.4);

        $this->fpdf->Text(397, 300, "Moderate");

        if (@$snpn->WS1AmtMod == 1) {

            $this->fpdf->Image( $path_ticket, 386, 293,6);

        }

        

        $this->fpdf->Rect(460, 292, 8.4, 8.4);

        $this->fpdf->Text(472, 300, "Large");

        if (@$snpn->WS1AmtLarge == 1) {

            $this->fpdf->Image( $path_ticket, 461, 293,6);

        }



		$this->fpdf->SetFont('Arial','B',$__FONT['PDF']['SIZE']);

		$this->fpdf->Text(312, 312, "Odor");

		$this->fpdf->SetFont('Arial','',$__FONT['PDF']['SIZE']);

		

        $this->fpdf->Rect(312, 315, 8.4, 8.4);

        $this->fpdf->Text(324, 323, "None");

        if (@$snpn->WS1OdorNone == 1) {

            $this->fpdf->Image( $path_ticket, 313, 316,6);

        }

        

        $this->fpdf->Rect(385, 315, 8.4, 8.4);

        $this->fpdf->Text(397, 323, "Mild");

        if (@$snpn->WS1OdorMild == 1) {

            $this->fpdf->Image( $path_ticket, 386, 316,6);

        }

        

        $this->fpdf->Rect(460, 315, 8.4, 8.4);

        $this->fpdf->Text(472, 323, "Foul");

        if (@$snpn->WS1OdorFoul == 1) {

            $this->fpdf->Image( $path_ticket, 461, 316,6);

        }

        

        $this->fpdf->SetFont('Arial','B',$__FONT['PDF']['SIZE']);

        $this->fpdf->Text(11, 381, "Treatment");

        $this->fpdf->SetFont('Arial','',$__FONT['PDF']['SIZE']);

		

        $this->fpdf->Text(11, 391, "1) Cleanse with");

        $this->fpdf->Text(11, 401, "2) Pat Dry with");

        $this->fpdf->Text(11, 411, "3) Apply");

        $this->fpdf->Text(11, 421, "4) Cover with");

        $this->fpdf->Text(11, 431, "5) Secure with");

        $this->fpdf->Text(11, 441, "Comments");



		$this->fpdf->SetFont('Courier','B',$__FONT['PDF']['FORM_MEDIUM']);

		$this->fpdf->Text(80, 391, @$snpn->WS1TreatCleanse);

		$this->fpdf->Text(80, 401, @$snpn->WS1TreatPatDry);

		$this->fpdf->Text(80, 411, @$snpn->WS1TreatApply);

		$this->fpdf->Text(80, 421, @$snpn->WS1TreatCover);

		$this->fpdf->Text(80, 431, @$snpn->WS1TreatSecure);

		

		$this->fpdf->SetFont('Courier','B',$__FONT['PDF']['FORM_MEDIUM']);

		

		$this->fpdf->Line(8, 392, 584, 392);

		$this->fpdf->Line(8, 402, 584, 402);

		$this->fpdf->Line(8, 412, 584, 412);

		$this->fpdf->Line(8, 422, 584, 422);

		$this->fpdf->Line(8, 432, 584, 432);

		$this->fpdf->Line(77, 442, 580, 442);

				

		$this->fpdf->SetXY(77, 433);

		$this->fpdf->MultiCell(498, 10, substr(@$snpn->WS1TreatComments, 0, 162));

		

		

		$this->fpdf->Line(8, 456, 584, 456);

		

		

        $this->fpdf->SetFont('Arial','B',$__FONT['PDF']['SIZE']);

        $this->fpdf->Text(11, 466, "WOUND SITE 2:");

        

        $this->fpdf->SetFont('Courier','B',$__FONT['PDF']['FORM_MEDIUM']);

        $this->fpdf->Text(85, 466, @$snpn->WS2Site2);

        

        $this->fpdf->SetFont('Arial','',$__FONT['PDF']['SIZE']);

        $this->fpdf->Text(11, 476, "Length:");

		$this->fpdf->Text(210, 476, "Width:");

		

		$this->fpdf->SetFont('Courier','B',$__FONT['PDF']['FORM_MEDIUM']);

		$this->fpdf->Text(70, 476, @$snpn->WS2Length);

		$this->fpdf->Text(240, 476, @$snpn->WS2Width);

		

        $this->fpdf->SetFont('Arial','',$__FONT['PDF']['SIZE']);

        $this->fpdf->Text(11, 486, "Undermining:");

		$this->fpdf->Text(210, 486, "Depth:");

		$this->fpdf->Text(400, 486, "Tunneling:");

		

		$this->fpdf->SetFont('Courier','B',$__FONT['PDF']['FORM_MEDIUM']);

		$this->fpdf->Text(70, 486, @$snpn->WS2Under);

		$this->fpdf->Text(240, 486, @$snpn->WS2Depth);

		$this->fpdf->Text(445, 486, @$snpn->WS2Tunnel);





		$this->fpdf->Line(8, 489, 584, 489);

		

		$this->fpdf->Line(304, 489, 304, 558);





        $this->fpdf->SetFont('Arial','B',$__FONT['PDF']['SIZE']);

        $this->fpdf->Text(11, 498, "Drainage");

        $this->fpdf->SetFont('Arial','',$__FONT['PDF']['SIZE']);

		

        $this->fpdf->Rect(11, 501, 8.4, 8.4);

        $this->fpdf->Text(23, 509, "Serous");

        if (@$snpn->WS2DrainSerous == 1) {

            $this->fpdf->Image( $path_ticket, 12, 502,6);

        }

        

        $this->fpdf->Rect(85, 501, 8.4, 8.4);

        $this->fpdf->Text(97, 509, "Serosang");

        if (@$snpn->WS2DrainSerosang == 1) {

            $this->fpdf->Image( $path_ticket, 86, 502,6);

        }

        

        $this->fpdf->Rect(160, 501, 8.4, 8.4);

        $this->fpdf->Text(172, 509, "Purulent");

        if (@$snpn->WS2DrainPurulent == 1) {

            $this->fpdf->Image( $path_ticket, 161, 502,6);

        }





		$this->fpdf->Line(8, 512, 584, 512);



		$this->fpdf->SetFont('Arial','B',$__FONT['PDF']['SIZE']);

		$this->fpdf->Text(11, 521, "Wound Bed Appearance");

		$this->fpdf->SetFont('Arial','',$__FONT['PDF']['SIZE']);

		

        $this->fpdf->Rect(11, 524, 8.4, 8.4);

        $this->fpdf->Text(23, 532, "Granulation");

        if (@$snpn->WS2WoBeApGranul == 1) {

            $this->fpdf->Image( $path_ticket, 12, 525,6);

        }



        $this->fpdf->Rect(85, 524, 8.4, 8.4);

        $this->fpdf->Text(97, 532, "Slough");

        if (@$snpn->WS2WoBeApSlough == 1) {

            $this->fpdf->Image( $path_ticket, 86, 525, 6);

        }

        

        $this->fpdf->Rect(160, 524, 8.4, 8.4);

        $this->fpdf->Text(172, 532, "Eschar");

        if (@$snpn->WS2WoBeApEschar == 1) {

            $this->fpdf->Image( $path_ticket, 161, 525,6);

        }

        

        $this->fpdf->Rect(230, 524, 8.4, 8.4);

        $this->fpdf->Text(242, 532, "Fibrotic");

        if (@$snpn->WS2WoBeApFibrotic == 1) {

            $this->fpdf->Image( $path_ticket, 231, 525,6);

        }





        $this->fpdf->Line(8, 535, 584, 535);

        

        $this->fpdf->SetFont('Arial','B',$__FONT['PDF']['SIZE']);
        $this->fpdf->Text(11, 544, "Surrounding Tissue");
        $this->fpdf->SetFont('Arial','',$__FONT['PDF']['SIZE']);
        $this->fpdf->Rect(11, 547, 8.4, 8.4);
        $this->fpdf->Text(23, 555, "Erythema");
        if (@$snpn->WS2SuTiErythema == 1) {
            $this->fpdf->Image( $path_ticket, 12, 548,6);
        }
        $this->fpdf->Rect(85, 547, 8.4, 8.4);
        $this->fpdf->Text(97, 555, "Maceration");
        if (@$snpn->WS2SuTiMaceration == 1) {
            $this->fpdf->Image( $path_ticket, 86, 548, 6);
        }
        $this->fpdf->Line(8, 558, 584, 558);

      

        $this->fpdf->SetFont('Arial','B',$__FONT['PDF']['SIZE']);
        $this->fpdf->Text(11, 567, "Signs/Symptoms of Infection");
        $this->fpdf->SetFont('Arial','',$__FONT['PDF']['SIZE']);

		

        $this->fpdf->Rect(11, 570, 8.4, 8.4);

        $this->fpdf->Text(23, 578, "Fever");

        if (@$snpn->WS2SignInfectFever == 1) {

            $this->fpdf->Image( $path_ticket, 12, 571,6);

        }

        

        $this->fpdf->Rect(85, 570, 8.4, 8.4);

        $this->fpdf->Text(97, 578, "Redness");

        if (@$snpn->WS2SignInfectRedness == 1) {

            $this->fpdf->Image( $path_ticket, 86, 571, 6);

        }

        

        $this->fpdf->Rect(160, 570, 8.4, 8.4);

        $this->fpdf->Text(172, 578, "Swelling");

        if (@$snpn->WS2SignInfectSwelling == 1) {

            $this->fpdf->Image( $path_ticket, 161, 571,6);

        }

        

        $this->fpdf->Rect(230, 570, 8.4, 8.4);

        $this->fpdf->Text(242, 578, "Warmth");

        if (@$snpn->WS2SignInfectWarmth == 1) {

            $this->fpdf->Image( $path_ticket, 231, 571,6);

        }

        

        $this->fpdf->Rect(300, 570, 8.4, 8.4);

        $this->fpdf->Text(312, 578, "Other");

        if (@$snpn->WS2SignInfectOther == 1) {

            $this->fpdf->Image( $path_ticket, 301, 571,6);

        }



        $this->fpdf->Rect(370, 570, 8.4, 8.4);

        $this->fpdf->Text(382, 578, "N/A");

        if (@$snpn->WS2SignInfectNA == 1) {

            $this->fpdf->Image( $path_ticket, 371, 571,6);

        }

        

        

        $this->fpdf->Line(8, 581, 584, 581);



		$this->fpdf->SetFont('Arial','B',$__FONT['PDF']['SIZE']);

		$this->fpdf->Text(312, 498, "Amount");

		$this->fpdf->SetFont('Arial','',$__FONT['PDF']['SIZE']);

		

        $this->fpdf->Rect(312, 501, 8.4, 8.4);

        $this->fpdf->Text(324, 509, "Small");

        if (@$snpn->WS2AmtSmall == 1) {

            $this->fpdf->Image( $path_ticket, 313, 502,6);

        }

        

        $this->fpdf->Rect(385, 501, 8.4, 8.4);

        $this->fpdf->Text(397, 509, "Moderate");

        if (@$snpn->WS2AmtMod == 1) {

            $this->fpdf->Image( $path_ticket, 386, 502,6);

        }

        

        $this->fpdf->Rect(460, 501, 8.4, 8.4);

        $this->fpdf->Text(472, 509, "Large");

        if (@$snpn->WS2AmtLarge == 1) {

            $this->fpdf->Image( $path_ticket, 461, 502,6);

        }

        

        $this->fpdf->SetFont('Arial','B',$__FONT['PDF']['SIZE']);

		$this->fpdf->Text(312, 521, "Odor");

		$this->fpdf->SetFont('Arial','',$__FONT['PDF']['SIZE']);

		

        $this->fpdf->Rect(312, 524, 8.4, 8.4);

        $this->fpdf->Text(324, 532, "None");

        if (@$snpn->WS2OdorNone == 1) {

            $this->fpdf->Image( $path_ticket, 313, 525,6);

        }

        

        $this->fpdf->Rect(385, 524, 8.4, 8.4);

        $this->fpdf->Text(397, 532, "Mild");

        if (@$snpn->WS2OdorMild == 1) {

            $this->fpdf->Image( $path_ticket, 386, 525,6);

        }

        

        $this->fpdf->Rect(460, 524, 8.4, 8.4);

        $this->fpdf->Text(472, 532, "Foul");

        if (@$snpn->WS2OdorFoul == 1) {

            $this->fpdf->Image( $path_ticket, 461, 525,6);

        }

        

        $this->fpdf->SetFont('Arial','B',$__FONT['PDF']['SIZE']);

        $this->fpdf->Text(11, 590, "Treatment");

        $this->fpdf->SetFont('Arial','',$__FONT['PDF']['SIZE']);

		

        $this->fpdf->Text(11, 600, "1) Cleanse with");

        $this->fpdf->Text(11, 610, "2) Pat Dry with");

        $this->fpdf->Text(11, 620, "3) Apply");

        $this->fpdf->Text(11, 630, "4) Cover with");

        $this->fpdf->Text(11, 640, "5) Secure with");

        $this->fpdf->Text(11, 650, "Comments");



		$this->fpdf->SetFont('Courier','B',$__FONT['PDF']['FORM_MEDIUM']);

		$this->fpdf->Text(80, 600, @$snpn->WS2TreatCleanse);

		$this->fpdf->Text(80, 610, @$snpn->WS2TreatPatDry);

		$this->fpdf->Text(80, 620, @$snpn->WS2TreatApply);

		$this->fpdf->Text(80, 630, @$snpn->WS2TreatCover);

		$this->fpdf->Text(80, 640, @$snpn->WS2TreatSecure);

		

		$this->fpdf->SetFont('Courier','B',$__FONT['PDF']['FORM_MEDIUM']);

		$this->fpdf->SetXY(77, 642);

		$this->fpdf->MultiCell(498, 10, substr(@$snpn->WS2TreatComments, 0, 162));

		

		$this->fpdf->Line(8, 601, 584, 601);

		$this->fpdf->Line(8, 611, 584, 611);

		$this->fpdf->Line(8, 621, 584, 621);

		$this->fpdf->Line(8, 632, 584, 632);

		$this->fpdf->Line(8, 642, 584, 642);

		$this->fpdf->Line(77, 652, 580, 652);

		$this->fpdf->Line(8, 665, 584, 665);





        $this->fpdf->SetFont('Arial','B',$__FONT['PDF']['SIZE']);

        $this->fpdf->Text(11, 675, "Universal Precautions followed:");

        $this->fpdf->SetFont('Arial','',$__FONT['PDF']['SIZE']);

		

        $this->fpdf->Rect(149, 667, 8.4, 8.4);

        $this->fpdf->Text(160, 675, "Handwashing");

        if (@$snpn->UPFollowHandwash == 1) {

            $this->fpdf->Image( $path_ticket, 150, 668,6);

        }

        

        $this->fpdf->Rect(219, 667, 8.4, 8.4);

        $this->fpdf->Text(231, 675, "Gloves Worn");

        if (@$snpn->UPFollowGloveWorn == 1) {

            $this->fpdf->Image( $path_ticket, 220, 668,6);

        }

        

        $this->fpdf->Rect(287, 667, 8.4, 8.4);

        $this->fpdf->Text(299, 675, "Sharps Disposal");

        if (@$snpn->UPFollowGloveWorn == 1) {

            $this->fpdf->Image( $path_ticket, 288, 668,6);

        }

        

        $this->fpdf->Rect(370, 667, 8.4, 8.4);

		        $this->fpdf->Text(381, 675, "Other:");

        if (@$snpn->UPFollowOther != '') {

            $this->fpdf->Image( $path_ticket, 371, 668,6);

        }       

	

		$this->fpdf->SetFont('Courier','B',$__FONT['PDF']['FORM_MEDIUM']);

		$this->fpdf->Text(405, 675, @$snpn->UPFollowOther);





		$this->fpdf->SetFont('Arial','B',$__FONT['PDF']['SIZE']);

		$this->fpdf->Text(11, 685, "Homebound Status:");

		$this->fpdf->SetFont('Arial','',$__FONT['PDF']['SIZE']);

		

		$this->fpdf->SetFont('Courier','B',$__FONT['PDF']['FORM_MEDIUM']);

		$this->fpdf->Text(100, 685, @$snpn->HoBoStatusText);



		$this->fpdf->SetFont('Arial','',$__FONT['PDF']['SIZE']);

        $this->fpdf->Rect(11, 687, 8.4, 8.4);

        $this->fpdf->Text(23, 695, "Taxing effort to leave home");

        if (@$snpn->HoBoTaxing == 1) {

            $this->fpdf->Image( $path_ticket, 12, 688,6);

        }

        

        $this->fpdf->Rect(140, 687, 8.4, 8.4);

        $this->fpdf->Text(152, 695, "Need assistance poor endurance");

        if (@$snpn->HoBoNeedAssist == 1) {

            $this->fpdf->Image( $path_ticket, 141, 688,6);

        }

        

        $this->fpdf->Rect(290, 687, 8.4, 8.4);

        $this->fpdf->Text(302, 695, "Open/draining wound");

        if (@$snpn->HoBoNeedAssist == 1) {

            $this->fpdf->Image( $path_ticket, 291, 688,6);

        }

        

        $this->fpdf->Rect(395, 687, 8.4, 8.4);

        $this->fpdf->Text(407, 695, "Other:");

        if (@$snpn->HoBoOther != '') {

            $this->fpdf->Image( $path_ticket, 396, 688,6);

        }





		$this->fpdf->SetFont('Courier','B',$__FONT['PDF']['FORM_MEDIUM']);

		$this->fpdf->Text(435, 695, @$snpn->HoBoOther);





		$this->fpdf->Line(8, 698, 584, 698);

		

		$this->fpdf->SetFont('Arial','B',$__FONT['PDF']['SIZE']);

        $this->fpdf->Text(11, 708, "Coordination of Care:");

        

		$this->fpdf->SetFont('Arial','',$__FONT['PDF']['SIZE']);

        $this->fpdf->Rect(105, 700, 8.4, 8.4);

        $this->fpdf->Text(117, 708, "PT");

        if (@$snpn->CoorCarePT == 1) {

            $this->fpdf->Image( $path_ticket, 106, 701,6);

        }

        

        $this->fpdf->Rect(135, 700, 8.4, 8.4);

        $this->fpdf->Text(147, 708, "CG");

        if (@$snpn->CoorCareCG == 1) {

            $this->fpdf->Image( $path_ticket, 136, 701,6);

        }

        

        $this->fpdf->Rect(165, 700, 8.4, 8.4);

        $this->fpdf->Text(177, 708, "RN");

        if (@$snpn->CoorCareRN == 1) {

            $this->fpdf->Image( $path_ticket, 166, 701,6);

        }

        

        $this->fpdf->Rect(195, 700, 8.4, 8.4);

        $this->fpdf->Text(207, 708, "LVN");

        if (@$snpn->CoorCareLVN == 1) {

            $this->fpdf->Image( $path_ticket, 196, 701,6);

        }

        

        $this->fpdf->Rect(230, 700, 8.4, 8.4);

        $this->fpdf->Text(242, 708, "HHA");

        if (@$snpn->CoorCareHHA == 1) {

            $this->fpdf->Image( $path_ticket, 231, 701,6);

        }

        

        $this->fpdf->Rect(265, 700, 8.4, 8.4);

        $this->fpdf->Text(277, 708, "OT");

        if (@$snpn->CoorCareOT == 1) {

            $this->fpdf->Image( $path_ticket, 266, 701,6);

        }

        

        $this->fpdf->Rect(295, 700, 8.4, 8.4);

        $this->fpdf->Text(307, 708, "ST");

        if (@$snpn->CoorCareST == 1) {

            $this->fpdf->Image( $path_ticket, 296, 701,6);

        }

        

        $this->fpdf->Rect(325, 700, 8.4, 8.4);

        $this->fpdf->Text(337, 708, "MSW");

        if (@$snpn->CoorCareMSW == 1) {

            $this->fpdf->Image( $path_ticket, 326, 701,6);

        }

        

		$this->fpdf->SetFont('Arial','',$__FONT['PDF']['SIZE']);

        $this->fpdf->Text(363, 708, "Discussion:");

        

        $this->fpdf->SetFont('Courier','B',$__FONT['PDF']['FORM_MEDIUM']);

        $this->fpdf->Text(405, 708, @$snpn->CoorCareDiscuss);

        

        

        $this->fpdf->SetFont('Arial','B',$__FONT['PDF']['SIZE']);

        $this->fpdf->Text(11, 718, "Physician contact:");

        $this->fpdf->SetFont('Arial','',$__FONT['PDF']['SIZE']);

		

        $this->fpdf->Rect(105, 710, 8.4, 8.4);

        $this->fpdf->Text(117, 718, "N/A");

        if (@$snpn->PhyContactNA == 1) {

            $this->fpdf->Image( $path_ticket, 106, 711,6);

        }

        

        $this->fpdf->Rect(165, 710, 8.4, 8.4);

        $this->fpdf->Text(177, 718, "Yes");

        if (@$snpn->PhyContactYes == 1) {

            $this->fpdf->Image( $path_ticket, 166, 711,6);

        }

        

        $this->fpdf->Text(205, 718, "Discussion:");

        

        $this->fpdf->SetFont('Courier','B',$__FONT['PDF']['FORM_MEDIUM']);

        $this->fpdf->Text(255, 718, @$snpn->PhyContactDiscuss);

        

        

        $this->fpdf->Line(8, 721, 584, 721);

        

        

        $this->fpdf->SetFont('Arial','B',$__FONT['PDF']['SIZE']);

        $this->fpdf->Text(11, 731, "Discharge Planning");

		$this->fpdf->SetFont('Arial','',$__FONT['PDF']['SIZE']);

        

        $this->fpdf->Rect(11, 733, 8.4, 8.4);

        $this->fpdf->Text(23, 741, "Discharge when goals are met and skilled intervention is no longer needed");

        if (@$snpn->DisWhenGoals == 1) {

            $this->fpdf->Image( $path_ticket, 12, 734,6);

        }

        

        $this->fpdf->Rect(350, 733, 8.4, 8.4);

        $this->fpdf->Text(362, 741, "5-day discharge notice given to patient/physician");

        if (@$snpn->FiveDayNotice == 1) {

            $this->fpdf->Image( $path_ticket, 351, 734,6);

        }

        

        $this->fpdf->Line(8, 744, 584, 744);

        

        $this->fpdf->Line(332, 744, 332, 810);

        

        

        $this->fpdf->SetFont('Arial','B',$__FONT['PDF']['SIZE']);

        $this->fpdf->Text(11, 754, "LVN/HHA Supervision");

        

        $this->fpdf->SetFont('Arial','',$__FONT['PDF']['SIZE']);

        $this->fpdf->Rect(11, 756, 8.4, 8.4);

        $this->fpdf->Text(21, 764, "Patient/Caregiver satisfied with care");

        if (@$snpn->LVNSupPatSatisfied == 1) {

            $this->fpdf->Image( $path_ticket, 12, 757,6);

        }

        

        $this->fpdf->Rect(182, 756, 8.4, 8.4);

        $this->fpdf->Text(192, 764, "Change in ADL needs assessment");

        if (@$snpn->LVNSupChangeADL == 1) {

            $this->fpdf->Image( $path_ticket, 183, 757,6);

        }

        

        

        $this->fpdf->Rect(11, 766, 8.4, 8.4);

        $this->fpdf->Text(21, 774, "Care provided according to assignment");

        if (@$snpn->LVNSupCareProvAccor == 1) {

            $this->fpdf->Image( $path_ticket, 12, 767,6);

        }

        

        $this->fpdf->Rect(182, 766, 8.4, 8.4);

        $this->fpdf->Text(192, 774, "Employee courteous, respectful");

        if (@$snpn->LVNSupEmplCorteous == 1) {

            $this->fpdf->Image( $path_ticket, 183, 767,6);

        }

        

        

        $this->fpdf->Rect(11, 776, 8.4, 8.4);

        $this->fpdf->Text(21, 784, "Continue frequency at ____________");

        if (@$snpn->LVNSupContinueFreqAt == 1) {

            $this->fpdf->Image( $path_ticket, 12, 777,6);

        }

        $this->fpdf->SetFont('Courier','B',$__FONT['PDF']['FORM_MEDIUM']);

        $this->fpdf->Text(112, 784, @$snpn->LVNSupContinueFreqAtText);

        

        $this->fpdf->SetFont('Arial','',$__FONT['PDF']['SIZE']);

        $this->fpdf->Rect(182, 776, 8.4, 8.4);

        $this->fpdf->Text(192, 784, "Supervisory Visit Onsite");

        if (@$snpn->LVNSupVisitOnsite == 1) {

            $this->fpdf->Image( $path_ticket, 183, 777,6);

        }

        

        

        $this->fpdf->SetFont('Arial','B',$__FONT['PDF']['SIZE']);

        $this->fpdf->Text(335, 754, "Documentation of patient inability to perform wound care");





        $this->fpdf->SetFont('Arial','',$__FONT['PDF']['SIZE']);

        $this->fpdf->Rect(335, 756, 8.4, 8.4);

        $this->fpdf->Text(345, 764, "Patient's impaired functional ability to do wound care due to");

        if (@$snpn->DocPatInab == 1) {

            $this->fpdf->Image( $path_ticket, 336, 757,6);

        }

        



        $this->fpdf->Rect(335, 766, 8.4, 8.4);

        $this->fpdf->Text(345, 774, "poor vision");

        if (@$snpn->DocPatInabPoorVsion == 1) {

            $this->fpdf->Image( $path_ticket, 336, 767,6);

        }

        

        $this->fpdf->Rect(395, 766, 8.4, 8.4);

        $this->fpdf->Text(405, 774, "hand dexterity");

        if (@$snpn->DocPatInabPoorHandDex == 1) {

            $this->fpdf->Image( $path_ticket, 396, 767,6);

        }

        

        $this->fpdf->Rect(467, 766, 8.4, 8.4);

        $this->fpdf->Text(477, 774, "position of wound");

        if (@$snpn->DocPatInabPosWound == 1) {

            $this->fpdf->Image( $path_ticket, 468, 767,6);

        }

        

        

        $this->fpdf->Rect(335, 776, 8.4, 8.4);

        $this->fpdf->Text(345, 784, "The patient has impaired mental cognition");

        if (@$snpn->DocPatInabImpMentalCogn == 1) {

            $this->fpdf->Image( $path_ticket, 336, 777,6);

        }

        

        

        $this->fpdf->Rect(335, 786, 8.4, 8.4);

        $this->fpdf->Text(345, 794, "There's no able and willing caregiver to perform wound care");

        if (@$snpn->DocPatInabNoCaregiverPerf == 1) {

            $this->fpdf->Image( $path_ticket, 336, 787,6);

        }

        

        

        $this->fpdf->Text(11, 797, "Employee Name:");

        $this->fpdf->Text(85, 797, @$emp_name->complete_name);

        

        

        $this->fpdf->Rect(11, 799, 8.4, 8.4);

        $this->fpdf->Text(21, 807, "LVN");

        if (@$snpn->LVNLVN == 1) {

            $this->fpdf->Image( $path_ticket, 12, 800,6);

        }

        

        $this->fpdf->Rect(45, 799, 8.4, 8.4);

        $this->fpdf->Text(55, 807, "HHA");

        if (@$snpn->LVNHHA == 1) {

            $this->fpdf->Image( $path_ticket, 46, 800,6);

        }        





		$this->fpdf->Text(85, 807, "Instructed in:");

		

		$this->fpdf->SetFont('Courier','B',$__FONT['PDF']['FORM_MEDIUM']);

		$this->fpdf->Text(140, 807, @$snpn->LVNInstruc);

		

		

		$this->fpdf->Line(8, 810, 584, 810);





		$this->fpdf->SetFont('Arial','',$__FONT['PDF']['SIZE']);





		$this->fpdf->Text(50, 817, "Nurse Signature: ________________________________________ ");
		$this->fpdf->Text(370, 817, "Date:__________________");


		if ($visit_log->approve_date)
		{
			$this->fpdf->Text( 50 , 827, "Electronically signed by:__________________________________________________ Date_____________________________");
			$this->fpdf->SetFont('Courier','B',$__FONT['PDF']['FORM_MEDIUM']);
			$this->fpdf->Text(150,826, $visit_log -> first_name." ".$visit_log -> last_name);
			$this->fpdf->Text(423,826, standard_date(mysql_to_unix($visit_log->approve_date)));
		}


        if (strlen(@$snwa->WS3Site3)>0)
		{
			$cero_x = 11;
	
			$cero_y = 2;
	 
			####### PAGE 3 ###########
			$this->fpdf->AddPage();
	
			
	
			$this->fpdf->SetDrawColor(130,100);
		
			//$this->fpdf->Text(( $cero_x + 240),( $cero_y + 22 ),"WOUND ADDENDUM"); 		
			
			
			$this->fpdf->Rect(8,28, 577, 763);
			  
			$cero_y = 8;
	
			$this->fpdf->SetTextColor(0,0,0);
	
			$this->fpdf->SetFont('Arial','', $__FONT['PDF']['FORM_SMALL']);
	
			$this->fpdf->Text(( $cero_x + 0),( $cero_y + 32 ),"Patient Name: ");
	
			
	
			$this->fpdf->SetFont('Arial','B', $__FONT['PDF']['FORM_SMALL']);
	
			$this->fpdf->Text(( $cero_x + 60),( $cero_y + 32 ), $patient->first_name . " " . $patient->last_name); // pacient name
	
			
	
			$this->fpdf->SetFont('Arial','',$__FONT['PDF']['FORM_SMALL']);
	
			$this->fpdf->SetTextColor(0,0,0);
	
	
	
			$this->fpdf->SetDrawColor(130,100);
	
			$this->fpdf->Text(( $cero_x + 230),( $cero_y + 32 ),"Medical Rec#: ");
	
			
	
			$this->fpdf->SetFont('Arial','B',$__FONT['PDF']['FORM_SMALL']);
	
			$this->fpdf->Text(( $cero_x + 290),( $cero_y + 32 ),  $patient->medical_rec_nbr); // medicare id
	
			
					
			$this->fpdf->SetFont('Arial','',$__FONT['PDF']['FORM_SMALL']);
	
					$this->fpdf->Text(( $cero_x + 395 +20),( $cero_y + 32 ), "VISIT DATE: " . standard_date(mysql_to_unix($visit_log->visited_date)));
	
			$this->fpdf->Line(8, 45, 584, 45);
	
			
	
	
	
	
			####################################
			$a=-202;
	
			$this->fpdf->SetFont('Arial','B',$__FONT['PDF']['SIZE']);
			$this->fpdf->Text(11, 257+$a, "WOUND SITE 3: ");
			
			$this->fpdf->SetFont('Courier','B',$__FONT['PDF']['FORM_MEDIUM']);
			$this->fpdf->Text(85, 257+$a, @$snwa->WS3Site3);
			
			$this->fpdf->SetFont('Arial','',$__FONT['PDF']['SIZE']);
			$this->fpdf->Text(11, 267+$a, "Length:");
			$this->fpdf->Text(210, 267+$a, "Width:");
			
			$this->fpdf->SetFont('Courier','B',$__FONT['PDF']['FORM_MEDIUM']);
			$this->fpdf->Text(70, 267+$a, @$snwa->WS3Length);
			$this->fpdf->Text(240, 267+$a, @$snwa->WS3Width);
			
			$this->fpdf->SetFont('Arial','',$__FONT['PDF']['SIZE']);
			$this->fpdf->Text(11, 277+$a, "Undermining:");
			$this->fpdf->Text(210, 277+$a, "Depth:");
			$this->fpdf->Text(400, 277+$a, "Tunneling:");
	
			$this->fpdf->SetFont('Courier','B',$__FONT['PDF']['FORM_MEDIUM']);
			$this->fpdf->Text(70, 277+$a, @$snwa->WS3Under);
			$this->fpdf->Text(240, 277+$a, @$snwa->WS3Depth);
			$this->fpdf->Text(445, 277+$a, @$snwa->WS3Tunnel);
			
			
			$this->fpdf->Line(8, 280+$a, 584, 280+$a);
	//		
			$this->fpdf->Line(304, 280+$a, 304, 326+$a);
	//
	
			$this->fpdf->SetFont('Arial','B',$__FONT['PDF']['SIZE']);
			$this->fpdf->Text(11, 289+$a, "Drainage");
			$this->fpdf->SetFont('Arial','',$__FONT['PDF']['SIZE']);
			
			$this->fpdf->Rect(11, 292+$a, 8.4, 8.4);
			$this->fpdf->Text(23, 300+$a, "Serous");
			if (@$snwa->WS3DrainSerous == 1) {
				$this->fpdf->Image( $path_ticket, 12, 293+$a,6);
			}
			$this->fpdf->Rect(85, 292+$a, 8.4, 8.4);
			$this->fpdf->Text(97, 300+$a, "Serosang");
			if (@$snwa->WS3DrainSerosang == 1) {
				$this->fpdf->Image( $path_ticket, 86, 293+$a,6);
			}
		
			
			$this->fpdf->Rect(160, 292+$a, 8.4, 8.4);
			$this->fpdf->Text(172, 300+$a, "Purulent");
			if (@$snwa->WS3DrainPurulent == 1) {
				$this->fpdf->Image( $path_ticket, 161, 293+$a,6);
			}
			
		   /////////////////////////////////////  
	  
		   
			$this->fpdf->Line(8, 303+$a, 584, 303+$a);
	
			$this->fpdf->SetFont('Arial','B',$__FONT['PDF']['SIZE']);
			$this->fpdf->Text(11, 312+$a, "Wound Bed Appearance");
			$this->fpdf->SetFont('Arial','',$__FONT['PDF']['SIZE']);
			
			$this->fpdf->Rect(11, 315+$a, 8.4, 8.4);
			$this->fpdf->Text(23, 323+$a, "Granulation");
			if (@$snwa->WS3WoBeApGranul == 1) {
				$this->fpdf->Image( $path_ticket, 12, 316+$a,6);
			}
	
			$this->fpdf->Rect(85, 315+$a, 8.4, 8.4);
			$this->fpdf->Text(97, 323+$a, "Slough");
			if (@$snwa->WS3WoBeApSlough == 1) {
				$this->fpdf->Image( $path_ticket, 86, 316+$a, 6);
			}
			
			$this->fpdf->Rect(160, 315+$a, 8.4, 8.4);
			$this->fpdf->Text(172, 323+$a, "Eschar");
			if (@$snwa->WS3WoBeApEschar == 1) {
				$this->fpdf->Image( $path_ticket, 161, 316+$a,6);
			}
			
			$this->fpdf->Rect(230, 315+$a, 8.4, 8.4);
			$this->fpdf->Text(242, 323+$a, "Fibrotic");
			if (@$snwa->WS3WoBeApFibrotic == 1) {
				$this->fpdf->Image( $path_ticket, 231, 316+$a,6);
			}
			 
	 //		
			$this->fpdf->Line(145, 326+$a, 145, 349+$a);
	//	        
			$this->fpdf->Line(8, 326+$a, 584, 326+$a);
		
			$this->fpdf->SetFont('Arial','B',$__FONT['PDF']['SIZE']);
			$this->fpdf->Text(11, 335+$a, "Surrounding Tissue");
			$this->fpdf->SetFont('Arial','',$__FONT['PDF']['SIZE']);
			$this->fpdf->Rect(11, 338+$a, 8.4, 8.4);
			$this->fpdf->Text(23, 346+$a, "Erythema");
			if (@$snwa->WS3SuTiErythema == 1) {
				$this->fpdf->Image( $path_ticket, 12, 339+$a,6);
			}
			$this->fpdf->Rect(85, 338+$a, 8.4, 8.4);
			$this->fpdf->Text(97, 346+$a, "Maceration");
			if (@$snwa->WS3SuTiMaceration == 1) {
				$this->fpdf->Image( $path_ticket, 86, 339+$a, 6);
			}
				  
			$this->fpdf->Line(8, 349+$a, 584, 349+$a);
			
			$this->fpdf->SetFont('Arial','B',$__FONT['PDF']['SIZE']);
			$this->fpdf->Text(148, 335+$a, "Signs/Symptoms of Infection");
			$this->fpdf->SetFont('Arial','',$__FONT['PDF']['SIZE']);
			
			$this->fpdf->Rect(148, 338+$a, 8.4, 8.4);
			$this->fpdf->Text(160, 346+$a, "Fever");
			if (@$snwa->WS3SignInfectFever == 1) {
				$this->fpdf->Image( $path_ticket, 149, 339+$a,6);
			}
			
			$this->fpdf->Rect(200, 338+$a, 8.4, 8.4);
			$this->fpdf->Text(212, 346+$a, "Redness");
			if (@$snwa->WS3SignInfectRedness == 1) {
				$this->fpdf->Image( $path_ticket, 201, 339+$a, 6);
			}
			
			$this->fpdf->Rect(270, 338+$a, 8.4, 8.4);
			$this->fpdf->Text(282, 346+$a, "Swelling");
			if (@$snwa->WS3SignInfectSwelling == 1) {
				$this->fpdf->Image( $path_ticket, 271, 339+$a,6);
			}
			
			$this->fpdf->Rect(340, 338+$a, 8.4, 8.4);
			$this->fpdf->Text(352, 346+$a, "Warmth");
			if (@$snwa->WS3SignInfectWarmth == 1) {
				$this->fpdf->Image( $path_ticket, 341, 339+$a,6);
			}
			
			$this->fpdf->Rect(410, 338+$a, 8.4, 8.4);
			$this->fpdf->Text(422, 346+$a, "Other");
			if (@$snwa->WS3SignInfectOther == 1) {
				$this->fpdf->Image( $path_ticket, 411, 339+$a,6);
			}
	
			$this->fpdf->Rect(480, 338+$a, 8.4, 8.4);
			$this->fpdf->Text(492, 346+$a, "N/A");
			if (@$snwa->WS3SignInfectNA == 1) {
				$this->fpdf->Image( $path_ticket, 481, 339+$a,6);
			}
			
			 
			////$this->fpdf->Line(8, 372+$a, 584, 372+$a);
	  
			$this->fpdf->SetFont('Arial','B',$__FONT['PDF']['SIZE']);
			$this->fpdf->Text(312, 289+$a, "Amount");
			$this->fpdf->SetFont('Arial','',$__FONT['PDF']['SIZE']);
			
			$this->fpdf->Rect(312, 292+$a, 8.4, 8.4);
			$this->fpdf->Text(324, 300+$a, "Small");
			if (@$snwa->WS3AmtSmall == 1) {
				$this->fpdf->Image( $path_ticket, 313, 293+$a,6);
			}
			
			$this->fpdf->Rect(385, 292+$a, 8.4, 8.4);
			$this->fpdf->Text(397, 300+$a, "Moderate");
			if (@$snwa->WS3AmtMod == 1) {
				$this->fpdf->Image( $path_ticket, 386, 293+$a,6);
			}
			
			$this->fpdf->Rect(460, 292+$a, 8.4, 8.4);
			$this->fpdf->Text(472, 300+$a, "Large");
			if (@$snwa->WS3AmtLarge == 1) {
				$this->fpdf->Image( $path_ticket, 461, 293+$a,6);
			}
	
			$this->fpdf->SetFont('Arial','B',$__FONT['PDF']['SIZE']);
			$this->fpdf->Text(312, 312+$a, "Odor");
			$this->fpdf->SetFont('Arial','',$__FONT['PDF']['SIZE']);
			
			$this->fpdf->Rect(312, 315+$a, 8.4, 8.4);
			$this->fpdf->Text(324, 323+$a, "None");
			if (@$snwa->WS3OdorNone == 1) {
				$this->fpdf->Image( $path_ticket, 313, 316+$a,6);
			}
			
			$this->fpdf->Rect(385, 315+$a, 8.4, 8.4);
			$this->fpdf->Text(397, 323+$a, "Mild");
			if (@$snwa->WS3OdorMild == 1) {
				$this->fpdf->Image( $path_ticket, 386, 316+$a,6);
			}
			
			$this->fpdf->Rect(460, 315+$a, 8.4, 8.4);
			$this->fpdf->Text(472, 323+$a, "Foul");
			if (@$snwa->WS3OdorFoul == 1) {
				$this->fpdf->Image( $path_ticket, 461, 316+$a,6);
			}
			$a=$a-22; 
			$this->fpdf->SetFont('Arial','B',$__FONT['PDF']['SIZE']);
			$this->fpdf->Text(11, 381+$a, "Treatment");
			$this->fpdf->SetFont('Arial','',$__FONT['PDF']['SIZE']);
			
			$this->fpdf->Text(11, 391+$a, "1) Cleanse with");
			$this->fpdf->Text(11, 401+$a, "2) Pat Dry with");
			$this->fpdf->Text(11, 411+$a, "3) Apply");
			$this->fpdf->Text(11, 421+$a, "4) Cover with");
			$this->fpdf->Text(11, 431+$a, "5) Secure with");
			$this->fpdf->Text(11, 441+$a, "Comments");
	
			$this->fpdf->SetFont('Courier','B',$__FONT['PDF']['FORM_MEDIUM']);
			$this->fpdf->Text(80, 391+$a, @$snwa->WS3TreatCleanse);
			$this->fpdf->Text(80, 401+$a, @$snwa->WS3TreatPatDry);
			$this->fpdf->Text(80, 411+$a, @$snwa->WS3TreatApply);
			$this->fpdf->Text(80, 421+$a, @$snwa->WS3TreatCover);
			$this->fpdf->Text(80, 431+$a, @$snwa->WS3TreatSecure);
			
			$this->fpdf->SetFont('Courier','B',$__FONT['PDF']['FORM_MEDIUM']);
	
			$this->fpdf->Line(8, 392+$a, 584, 392+$a);
			$this->fpdf->Line(8, 402+$a, 584, 402+$a);
			$this->fpdf->Line(8, 412+$a, 584, 412+$a);
			$this->fpdf->Line(8, 422+$a, 584, 422+$a);
			$this->fpdf->Line(8, 432+$a, 584, 432+$a);
			$this->fpdf->Line(77, 442+$a, 580, 442+$a);
					
			$this->fpdf->SetXY(77, 433+$a);
			$this->fpdf->MultiCell(498, 10, substr(@$snwa->WS3TreatComments, 0, 162));
			$this->fpdf->Line(8, 456+$a, 584, 456+$a);
			####################################
	
	
	
			####################################
			$a=-16;
	
			$this->fpdf->SetFont('Arial','B',$__FONT['PDF']['SIZE']);
			$this->fpdf->Text(11, 257+$a, "WOUND SITE 4: ");
			
			$this->fpdf->SetFont('Courier','B',$__FONT['PDF']['FORM_MEDIUM']);
			$this->fpdf->Text(85, 257+$a, @$snwa->WS4Site4);
			
			$this->fpdf->SetFont('Arial','',$__FONT['PDF']['SIZE']);
			$this->fpdf->Text(11, 267+$a, "Length:");
			$this->fpdf->Text(210, 267+$a, "Width:");
			
			$this->fpdf->SetFont('Courier','B',$__FONT['PDF']['FORM_MEDIUM']);
			$this->fpdf->Text(70, 267+$a, @$snwa->WS4Length);
			$this->fpdf->Text(240, 267+$a, @$snwa->WS4Width);
			
			$this->fpdf->SetFont('Arial','',$__FONT['PDF']['SIZE']);
			$this->fpdf->Text(11, 277+$a, "Undermining:");
			$this->fpdf->Text(210, 277+$a, "Depth:");
			$this->fpdf->Text(400, 277+$a, "Tunneling:");
	
			$this->fpdf->SetFont('Courier','B',$__FONT['PDF']['FORM_MEDIUM']);
			$this->fpdf->Text(70, 277+$a, @$snwa->WS4Under);
			$this->fpdf->Text(240, 277+$a, @$snwa->WS4Depth);
			$this->fpdf->Text(445, 277+$a, @$snwa->WS4Tunnel);
			
			
			$this->fpdf->Line(8, 280+$a, 584, 280+$a);
	//		
			$this->fpdf->Line(304, 280+$a, 304, 326+$a);
	//
	
			$this->fpdf->SetFont('Arial','B',$__FONT['PDF']['SIZE']);
			$this->fpdf->Text(11, 289+$a, "Drainage");
			$this->fpdf->SetFont('Arial','',$__FONT['PDF']['SIZE']);
			
			$this->fpdf->Rect(11, 292+$a, 8.4, 8.4);
			$this->fpdf->Text(23, 300+$a, "Serous");
			if (@$snwa->WS4DrainSerous == 1) {
				$this->fpdf->Image( $path_ticket, 12, 293+$a,6);
			}
			$this->fpdf->Rect(85, 292+$a, 8.4, 8.4);
			$this->fpdf->Text(97, 300+$a, "Serosang");
			if (@$snwa->WS4DrainSerosang == 1) {
				$this->fpdf->Image( $path_ticket, 86, 293+$a,6);
			}
		
			
			$this->fpdf->Rect(160, 292+$a, 8.4, 8.4);
			$this->fpdf->Text(172, 300+$a, "Purulent");
			if (@$snwa->WS4DrainPurulent == 1) {
				$this->fpdf->Image( $path_ticket, 161, 293+$a,6);
			}
			
		   /////////////////////////////////////  
	  
		   
			$this->fpdf->Line(8, 303+$a, 584, 303+$a);
	
			$this->fpdf->SetFont('Arial','B',$__FONT['PDF']['SIZE']);
			$this->fpdf->Text(11, 312+$a, "Wound Bed Appearance");
			$this->fpdf->SetFont('Arial','',$__FONT['PDF']['SIZE']);
			
			$this->fpdf->Rect(11, 315+$a, 8.4, 8.4);
			$this->fpdf->Text(23, 323+$a, "Granulation");
			if (@$snwa->WS4WoBeApGranul == 1) {
				$this->fpdf->Image( $path_ticket, 12, 316+$a,6);
			}
	
			$this->fpdf->Rect(85, 315+$a, 8.4, 8.4);
			$this->fpdf->Text(97, 323+$a, "Slough");
			if (@$snwa->WS4WoBeApSlough == 1) {
				$this->fpdf->Image( $path_ticket, 86, 316+$a, 6);
			}
			
			$this->fpdf->Rect(160, 315+$a, 8.4, 8.4);
			$this->fpdf->Text(172, 323+$a, "Eschar");
			if (@$snwa->WS4WoBeApEschar == 1) {
				$this->fpdf->Image( $path_ticket, 161, 316+$a,6);
			}
			
			$this->fpdf->Rect(230, 315+$a, 8.4, 8.4);
			$this->fpdf->Text(242, 323+$a, "Fibrotic");
			if (@$snwa->WS4WoBeApFibrotic == 1) {
				$this->fpdf->Image( $path_ticket, 231, 316+$a,6);
			}
			 
	 //		
			$this->fpdf->Line(145, 326+$a, 145, 349+$a);
	//	        
			$this->fpdf->Line(8, 326+$a, 584, 326+$a);
		
			$this->fpdf->SetFont('Arial','B',$__FONT['PDF']['SIZE']);
			$this->fpdf->Text(11, 335+$a, "Surrounding Tissue");
			$this->fpdf->SetFont('Arial','',$__FONT['PDF']['SIZE']);
			$this->fpdf->Rect(11, 338+$a, 8.4, 8.4);
			$this->fpdf->Text(23, 346+$a, "Erythema");
			if (@$snwa->WS4SuTiErythema == 1) {
				$this->fpdf->Image( $path_ticket, 12, 339+$a,6);
			}
			$this->fpdf->Rect(85, 338+$a, 8.4, 8.4);
			$this->fpdf->Text(97, 346+$a, "Maceration");
			if (@$snwa->WS4SuTiMaceration == 1) {
				$this->fpdf->Image( $path_ticket, 86, 339+$a, 6);
			}
				  
			$this->fpdf->Line(8, 349+$a, 584, 349+$a);
			
			$this->fpdf->SetFont('Arial','B',$__FONT['PDF']['SIZE']);
			$this->fpdf->Text(148, 335+$a, "Signs/Symptoms of Infection");
			$this->fpdf->SetFont('Arial','',$__FONT['PDF']['SIZE']);
			
			$this->fpdf->Rect(148, 338+$a, 8.4, 8.4);
			$this->fpdf->Text(160, 346+$a, "Fever");
			if (@$snwa->WS4SignInfectFever == 1) {
				$this->fpdf->Image( $path_ticket, 149, 339+$a,6);
			}
			
			$this->fpdf->Rect(200, 338+$a, 8.4, 8.4);
			$this->fpdf->Text(212, 346+$a, "Redness");
			if (@$snwa->WS4SignInfectRedness == 1) {
				$this->fpdf->Image( $path_ticket, 201, 339+$a, 6);
			}
			
			$this->fpdf->Rect(270, 338+$a, 8.4, 8.4);
			$this->fpdf->Text(282, 346+$a, "Swelling");
			if (@$snwa->WS4SignInfectSwelling == 1) {
				$this->fpdf->Image( $path_ticket, 271, 339+$a,6);
			}
			
			$this->fpdf->Rect(340, 338+$a, 8.4, 8.4);
			$this->fpdf->Text(352, 346+$a, "Warmth");
			if (@$snwa->WS4SignInfectWarmth == 1) {
				$this->fpdf->Image( $path_ticket, 341, 339+$a,6);
			}
			
			$this->fpdf->Rect(410, 338+$a, 8.4, 8.4);
			$this->fpdf->Text(422, 346+$a, "Other");
			if (@$snwa->WS4SignInfectOther == 1) {
				$this->fpdf->Image( $path_ticket, 411, 339+$a,6);
			}
	
			$this->fpdf->Rect(480, 338+$a, 8.4, 8.4);
			$this->fpdf->Text(492, 346+$a, "N/A");
			if (@$snwa->WS4SignInfectNA == 1) {
				$this->fpdf->Image( $path_ticket, 481, 339+$a,6);
			}
			
			 
			////$this->fpdf->Line(8, 372+$a, 584, 372+$a);
	  
			$this->fpdf->SetFont('Arial','B',$__FONT['PDF']['SIZE']);
			$this->fpdf->Text(312, 289+$a, "Amount");
			$this->fpdf->SetFont('Arial','',$__FONT['PDF']['SIZE']);
			
			$this->fpdf->Rect(312, 292+$a, 8.4, 8.4);
			$this->fpdf->Text(324, 300+$a, "Small");
			if (@$snwa->WS4AmtSmall == 1) {
				$this->fpdf->Image( $path_ticket, 313, 293+$a,6);
			}
			
			$this->fpdf->Rect(385, 292+$a, 8.4, 8.4);
			$this->fpdf->Text(397, 300+$a, "Moderate");
			if (@$snwa->WS4AmtMod == 1) {
				$this->fpdf->Image( $path_ticket, 386, 293+$a,6);
			}
			
			$this->fpdf->Rect(460, 292+$a, 8.4, 8.4);
			$this->fpdf->Text(472, 300+$a, "Large");
			if (@$snwa->WS4AmtLarge == 1) {
				$this->fpdf->Image( $path_ticket, 461, 293+$a,6);
			}
	
			$this->fpdf->SetFont('Arial','B',$__FONT['PDF']['SIZE']);
			$this->fpdf->Text(312, 312+$a, "Odor");
			$this->fpdf->SetFont('Arial','',$__FONT['PDF']['SIZE']);
			
			$this->fpdf->Rect(312, 315+$a, 8.4, 8.4);
			$this->fpdf->Text(324, 323+$a, "None");
			if (@$snwa->WS4OdorNone == 1) {
				$this->fpdf->Image( $path_ticket, 313, 316+$a,6);
			}
			
			$this->fpdf->Rect(385, 315+$a, 8.4, 8.4);
			$this->fpdf->Text(397, 323+$a, "Mild");
			if (@$snwa->WS4OdorMild == 1) {
				$this->fpdf->Image( $path_ticket, 386, 316+$a,6);
			}
			
			$this->fpdf->Rect(460, 315+$a, 8.4, 8.4);
			$this->fpdf->Text(472, 323+$a, "Foul");
			if (@$snwa->WS4OdorFoul == 1) {
				$this->fpdf->Image( $path_ticket, 461, 316+$a,6);
			}
			$a=$a-22; 
			$this->fpdf->SetFont('Arial','B',$__FONT['PDF']['SIZE']);
			$this->fpdf->Text(11, 381+$a, "Treatment");
			$this->fpdf->SetFont('Arial','',$__FONT['PDF']['SIZE']);
			
			$this->fpdf->Text(11, 391+$a, "1) Cleanse with");
			$this->fpdf->Text(11, 401+$a, "2) Pat Dry with");
			$this->fpdf->Text(11, 411+$a, "3) Apply");
			$this->fpdf->Text(11, 421+$a, "4) Cover with");
			$this->fpdf->Text(11, 431+$a, "5) Secure with");
			$this->fpdf->Text(11, 441+$a, "Comments");
	
			$this->fpdf->SetFont('Courier','B',$__FONT['PDF']['FORM_MEDIUM']);
			$this->fpdf->Text(80, 391+$a, @$snwa->WS4TreatCleanse);
			$this->fpdf->Text(80, 401+$a, @$snwa->WS4TreatPatDry);
			$this->fpdf->Text(80, 411+$a, @$snwa->WS4TreatApply);
			$this->fpdf->Text(80, 421+$a, @$snwa->WS4TreatCover);
			$this->fpdf->Text(80, 431+$a, @$snwa->WS4TreatSecure);
			
			$this->fpdf->SetFont('Courier','B',$__FONT['PDF']['FORM_MEDIUM']);
	
			$this->fpdf->Line(8, 392+$a, 584, 392+$a);
			$this->fpdf->Line(8, 402+$a, 584, 402+$a);
			$this->fpdf->Line(8, 412+$a, 584, 412+$a);
			$this->fpdf->Line(8, 422+$a, 584, 422+$a);
			$this->fpdf->Line(8, 432+$a, 584, 432+$a);
			$this->fpdf->Line(77, 442+$a, 580, 442+$a);
					
			$this->fpdf->SetXY(77, 433+$a);
			$this->fpdf->MultiCell(498, 10, substr(@$snwa->WS4TreatComments, 0, 162));
			$this->fpdf->Line(8, 456+$a, 584, 456+$a);
			####################################
	
	
			####################################
			$a=170;
	
			$this->fpdf->SetFont('Arial','B',$__FONT['PDF']['SIZE']);
			$this->fpdf->Text(11, 257+$a, "WOUND SITE 5: ");
			
			$this->fpdf->SetFont('Courier','B',$__FONT['PDF']['FORM_MEDIUM']);
			$this->fpdf->Text(85, 257+$a, @$snwa->WS5Site5);
			
			$this->fpdf->SetFont('Arial','',$__FONT['PDF']['SIZE']);
			$this->fpdf->Text(11, 267+$a, "Length:");
			$this->fpdf->Text(210, 267+$a, "Width:");
			
			$this->fpdf->SetFont('Courier','B',$__FONT['PDF']['FORM_MEDIUM']);
			$this->fpdf->Text(70, 267+$a, @$snwa->WS5Length);
			$this->fpdf->Text(240, 267+$a, @$snwa->WS5Width);
			
			$this->fpdf->SetFont('Arial','',$__FONT['PDF']['SIZE']);
			$this->fpdf->Text(11, 277+$a, "Undermining:");
			$this->fpdf->Text(210, 277+$a, "Depth:");
			$this->fpdf->Text(400, 277+$a, "Tunneling:");
	
			$this->fpdf->SetFont('Courier','B',$__FONT['PDF']['FORM_MEDIUM']);
			$this->fpdf->Text(70, 277+$a, @$snwa->WS5Under);
			$this->fpdf->Text(240, 277+$a, @$snwa->WS5Depth);
			$this->fpdf->Text(445, 277+$a, @$snwa->WS5Tunnel);
			
			
			$this->fpdf->Line(8, 280+$a, 584, 280+$a);
	//		
			$this->fpdf->Line(304, 280+$a, 304, 326+$a);
	//
	
			$this->fpdf->SetFont('Arial','B',$__FONT['PDF']['SIZE']);
			$this->fpdf->Text(11, 289+$a, "Drainage");
			$this->fpdf->SetFont('Arial','',$__FONT['PDF']['SIZE']);
			
			$this->fpdf->Rect(11, 292+$a, 8.4, 8.4);
			$this->fpdf->Text(23, 300+$a, "Serous");
			if (@$snwa->WS5DrainSerous == 1) {
				$this->fpdf->Image( $path_ticket, 12, 293+$a,6);
			}
			$this->fpdf->Rect(85, 292+$a, 8.4, 8.4);
			$this->fpdf->Text(97, 300+$a, "Serosang");
			if (@$snwa->WS5DrainSerosang == 1) {
				$this->fpdf->Image( $path_ticket, 86, 293+$a,6);
			}
		
			
			$this->fpdf->Rect(160, 292+$a, 8.4, 8.4);
			$this->fpdf->Text(172, 300+$a, "Purulent");
			if (@$snwa->WS5DrainPurulent == 1) {
				$this->fpdf->Image( $path_ticket, 161, 293+$a,6);
			}
			
		   /////////////////////////////////////  
	  
		   
			$this->fpdf->Line(8, 303+$a, 584, 303+$a);
	
			$this->fpdf->SetFont('Arial','B',$__FONT['PDF']['SIZE']);
			$this->fpdf->Text(11, 312+$a, "Wound Bed Appearance");
			$this->fpdf->SetFont('Arial','',$__FONT['PDF']['SIZE']);
			
			$this->fpdf->Rect(11, 315+$a, 8.4, 8.4);
			$this->fpdf->Text(23, 323+$a, "Granulation");
			if (@$snwa->WS5WoBeApGranul == 1) {
				$this->fpdf->Image( $path_ticket, 12, 316+$a,6);
			}
	
			$this->fpdf->Rect(85, 315+$a, 8.4, 8.4);
			$this->fpdf->Text(97, 323+$a, "Slough");
			if (@$snwa->WS5WoBeApSlough == 1) {
				$this->fpdf->Image( $path_ticket, 86, 316+$a, 6);
			}
			
			$this->fpdf->Rect(160, 315+$a, 8.4, 8.4);
			$this->fpdf->Text(172, 323+$a, "Eschar");
			if (@$snwa->WS5WoBeApEschar == 1) {
				$this->fpdf->Image( $path_ticket, 161, 316+$a,6);
			}
			
			$this->fpdf->Rect(230, 315+$a, 8.4, 8.4);
			$this->fpdf->Text(242, 323+$a, "Fibrotic");
			if (@$snwa->WS5WoBeApFibrotic == 1) {
				$this->fpdf->Image( $path_ticket, 231, 316+$a,6);
			}
			 
	 //		
			$this->fpdf->Line(145, 326+$a, 145, 349+$a);
	//	        
			$this->fpdf->Line(8, 326+$a, 584, 326+$a);
		
			$this->fpdf->SetFont('Arial','B',$__FONT['PDF']['SIZE']);
			$this->fpdf->Text(11, 335+$a, "Surrounding Tissue");
			$this->fpdf->SetFont('Arial','',$__FONT['PDF']['SIZE']);
			$this->fpdf->Rect(11, 338+$a, 8.4, 8.4);
			$this->fpdf->Text(23, 346+$a, "Erythema");
			if (@$snwa->WS5SuTiErythema == 1) {
				$this->fpdf->Image( $path_ticket, 12, 339+$a,6);
			}
			$this->fpdf->Rect(85, 338+$a, 8.4, 8.4);
			$this->fpdf->Text(97, 346+$a, "Maceration");
			if (@$snwa->WS5SuTiMaceration == 1) {
				$this->fpdf->Image( $path_ticket, 86, 339+$a, 6);
			}
				  
			$this->fpdf->Line(8, 349+$a, 584, 349+$a);
			
			$this->fpdf->SetFont('Arial','B',$__FONT['PDF']['SIZE']);
			$this->fpdf->Text(148, 335+$a, "Signs/Symptoms of Infection");
			$this->fpdf->SetFont('Arial','',$__FONT['PDF']['SIZE']);
			
			$this->fpdf->Rect(148, 338+$a, 8.4, 8.4);
			$this->fpdf->Text(160, 346+$a, "Fever");
			if (@$snwa->WS5SignInfectFever == 1) {
				$this->fpdf->Image( $path_ticket, 149, 339+$a,6);
			}
			
			$this->fpdf->Rect(200, 338+$a, 8.4, 8.4);
			$this->fpdf->Text(212, 346+$a, "Redness");
			if (@$snwa->WS5SignInfectRedness == 1) {
				$this->fpdf->Image( $path_ticket, 201, 339+$a, 6);
			}
			
			$this->fpdf->Rect(270, 338+$a, 8.4, 8.4);
			$this->fpdf->Text(282, 346+$a, "Swelling");
			if (@$snwa->WS5SignInfectSwelling == 1) {
				$this->fpdf->Image( $path_ticket, 271, 339+$a,6);
			}
			
			$this->fpdf->Rect(340, 338+$a, 8.4, 8.4);
			$this->fpdf->Text(352, 346+$a, "Warmth");
			if (@$snwa->WS5SignInfectWarmth == 1) {
				$this->fpdf->Image( $path_ticket, 341, 339+$a,6);
			}
			
			$this->fpdf->Rect(410, 338+$a, 8.4, 8.4);
			$this->fpdf->Text(422, 346+$a, "Other");
			if (@$snwa->WS5SignInfectOther == 1) {
				$this->fpdf->Image( $path_ticket, 411, 339+$a,6);
			}
	
			$this->fpdf->Rect(480, 338+$a, 8.4, 8.4);
			$this->fpdf->Text(492, 346+$a, "N/A");
			if (@$snwa->WS5SignInfectNA == 1) {
				$this->fpdf->Image( $path_ticket, 481, 339+$a,6);
			}
			
			 
			////$this->fpdf->Line(8, 372+$a, 584, 372+$a);
	  
			$this->fpdf->SetFont('Arial','B',$__FONT['PDF']['SIZE']);
			$this->fpdf->Text(312, 289+$a, "Amount");
			$this->fpdf->SetFont('Arial','',$__FONT['PDF']['SIZE']);
			
			$this->fpdf->Rect(312, 292+$a, 8.4, 8.4);
			$this->fpdf->Text(324, 300+$a, "Small");
			if (@$snwa->WS5AmtSmall == 1) {
				$this->fpdf->Image( $path_ticket, 313, 293+$a,6);
			}
			
			$this->fpdf->Rect(385, 292+$a, 8.4, 8.4);
			$this->fpdf->Text(397, 300+$a, "Moderate");
			if (@$snwa->WS5AmtMod == 1) {
				$this->fpdf->Image( $path_ticket, 386, 293+$a,6);
			}
			
			$this->fpdf->Rect(460, 292+$a, 8.4, 8.4);
			$this->fpdf->Text(472, 300+$a, "Large");
			if (@$snwa->WS5AmtLarge == 1) {
				$this->fpdf->Image( $path_ticket, 461, 293+$a,6);
			}
	
			$this->fpdf->SetFont('Arial','B',$__FONT['PDF']['SIZE']);
			$this->fpdf->Text(312, 312+$a, "Odor");
			$this->fpdf->SetFont('Arial','',$__FONT['PDF']['SIZE']);
			
			$this->fpdf->Rect(312, 315+$a, 8.4, 8.4);
			$this->fpdf->Text(324, 323+$a, "None");
			if (@$snwa->WS5OdorNone == 1) {
				$this->fpdf->Image( $path_ticket, 313, 316+$a,6);
			}
			
			$this->fpdf->Rect(385, 315+$a, 8.4, 8.4);
			$this->fpdf->Text(397, 323+$a, "Mild");
			if (@$snwa->WS5OdorMild == 1) {
				$this->fpdf->Image( $path_ticket, 386, 316+$a,6);
			}
			
			$this->fpdf->Rect(460, 315+$a, 8.4, 8.4);
			$this->fpdf->Text(472, 323+$a, "Foul");
			if (@$snwa->WS5OdorFoul == 1) {
				$this->fpdf->Image( $path_ticket, 461, 316+$a,6);
			}
			$a=$a-22; 
			$this->fpdf->SetFont('Arial','B',$__FONT['PDF']['SIZE']);
			$this->fpdf->Text(11, 381+$a, "Treatment");
			$this->fpdf->SetFont('Arial','',$__FONT['PDF']['SIZE']);
			
			$this->fpdf->Text(11, 391+$a, "1) Cleanse with");
			$this->fpdf->Text(11, 401+$a, "2) Pat Dry with");
			$this->fpdf->Text(11, 411+$a, "3) Apply");
			$this->fpdf->Text(11, 421+$a, "4) Cover with");
			$this->fpdf->Text(11, 431+$a, "5) Secure with");
			$this->fpdf->Text(11, 441+$a, "Comments");
	
			$this->fpdf->SetFont('Courier','B',$__FONT['PDF']['FORM_MEDIUM']);
			$this->fpdf->Text(80, 391+$a, @$snwa->WS5TreatCleanse);
			$this->fpdf->Text(80, 401+$a, @$snwa->WS5TreatPatDry);
			$this->fpdf->Text(80, 411+$a, @$snwa->WS5TreatApply);
			$this->fpdf->Text(80, 421+$a, @$snwa->WS5TreatCover);
			$this->fpdf->Text(80, 431+$a, @$snwa->WS5TreatSecure);
			
			$this->fpdf->SetFont('Courier','B',$__FONT['PDF']['FORM_MEDIUM']);
	
			$this->fpdf->Line(8, 392+$a, 584, 392+$a);
			$this->fpdf->Line(8, 402+$a, 584, 402+$a);
			$this->fpdf->Line(8, 412+$a, 584, 412+$a);
			$this->fpdf->Line(8, 422+$a, 584, 422+$a);
			$this->fpdf->Line(8, 432+$a, 584, 432+$a);
			$this->fpdf->Line(77, 442+$a, 580, 442+$a);
					
			$this->fpdf->SetXY(77, 433+$a);
			$this->fpdf->MultiCell(498, 10, substr(@$snwa->WS5TreatComments, 0, 162));
			$this->fpdf->Line(8, 456+$a, 584, 456+$a);
			####################################
			
			####################################
			$a=357;
	
			$this->fpdf->SetFont('Arial','B',$__FONT['PDF']['SIZE']);
			$this->fpdf->Text(11, 257+$a, "WOUND SITE 6: ");
			
			$this->fpdf->SetFont('Courier','B',$__FONT['PDF']['FORM_MEDIUM']);
			$this->fpdf->Text(85, 257+$a, @$snwa->WS6Site6);
			
			$this->fpdf->SetFont('Arial','',$__FONT['PDF']['SIZE']);
			$this->fpdf->Text(11, 267+$a, "Length:");
			$this->fpdf->Text(210, 267+$a, "Width:");
			
			$this->fpdf->SetFont('Courier','B',$__FONT['PDF']['FORM_MEDIUM']);
			$this->fpdf->Text(70, 267+$a, @$snwa->WS6Length);
			$this->fpdf->Text(240, 267+$a, @$snwa->WS6Width);
			
			$this->fpdf->SetFont('Arial','',$__FONT['PDF']['SIZE']);
			$this->fpdf->Text(11, 277+$a, "Undermining:");
			$this->fpdf->Text(210, 277+$a, "Depth:");
			$this->fpdf->Text(400, 277+$a, "Tunneling:");
	
			$this->fpdf->SetFont('Courier','B',$__FONT['PDF']['FORM_MEDIUM']);
			$this->fpdf->Text(70, 277+$a, @$snwa->WS6Under);
			$this->fpdf->Text(240, 277+$a, @$snwa->WS6Depth);
			$this->fpdf->Text(445, 277+$a, @$snwa->WS6Tunnel);
			
			
			$this->fpdf->Line(8, 280+$a, 584, 280+$a);
	//		
			$this->fpdf->Line(304, 280+$a, 304, 326+$a);
	//
	
			$this->fpdf->SetFont('Arial','B',$__FONT['PDF']['SIZE']);
			$this->fpdf->Text(11, 289+$a, "Drainage");
			$this->fpdf->SetFont('Arial','',$__FONT['PDF']['SIZE']);
			
			$this->fpdf->Rect(11, 292+$a, 8.4, 8.4);
			$this->fpdf->Text(23, 300+$a, "Serous");
			if (@$snwa->WS6DrainSerous == 1) {
				$this->fpdf->Image( $path_ticket, 12, 293+$a,6);
			}
			$this->fpdf->Rect(85, 292+$a, 8.4, 8.4);
			$this->fpdf->Text(97, 300+$a, "Serosang");
			if (@$snwa->WS6DrainSerosang == 1) {
				$this->fpdf->Image( $path_ticket, 86, 293+$a,6);
			}
		
			
			$this->fpdf->Rect(160, 292+$a, 8.4, 8.4);
			$this->fpdf->Text(172, 300+$a, "Purulent");
			if (@$snwa->WS6DrainPurulent == 1) {
				$this->fpdf->Image( $path_ticket, 161, 293+$a,6);
			}
			
		   /////////////////////////////////////  
	  
		   
			$this->fpdf->Line(8, 303+$a, 584, 303+$a);
	
			$this->fpdf->SetFont('Arial','B',$__FONT['PDF']['SIZE']);
			$this->fpdf->Text(11, 312+$a, "Wound Bed Appearance");
			$this->fpdf->SetFont('Arial','',$__FONT['PDF']['SIZE']);
			
			$this->fpdf->Rect(11, 315+$a, 8.4, 8.4);
			$this->fpdf->Text(23, 323+$a, "Granulation");
			if (@$snwa->WS6WoBeApGranul == 1) {
				$this->fpdf->Image( $path_ticket, 12, 316+$a,6);
			}
	
			$this->fpdf->Rect(85, 315+$a, 8.4, 8.4);
			$this->fpdf->Text(97, 323+$a, "Slough");
			if (@$snwa->WS6WoBeApSlough == 1) {
				$this->fpdf->Image( $path_ticket, 86, 316+$a, 6);
			}
			
			$this->fpdf->Rect(160, 315+$a, 8.4, 8.4);
			$this->fpdf->Text(172, 323+$a, "Eschar");
			if (@$snwa->WS6WoBeApEschar == 1) {
				$this->fpdf->Image( $path_ticket, 161, 316+$a,6);
			}
			
			$this->fpdf->Rect(230, 315+$a, 8.4, 8.4);
			$this->fpdf->Text(242, 323+$a, "Fibrotic");
			if (@$snwa->WS6WoBeApFibrotic == 1) {
				$this->fpdf->Image( $path_ticket, 231, 316+$a,6);
			}
			 
	 //		
			$this->fpdf->Line(145, 326+$a, 145, 349+$a);
	//	        
			$this->fpdf->Line(8, 326+$a, 584, 326+$a);
		
			$this->fpdf->SetFont('Arial','B',$__FONT['PDF']['SIZE']);
			$this->fpdf->Text(11, 335+$a, "Surrounding Tissue");
			$this->fpdf->SetFont('Arial','',$__FONT['PDF']['SIZE']);
			$this->fpdf->Rect(11, 338+$a, 8.4, 8.4);
			$this->fpdf->Text(23, 346+$a, "Erythema");
			if (@$snwa->WS6SuTiErythema == 1) {
				$this->fpdf->Image( $path_ticket, 12, 339+$a,6);
			}
			$this->fpdf->Rect(85, 338+$a, 8.4, 8.4);
			$this->fpdf->Text(97, 346+$a, "Maceration");
			if (@$snwa->WS6SuTiMaceration == 1) {
				$this->fpdf->Image( $path_ticket, 86, 339+$a, 6);
			}
				  
			$this->fpdf->Line(8, 349+$a, 584, 349+$a);
			
			$this->fpdf->SetFont('Arial','B',$__FONT['PDF']['SIZE']);
			$this->fpdf->Text(148, 335+$a, "Signs/Symptoms of Infection");
			$this->fpdf->SetFont('Arial','',$__FONT['PDF']['SIZE']);
			
			$this->fpdf->Rect(148, 338+$a, 8.4, 8.4);
			$this->fpdf->Text(160, 346+$a, "Fever");
			if (@$snwa->WS6SignInfectFever == 1) {
				$this->fpdf->Image( $path_ticket, 149, 339+$a,6);
			}
			
			$this->fpdf->Rect(200, 338+$a, 8.4, 8.4);
			$this->fpdf->Text(212, 346+$a, "Redness");
			if (@$snwa->WS6SignInfectRedness == 1) {
				$this->fpdf->Image( $path_ticket, 201, 339+$a, 6);
			}
			
			$this->fpdf->Rect(270, 338+$a, 8.4, 8.4);
			$this->fpdf->Text(282, 346+$a, "Swelling");
			if (@$snwa->WS6SignInfectSwelling == 1) {
				$this->fpdf->Image( $path_ticket, 271, 339+$a,6);
			}
			
			$this->fpdf->Rect(340, 338+$a, 8.4, 8.4);
			$this->fpdf->Text(352, 346+$a, "Warmth");
			if (@$snwa->WS6SignInfectWarmth == 1) {
				$this->fpdf->Image( $path_ticket, 341, 339+$a,6);
			}
			
			$this->fpdf->Rect(410, 338+$a, 8.4, 8.4);
			$this->fpdf->Text(422, 346+$a, "Other");
			if (@$snwa->WS6SignInfectOther == 1) {
				$this->fpdf->Image( $path_ticket, 411, 339+$a,6);
			}
	
			$this->fpdf->Rect(480, 338+$a, 8.4, 8.4);
			$this->fpdf->Text(492, 346+$a, "N/A");
			if (@$snwa->WS6SignInfectNA == 1) {
				$this->fpdf->Image( $path_ticket, 481, 339+$a,6);
			}
			
			 
			////$this->fpdf->Line(8, 372+$a, 584, 372+$a);
	  
			$this->fpdf->SetFont('Arial','B',$__FONT['PDF']['SIZE']);
			$this->fpdf->Text(312, 289+$a, "Amount");
			$this->fpdf->SetFont('Arial','',$__FONT['PDF']['SIZE']);
			
			$this->fpdf->Rect(312, 292+$a, 8.4, 8.4);
			$this->fpdf->Text(324, 300+$a, "Small");
			if (@$snwa->WS6AmtSmall == 1) {
				$this->fpdf->Image( $path_ticket, 313, 293+$a,6);
			}
			
			$this->fpdf->Rect(385, 292+$a, 8.4, 8.4);
			$this->fpdf->Text(397, 300+$a, "Moderate");
			if (@$snwa->WS6AmtMod == 1) {
				$this->fpdf->Image( $path_ticket, 386, 293+$a,6);
			}
			
			$this->fpdf->Rect(460, 292+$a, 8.4, 8.4);
			$this->fpdf->Text(472, 300+$a, "Large");
			if (@$snwa->WS6AmtLarge == 1) {
				$this->fpdf->Image( $path_ticket, 461, 293+$a,6);
			}
	
			$this->fpdf->SetFont('Arial','B',$__FONT['PDF']['SIZE']);
			$this->fpdf->Text(312, 312+$a, "Odor");
			$this->fpdf->SetFont('Arial','',$__FONT['PDF']['SIZE']);
			
			$this->fpdf->Rect(312, 315+$a, 8.4, 8.4);
			$this->fpdf->Text(324, 323+$a, "None");
			if (@$snwa->WS6OdorNone == 1) {
				$this->fpdf->Image( $path_ticket, 313, 316+$a,6);
			}
			
			$this->fpdf->Rect(385, 315+$a, 8.4, 8.4);
			$this->fpdf->Text(397, 323+$a, "Mild");
			if (@$snwa->WS6OdorMild == 1) {
				$this->fpdf->Image( $path_ticket, 386, 316+$a,6);
			}
			
			$this->fpdf->Rect(460, 315+$a, 8.4, 8.4);
			$this->fpdf->Text(472, 323+$a, "Foul");
			if (@$snwa->WS6OdorFoul == 1) {
				$this->fpdf->Image( $path_ticket, 461, 316+$a,6);
			}
			$a=$a-22; 
			$this->fpdf->SetFont('Arial','B',$__FONT['PDF']['SIZE']);
			$this->fpdf->Text(11, 381+$a, "Treatment");
			$this->fpdf->SetFont('Arial','',$__FONT['PDF']['SIZE']);
			
			$this->fpdf->Text(11, 391+$a, "1) Cleanse with");
			$this->fpdf->Text(11, 401+$a, "2) Pat Dry with");
			$this->fpdf->Text(11, 411+$a, "3) Apply");
			$this->fpdf->Text(11, 421+$a, "4) Cover with");
			$this->fpdf->Text(11, 431+$a, "5) Secure with");
			$this->fpdf->Text(11, 441+$a, "Comments");
	
			$this->fpdf->SetFont('Courier','B',$__FONT['PDF']['FORM_MEDIUM']);
			$this->fpdf->Text(80, 391+$a, @$snwa->WS6TreatCleanse);
			$this->fpdf->Text(80, 401+$a, @$snwa->WS6TreatPatDry);
			$this->fpdf->Text(80, 411+$a, @$snwa->WS6TreatApply);
			$this->fpdf->Text(80, 421+$a, @$snwa->WS6TreatCover);
			$this->fpdf->Text(80, 431+$a, @$snwa->WS6TreatSecure);
			
			$this->fpdf->SetFont('Courier','B',$__FONT['PDF']['FORM_MEDIUM']);
	
			$this->fpdf->Line(8, 392+$a, 584, 392+$a);
			$this->fpdf->Line(8, 402+$a, 584, 402+$a);
			$this->fpdf->Line(8, 412+$a, 584, 412+$a);
			$this->fpdf->Line(8, 422+$a, 584, 422+$a);
			$this->fpdf->Line(8, 432+$a, 584, 432+$a);
			$this->fpdf->Line(77, 442+$a, 580, 442+$a);
					
			$this->fpdf->SetXY(77, 433+$a);
			$this->fpdf->MultiCell(498, 10, substr(@$snwa->WS6TreatComments, 0, 162));
			$this->fpdf->Line(8, 456+$a, 584, 456+$a);
			####################################		
		}

        $cero_x = 11;

        $cero_y = 2;
 
        ####### PAGE 4 ###########
        if (strlen(@$snpn->additional_comments)>0)
		{
			$this->fpdf->AddPage();
	
			
	
			$this->fpdf->SetDrawColor(130,100);
		
			$this->fpdf->Text(( $cero_x + 240),( $cero_y + 22 ),"ADDENDUM"); 		
			
			
			$this->fpdf->Rect(8,28, 577, 763);
			  
			$cero_y = 8;
	
			$this->fpdf->SetTextColor(0,0,0);
	
			$this->fpdf->SetFont('Arial','', $__FONT['PDF']['FORM_SMALL']);
	
			$this->fpdf->Text(( $cero_x + 0),( $cero_y + 32 ),"Patient Name: ");
	
			
	
			$this->fpdf->SetFont('Arial','B', $__FONT['PDF']['FORM_SMALL']);
	
			$this->fpdf->Text(( $cero_x + 60),( $cero_y + 32 ), $patient->first_name . " " . $patient->last_name); // pacient name
	
			
	
			$this->fpdf->SetFont('Arial','',$__FONT['PDF']['FORM_SMALL']);
	
			$this->fpdf->SetTextColor(0,0,0);
	
	
	
			$this->fpdf->SetDrawColor(130,100);
	
			$this->fpdf->Text(( $cero_x + 230),( $cero_y + 32 ),"Medical Rec#: ");
	
			
	
			$this->fpdf->SetFont('Arial','B',$__FONT['PDF']['FORM_SMALL']);
	
			$this->fpdf->Text(( $cero_x + 290),( $cero_y + 32 ),  $patient->medical_rec_nbr); // medicare id
	
			
					
			$this->fpdf->SetFont('Arial','',$__FONT['PDF']['FORM_SMALL']);
	
					$this->fpdf->Text(( $cero_x + 395 +20),( $cero_y + 32 ), "VISIT DATE: " . standard_date(mysql_to_unix($visit_log->visited_date)));

			
	
			#############################################33



			$this->fpdf->Line(8, 75, 584, 75);
			$this->fpdf->Line(8, 85, 584, 85);
			$this->fpdf->Line(8, 95, 584, 95);
			$this->fpdf->Line(8, 105, 584, 105);
			$this->fpdf->Line(8, 115, 584, 115);
			$this->fpdf->Line(8, 125, 584, 125);
			$this->fpdf->Line(8, 135, 584, 135);
			$this->fpdf->Line(8, 145, 584, 145);
			$this->fpdf->Line(8, 155, 584, 155);
			$this->fpdf->Line(8, 165, 584, 165);
			$this->fpdf->Line(8, 175, 584, 175);
			$this->fpdf->Line(8, 185, 584, 185);
			$this->fpdf->Line(8, 195, 584, 195);
			$this->fpdf->Line(8, 205, 584, 205);
			
			$this->fpdf->Text(11, 54, "Additional Notes");	
			$this->fpdf->Line(8, 45, 584, 45);			
			$this->fpdf->SetXY(10, 66);
			$this->fpdf->MultiCell(570, 10, substr(@$snpn->additional_comments, 0, 4000));
	
		}
		
    //$this->fpdf->Output('snpn.pdf','D');
    
    $filename = FCPATH;
    $filename = str_replace("\\","/", $filename);
    $filename = $filename.'tmp/'.time().'_'.$visit_log_id.'_pq_snpn.pdf';
    
    
    $this->fpdf->Output($filename,'F');
    return $filename;		
	}

 }
